import{F as C}from"./Form-3cf2a9c9.js";import{searchProps as v,propsList as E}from"./index-8d0f4515.js";import{d as F,u as I,r as _,A as L,c as r,E as i,b as d,a as e,I as b,J as f,o as P,k as B,n as N,m as S,e as D,w as M,F as V}from"./index-25f977bd.js";import{u as h}from"./index-78f8fdf0.js";import"./input-47bd2329.js";import"./select-c0ccd356.js";import"./index-3a1da8d9.js";const x=1+1,A=F({name:"SearchForm"}),$=F({...A,props:{propsList:null},setup(R){const l=R,a=I("search-form"),t=_(),s=_(!1);function c(){const o=e(t).ElFormRef;return new Promise((n,u)=>{o.validate((w,y)=>{var g;w?n((g=e(t))==null?void 0:g.formData):u(y)})})}function p(){e(t).ElFormRef.resetFields()}function k(){var n;s.value=!e(s);const o=m.value.slice(x,1/0).map(({prop:u})=>({field:u,path:"isHidden",value:e(s)}));(n=e(t))==null||n.setSchema(o)}const m=L(()=>[...l.propsList,{render(){return r("aside",{class:[a.e("submit")]},[r(i,{type:"primary",icon:h({icon:"ep:search"}),onClick:()=>c()},{default:()=>[d("搜素")]}),r(i,{icon:h({icon:"ep:refresh"}),onClick:()=>p()},{default:()=>[d("重置")]}),m.value.length>x+1&&r(i,{text:!0,onClick:()=>{k()}},{default:()=>[r("span",null,[e(s)?"展开":"合并"]),r(b,{class:"ml-1",icon:e(s)?"ep:arrow-down":"ep:arrow-up"},null)]})])},colProps:{xs:24,sm:24,md:24,lg:24,xl:24}}].map(o=>({...o,componentProps:{class:"w-full",...f(o.componentProps)?o.componentProps:{}},formItemProps:{class:"w-full",...f(o.formItemProps)?o.formItemProps:{}},colProps:f(o.colProps)?o.colProps:{xs:24,sm:12,md:12,lg:8,xl:6}})));return(o,n)=>e(m).length>1?(P(),B(e(C),{key:0,inline:"","is-col":!0,class:N(e(a).b()),"props-list":e(m),ref_key:"FormRef",ref:t},null,8,["class","props-list"])):S("",!0)}});const G=F({__name:"Form",setup(R){const l=_(),a=()=>{var s,c,p;const t=(s=e(l))==null?void 0:s.getComponentRef();(p=(c=e(t))==null?void 0:c.AutocompleteRef)==null||p.focus()};return(t,s)=>(P(),D(V,null,[r($,{"props-list":e(v)},null,8,["props-list"]),r(e(i),{onClick:a},{default:M(()=>[d("使用Ref设置焦点")]),_:1}),r(e(C),{ref_key:"FormRef",ref:l,"props-list":e(E)},null,8,["props-list"])],64))}});export{G as default};
