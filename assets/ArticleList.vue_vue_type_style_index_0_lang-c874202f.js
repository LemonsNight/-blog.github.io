import{u as f,a as h}from"./useDesign-f274d1dc.js";import{d as y,r as b,q as v,l as x,o as u,e as g,F as C,s as D,n as _,a as p,g as n,t as l}from"./index-9c6dccb9.js";import{d as k}from"./dayjs.min-0abdbb58.js";function L(c){const r=/<img\s+src=(?:"|')(.+?)(?:"|')\s+data-title=(?:"|').+?(?:"|')/gi,o=[];let t;for(;t=r.exec(c);){const i=t[1];o.push(i)}return o}function Y(c){const r=/<img[^>]*>/gi;return c.replace(r,"")}const q=["onClick"],w=y({__name:"ArticleList",setup(c){const{getPrefixCls:r}=f(),o=r("blog-article"),t=b(),i=v(),d=async()=>{const a=await h({});a.forEach(s=>{const e=L(s.body);s._headerImg=e.length?e:"",s._createTime=k(s.created_at).format("YYYY年MM月DD日 hh时m分s秒"),s._body=Y(s.body)}),t.value=a,console.log(t.value)},m=a=>{i.push({path:"/blog/blogDetail",query:{id:a.number}})};return x(()=>{d()}),(a,s)=>(u(),g("div",{class:_([p(o)])},[(u(!0),g(C,null,D(t.value,e=>(u(),g("article",{class:_([`${p(o)}-item`]),key:e.id},[n("h4",null,[n("span",{onClick:B=>m(e)},l(e.title),9,q)]),n("p",null,"作者："+l(e.user.login),1),n("p",null,"时间："+l(e._createTime),1),n("p",null,"介绍："+l(e._body),1)],2))),128))],2))}});export{w as _};
