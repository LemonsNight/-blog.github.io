import{T as an,U as ao,V as Fl,W as zt,X as Dr,Y as Ir,Z as Sn,D as Se,$ as Rl,G as re,a0 as Re,a1 as tt,a2 as Dn,r as K,L as k,d as ce,a3 as Lt,u as be,a4 as ge,a5 as yt,a6 as at,z as nt,a7 as Mt,a8 as wa,o as $,e as j,H as Ie,n as w,a as l,J as Ve,a9 as ft,aa as xe,ab as bn,ac as Nn,l as ut,ad as Sa,ae as Na,af as Ll,c as G,F as $e,ag as Ee,ah as ln,ai as Jo,aj as Pr,ak as ua,al as Aa,w as le,A as de,am as ot,I as De,b as ct,t as me,m as ue,g as ee,an as Qo,K as Et,ao as Bl,ap as it,aq as _l,ar as Be,as as Ft,at as pt,au as Vt,av as $a,aw as qt,ax as es,ay as Ea,az as Te,aA as Ta,s as Ke,O as bt,aB as Ue,aC as we,aD as Za,aE as Qt,i as Wt,aF as Tt,aG as lo,aH as Bn,aI as Rt,aJ as et,aK as Yt,aL as ts,aM as Ar,aN as Me,M as _e,aO as Kl,aP as Va,aQ as _t,aR as Fr,aS as Ze,aT as ns,aU as hn,aV as Ma,aW as vt,aX as Oa,aY as vn,C as Je,aZ as kt,a_ as oo,a$ as Rr,b0 as Lr,b1 as Br,b2 as Gn,b3 as as,b4 as _r,b5 as Kr,b6 as ls,N as lt,b7 as dt,v as jt,b8 as $t,b9 as yn,ba as xr,E as Ht,bb as xl,bc as da,bd as zr,be as en,bf as In,bg as ca,bh as Pn,bi as jr,bj as Hr,bk as qr,bl as os,bm as jn,bn as fa,bo as Ur,bp as Fa,bq as Wr,br as on,bs as Yr,bt as Gr,bu as zl,bv as It,bw as Xr,bx as Zr,by as so,P as Jr,Q as Qr,bz as ss,bA as ei,bB as Ra,bC as ti,bD as ni,bE as rs,bF as ai,bG as li,bH as oi,bI as si,bJ as ri,bK as ii,S as fn,bL as pa,bM as jl,bN as ui,f as Da,bO as di,bP as ro}from"./index-9c6dccb9.js";import{u as ci,E as St,i as is,a as fi}from"./input-296e721c.js";import{c as Ia,k as us,a as Hl,g as ds,s as pi,b as hi,d as vi,e as mi,f as cs,h as gi,i as ql,n as ha,j as fs,l as bi,m as yi,o as ki,p as Ci,S as wi,q as Si,r as ps,t as La,u as hs,v as Ni,w as $i,x as Ei,y as Ti,z as tn,A as Kt,E as nn,B as Vi,C as Ja,D as Mi,F as kn,G as Qa,H as va,I as ma,J as Oi,K as Di,L as Ii}from"./select-7518f6f2.js";import{C as Cn}from"./index-bf33b11a.js";import{d as ke}from"./dayjs.min-0abdbb58.js";import{u as Pi}from"./index-4c4e7da1.js";const Ul=e=>{let t,a;return e.type==="touchend"?(a=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(a=e.touches[0].clientY,t=e.touches[0].clientX):(a=e.clientY,t=e.clientX),{clientX:t,clientY:a}};function Ai(){}function Fi(e,t){for(var a=-1,n=e==null?0:e.length;++a<n&&t(e[a],a,e)!==!1;);return e}function Ri(e,t,a,n){for(var o=e.length,r=a+(n?1:-1);n?r--:++r<o;)if(t(e[r],r,e))return r;return-1}function Li(e){return e!==e}function Bi(e,t,a){for(var n=a-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function _i(e,t,a){return t===t?Bi(e,t,a):Ri(e,Li,a)}function Ki(e,t){var a=e==null?0:e.length;return!!a&&_i(e,t,0)>-1}function el(){if(!arguments.length)return[];var e=arguments[0];return an(e)?e:[e]}function xi(e,t){return e&&Ia(t,us(t),e)}function zi(e,t){return e&&Ia(t,Hl(t),e)}function ji(e,t){return Ia(e,ds(e),t)}var Hi=Object.getOwnPropertySymbols,qi=Hi?function(e){for(var t=[];e;)hi(t,ds(e)),e=vi(e);return t}:pi;const vs=qi;function Ui(e,t){return Ia(e,vs(e),t)}function Wi(e){return mi(e,Hl,vs)}var Yi=Object.prototype,Gi=Yi.hasOwnProperty;function Xi(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&Gi.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Zi(e,t){var a=t?cs(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}var Ji=/\w*$/;function Qi(e){var t=new e.constructor(e.source,Ji.exec(e));return t.lastIndex=e.lastIndex,t}var io=ao?ao.prototype:void 0,uo=io?io.valueOf:void 0;function eu(e){return uo?Object(uo.call(e)):{}}var tu="[object Boolean]",nu="[object Date]",au="[object Map]",lu="[object Number]",ou="[object RegExp]",su="[object Set]",ru="[object String]",iu="[object Symbol]",uu="[object ArrayBuffer]",du="[object DataView]",cu="[object Float32Array]",fu="[object Float64Array]",pu="[object Int8Array]",hu="[object Int16Array]",vu="[object Int32Array]",mu="[object Uint8Array]",gu="[object Uint8ClampedArray]",bu="[object Uint16Array]",yu="[object Uint32Array]";function ku(e,t,a){var n=e.constructor;switch(t){case uu:return cs(e);case tu:case nu:return new n(+e);case du:return Zi(e,a);case cu:case fu:case pu:case hu:case vu:case mu:case gu:case bu:case yu:return gi(e,a);case au:return new n;case lu:case ru:return new n(e);case ou:return Qi(e);case su:return new n;case iu:return eu(e)}}var Cu="[object Map]";function wu(e){return Fl(e)&&ql(e)==Cu}var co=ha&&ha.isMap,Su=co?fs(co):wu;const Nu=Su;var $u="[object Set]";function Eu(e){return Fl(e)&&ql(e)==$u}var fo=ha&&ha.isSet,Tu=fo?fs(fo):Eu;const Vu=Tu;var Mu=1,Ou=2,Du=4,ms="[object Arguments]",Iu="[object Array]",Pu="[object Boolean]",Au="[object Date]",Fu="[object Error]",gs="[object Function]",Ru="[object GeneratorFunction]",Lu="[object Map]",Bu="[object Number]",bs="[object Object]",_u="[object RegExp]",Ku="[object Set]",xu="[object String]",zu="[object Symbol]",ju="[object WeakMap]",Hu="[object ArrayBuffer]",qu="[object DataView]",Uu="[object Float32Array]",Wu="[object Float64Array]",Yu="[object Int8Array]",Gu="[object Int16Array]",Xu="[object Int32Array]",Zu="[object Uint8Array]",Ju="[object Uint8ClampedArray]",Qu="[object Uint16Array]",ed="[object Uint32Array]",Ge={};Ge[ms]=Ge[Iu]=Ge[Hu]=Ge[qu]=Ge[Pu]=Ge[Au]=Ge[Uu]=Ge[Wu]=Ge[Yu]=Ge[Gu]=Ge[Xu]=Ge[Lu]=Ge[Bu]=Ge[bs]=Ge[_u]=Ge[Ku]=Ge[xu]=Ge[zu]=Ge[Zu]=Ge[Ju]=Ge[Qu]=Ge[ed]=!0;Ge[Fu]=Ge[gs]=Ge[ju]=!1;function Vn(e,t,a,n,o,r){var s,i=t&Mu,d=t&Ou,f=t&Du;if(a&&(s=o?a(e,n,o,r):a(e)),s!==void 0)return s;if(!zt(e))return e;var p=an(e);if(p){if(s=Xi(e),!i)return bi(e,s)}else{var u=ql(e),c=u==gs||u==Ru;if(yi(e))return ki(e,i);if(u==bs||u==ms||c&&!o){if(s=d||c?{}:Ci(e),!i)return d?Ui(e,zi(s,e)):ji(e,xi(s,e))}else{if(!Ge[u])return o?e:{};s=ku(e,u,i)}}r||(r=new wi);var v=r.get(e);if(v)return v;r.set(e,s),Vu(e)?e.forEach(function(b){s.add(Vn(b,t,a,b,e,r))}):Nu(e)&&e.forEach(function(b,y){s.set(y,Vn(b,t,a,y,e,r))});var g=f?d?Wi:Si:d?Hl:us,h=p?void 0:g(e);return Fi(h||e,function(b,y){h&&(y=b,b=e[y]),Dr(s,y,Vn(b,t,a,y,e,r))}),s}var td=4;function po(e){return Vn(e,td)}var nd=1,ad=4;function Wl(e){return Vn(e,nd|ad)}function ld(e,t,a){for(var n=-1,o=e==null?0:e.length;++n<o;)if(a(t,e[n]))return!0;return!1}var od=1/0;function sd(e){var t=e==null?0:e.length;return t?ps(e,od):[]}var rd="[object String]";function ho(e){return typeof e=="string"||!an(e)&&Fl(e)&&Ir(e)==rd}var id=1/0,ud=La&&1/hs(new La([,-0]))[1]==id?function(e){return new La(e)}:Ai;const dd=ud;var cd=200;function fd(e,t,a){var n=-1,o=Ki,r=e.length,s=!0,i=[],d=i;if(a)s=!1,o=ld;else if(r>=cd){var f=t?null:dd(e);if(f)return hs(f);s=!1,o=$i,d=new Ni}else d=t?[]:i;e:for(;++n<r;){var p=e[n],u=t?t(p):p;if(p=a||p!==0?p:0,s&&u===u){for(var c=d.length;c--;)if(d[c]===u)continue e;t&&d.push(u),i.push(p)}else o(d,u,a)||(d!==i&&d.push(u),i.push(p))}return i}var pd=Ei(function(e){return fd(ps(e,1,Ti,!0))});const Ba=pd,hd=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],vo=e=>[...new Set(e)],xt=e=>!e&&e!==0?[]:Array.isArray(e)?e:[e],ys=e=>Sn?window.requestAnimationFrame(e):setTimeout(e,16),ks=e=>Sn?window.cancelAnimationFrame(e):clearTimeout(e),Cs=()=>Math.floor(Math.random()*1e4),vd=Se({size:{type:String,values:Rl},disabled:Boolean}),md=Se({...vd,model:Object,rules:{type:re(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),gd={validate:(e,t,a)=>(Re(e)||tt(e))&&Dn(t)&&tt(a)};function bd(){const e=K([]),t=k(()=>{if(!e.value.length)return"0";const r=Math.max(...e.value);return r?`${r}px`:""});function a(r){const s=e.value.indexOf(r);return s===-1&&t.value,s}function n(r,s){if(r&&s){const i=a(s);e.value.splice(i,1,r)}else r&&e.value.push(r)}function o(r){const s=a(r);s>-1&&e.value.splice(s,1)}return{autoLabelWidth:t,registerLabelWidth:n,deregisterLabelWidth:o}}const Hn=(e,t)=>{const a=el(t);return a.length>0?e.filter(n=>n.prop&&a.includes(n.prop)):e},yd="ElForm",kd=ce({name:yd}),Cd=ce({...kd,props:md,emits:gd,setup(e,{expose:t,emit:a}){const n=e,o=[],r=Lt(),s=be("form"),i=k(()=>{const{labelPosition:C,inline:m}=n;return[s.b(),s.m(r.value||"default"),{[s.m(`label-${C}`)]:C,[s.m("inline")]:m}]}),d=C=>{o.push(C)},f=C=>{C.prop&&o.splice(o.indexOf(C),1)},p=(C=[])=>{n.model&&Hn(o,C).forEach(m=>m.resetField())},u=(C=[])=>{Hn(o,C).forEach(m=>m.clearValidate())},c=k(()=>!!n.model),v=C=>{if(o.length===0)return[];const m=Hn(o,C);return m.length?m:[]},g=async C=>b(void 0,C),h=async(C=[])=>{if(!c.value)return!1;const m=v(C);if(m.length===0)return!0;let N={};for(const I of m)try{await I.validate("")}catch(E){N={...N,...E}}return Object.keys(N).length===0?!0:Promise.reject(N)},b=async(C=[],m)=>{const N=!ft(m);try{const I=await h(C);return I===!0&&(m==null||m(I)),I}catch(I){if(I instanceof Error)throw I;const E=I;return n.scrollToError&&y(Object.keys(E)[0]),m==null||m(!1,E),N&&Promise.reject(E)}},y=C=>{var m;const N=Hn(o,C)[0];N&&((m=N.$el)==null||m.scrollIntoView(n.scrollIntoViewOptions))};return ge(()=>n.rules,()=>{n.validateOnRuleChange&&g().catch(C=>yt())},{deep:!0}),at(wa,nt({...Mt(n),emit:a,resetFields:p,clearValidate:u,validateField:b,addField:d,removeField:f,...bd()})),t({validate:g,validateField:b,resetFields:p,clearValidate:u,scrollToField:y}),(C,m)=>($(),j("form",{class:w(l(i))},[Ie(C.$slots,"default")],2))}});var wd=Ve(Cd,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Zt.apply(this,arguments)}function Sd(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,An(e,t)}function tl(e){return tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},tl(e)}function An(e,t){return An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},An(e,t)}function Nd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xn(e,t,a){return Nd()?Xn=Reflect.construct.bind():Xn=function(o,r,s){var i=[null];i.push.apply(i,r);var d=Function.bind.apply(o,i),f=new d;return s&&An(f,s.prototype),f},Xn.apply(null,arguments)}function $d(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function nl(e){var t=typeof Map=="function"?new Map:void 0;return nl=function(n){if(n===null||!$d(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return Xn(n,arguments,tl(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),An(o,n)},nl(e)}var Ed=/%[sdj%]/g,Td=function(){};typeof process<"u"&&process.env;function al(e){if(!e||!e.length)return null;var t={};return e.forEach(function(a){var n=a.field;t[n]=t[n]||[],t[n].push(a)}),t}function Nt(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var o=0,r=a.length;if(typeof e=="function")return e.apply(null,a);if(typeof e=="string"){var s=e.replace(Ed,function(i){if(i==="%%")return"%";if(o>=r)return i;switch(i){case"%s":return String(a[o++]);case"%d":return Number(a[o++]);case"%j":try{return JSON.stringify(a[o++])}catch{return"[Circular]"}break;default:return i}});return s}return e}function Vd(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function st(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||Vd(t)&&typeof e=="string"&&!e)}function Md(e,t,a){var n=[],o=0,r=e.length;function s(i){n.push.apply(n,i||[]),o++,o===r&&a(n)}e.forEach(function(i){t(i,s)})}function mo(e,t,a){var n=0,o=e.length;function r(s){if(s&&s.length){a(s);return}var i=n;n=n+1,i<o?t(e[i],r):a([])}r([])}function Od(e){var t=[];return Object.keys(e).forEach(function(a){t.push.apply(t,e[a]||[])}),t}var go=function(e){Sd(t,e);function t(a,n){var o;return o=e.call(this,"Async Validation Error")||this,o.errors=a,o.fields=n,o}return t}(nl(Error));function Dd(e,t,a,n,o){if(t.first){var r=new Promise(function(c,v){var g=function(y){return n(y),y.length?v(new go(y,al(y))):c(o)},h=Od(e);mo(h,a,g)});return r.catch(function(c){return c}),r}var s=t.firstFields===!0?Object.keys(e):t.firstFields||[],i=Object.keys(e),d=i.length,f=0,p=[],u=new Promise(function(c,v){var g=function(b){if(p.push.apply(p,b),f++,f===d)return n(p),p.length?v(new go(p,al(p))):c(o)};i.length||(n(p),c(o)),i.forEach(function(h){var b=e[h];s.indexOf(h)!==-1?mo(b,a,g):Md(b,a,g)})});return u.catch(function(c){return c}),u}function Id(e){return!!(e&&e.message!==void 0)}function Pd(e,t){for(var a=e,n=0;n<t.length;n++){if(a==null)return a;a=a[t[n]]}return a}function bo(e,t){return function(a){var n;return e.fullFields?n=Pd(t,e.fullFields):n=t[a.field||e.fullField],Id(a)?(a.field=a.field||e.fullField,a.fieldValue=n,a):{message:typeof a=="function"?a():a,fieldValue:n,field:a.field||e.fullField}}}function yo(e,t){if(t){for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];typeof n=="object"&&typeof e[a]=="object"?e[a]=Zt({},e[a],n):e[a]=n}}return e}var ws=function(t,a,n,o,r,s){t.required&&(!n.hasOwnProperty(t.field)||st(a,s||t.type))&&o.push(Nt(r.messages.required,t.fullField))},Ad=function(t,a,n,o,r){(/^\s+$/.test(a)||a==="")&&o.push(Nt(r.messages.whitespace,t.fullField))},qn,Fd=function(){if(qn)return qn;var e="[a-fA-F\\d:]",t=function(N){return N&&N.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},a="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",o=(`
(?:
(?:`+n+":){7}(?:"+n+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+n+":){6}(?:"+a+"|:"+n+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+n+":){5}(?::"+a+"|(?::"+n+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+n+":){4}(?:(?::"+n+"){0,1}:"+a+"|(?::"+n+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+n+":){3}(?:(?::"+n+"){0,2}:"+a+"|(?::"+n+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+n+":){2}(?:(?::"+n+"){0,3}:"+a+"|(?::"+n+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+n+":){1}(?:(?::"+n+"){0,4}:"+a+"|(?::"+n+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+n+"){0,5}:"+a+"|(?::"+n+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),r=new RegExp("(?:^"+a+"$)|(?:^"+o+"$)"),s=new RegExp("^"+a+"$"),i=new RegExp("^"+o+"$"),d=function(N){return N&&N.exact?r:new RegExp("(?:"+t(N)+a+t(N)+")|(?:"+t(N)+o+t(N)+")","g")};d.v4=function(m){return m&&m.exact?s:new RegExp(""+t(m)+a+t(m),"g")},d.v6=function(m){return m&&m.exact?i:new RegExp(""+t(m)+o+t(m),"g")};var f="(?:(?:[a-z]+:)?//)",p="(?:\\S+(?::\\S*)?@)?",u=d.v4().source,c=d.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",g="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",h="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",y='(?:[/?#][^\\s"]*)?',C="(?:"+f+"|www\\.)"+p+"(?:localhost|"+u+"|"+c+"|"+v+g+h+")"+b+y;return qn=new RegExp("(?:^"+C+"$)","i"),qn},ko={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},En={integer:function(t){return En.number(t)&&parseInt(t,10)===t},float:function(t){return En.number(t)&&!En.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!En.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(ko.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Fd())},hex:function(t){return typeof t=="string"&&!!t.match(ko.hex)}},Rd=function(t,a,n,o,r){if(t.required&&a===void 0){ws(t,a,n,o,r);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],i=t.type;s.indexOf(i)>-1?En[i](a)||o.push(Nt(r.messages.types[i],t.fullField,t.type)):i&&typeof a!==t.type&&o.push(Nt(r.messages.types[i],t.fullField,t.type))},Ld=function(t,a,n,o,r){var s=typeof t.len=="number",i=typeof t.min=="number",d=typeof t.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=a,u=null,c=typeof a=="number",v=typeof a=="string",g=Array.isArray(a);if(c?u="number":v?u="string":g&&(u="array"),!u)return!1;g&&(p=a.length),v&&(p=a.replace(f,"_").length),s?p!==t.len&&o.push(Nt(r.messages[u].len,t.fullField,t.len)):i&&!d&&p<t.min?o.push(Nt(r.messages[u].min,t.fullField,t.min)):d&&!i&&p>t.max?o.push(Nt(r.messages[u].max,t.fullField,t.max)):i&&d&&(p<t.min||p>t.max)&&o.push(Nt(r.messages[u].range,t.fullField,t.min,t.max))},sn="enum",Bd=function(t,a,n,o,r){t[sn]=Array.isArray(t[sn])?t[sn]:[],t[sn].indexOf(a)===-1&&o.push(Nt(r.messages[sn],t.fullField,t[sn].join(", ")))},_d=function(t,a,n,o,r){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(a)||o.push(Nt(r.messages.pattern.mismatch,t.fullField,a,t.pattern));else if(typeof t.pattern=="string"){var s=new RegExp(t.pattern);s.test(a)||o.push(Nt(r.messages.pattern.mismatch,t.fullField,a,t.pattern))}}},Le={required:ws,whitespace:Ad,type:Rd,range:Ld,enum:Bd,pattern:_d},Kd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a,"string")&&!t.required)return n();Le.required(t,a,o,s,r,"string"),st(a,"string")||(Le.type(t,a,o,s,r),Le.range(t,a,o,s,r),Le.pattern(t,a,o,s,r),t.whitespace===!0&&Le.whitespace(t,a,o,s,r))}n(s)},xd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a)&&!t.required)return n();Le.required(t,a,o,s,r),a!==void 0&&Le.type(t,a,o,s,r)}n(s)},zd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(a===""&&(a=void 0),st(a)&&!t.required)return n();Le.required(t,a,o,s,r),a!==void 0&&(Le.type(t,a,o,s,r),Le.range(t,a,o,s,r))}n(s)},jd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a)&&!t.required)return n();Le.required(t,a,o,s,r),a!==void 0&&Le.type(t,a,o,s,r)}n(s)},Hd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a)&&!t.required)return n();Le.required(t,a,o,s,r),st(a)||Le.type(t,a,o,s,r)}n(s)},qd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a)&&!t.required)return n();Le.required(t,a,o,s,r),a!==void 0&&(Le.type(t,a,o,s,r),Le.range(t,a,o,s,r))}n(s)},Ud=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a)&&!t.required)return n();Le.required(t,a,o,s,r),a!==void 0&&(Le.type(t,a,o,s,r),Le.range(t,a,o,s,r))}n(s)},Wd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(a==null&&!t.required)return n();Le.required(t,a,o,s,r,"array"),a!=null&&(Le.type(t,a,o,s,r),Le.range(t,a,o,s,r))}n(s)},Yd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a)&&!t.required)return n();Le.required(t,a,o,s,r),a!==void 0&&Le.type(t,a,o,s,r)}n(s)},Gd="enum",Xd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a)&&!t.required)return n();Le.required(t,a,o,s,r),a!==void 0&&Le[Gd](t,a,o,s,r)}n(s)},Zd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a,"string")&&!t.required)return n();Le.required(t,a,o,s,r),st(a,"string")||Le.pattern(t,a,o,s,r)}n(s)},Jd=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a,"date")&&!t.required)return n();if(Le.required(t,a,o,s,r),!st(a,"date")){var d;a instanceof Date?d=a:d=new Date(a),Le.type(t,d,o,s,r),d&&Le.range(t,d.getTime(),o,s,r)}}n(s)},Qd=function(t,a,n,o,r){var s=[],i=Array.isArray(a)?"array":typeof a;Le.required(t,a,o,s,r,i),n(s)},_a=function(t,a,n,o,r){var s=t.type,i=[],d=t.required||!t.required&&o.hasOwnProperty(t.field);if(d){if(st(a,s)&&!t.required)return n();Le.required(t,a,o,i,r,s),st(a,s)||Le.type(t,a,o,i,r)}n(i)},ec=function(t,a,n,o,r){var s=[],i=t.required||!t.required&&o.hasOwnProperty(t.field);if(i){if(st(a)&&!t.required)return n();Le.required(t,a,o,s,r)}n(s)},Mn={string:Kd,method:xd,number:zd,boolean:jd,regexp:Hd,integer:qd,float:Ud,array:Wd,object:Yd,enum:Xd,pattern:Zd,date:Jd,url:_a,hex:_a,email:_a,required:Qd,any:ec};function ll(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var ol=ll(),_n=function(){function e(a){this.rules=null,this._messages=ol,this.define(a)}var t=e.prototype;return t.define=function(n){var o=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(typeof n!="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(r){var s=n[r];o.rules[r]=Array.isArray(s)?s:[s]})},t.messages=function(n){return n&&(this._messages=yo(ll(),n)),this._messages},t.validate=function(n,o,r){var s=this;o===void 0&&(o={}),r===void 0&&(r=function(){});var i=n,d=o,f=r;if(typeof d=="function"&&(f=d,d={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,i),Promise.resolve(i);function p(h){var b=[],y={};function C(N){if(Array.isArray(N)){var I;b=(I=b).concat.apply(I,N)}else b.push(N)}for(var m=0;m<h.length;m++)C(h[m]);b.length?(y=al(b),f(b,y)):f(null,i)}if(d.messages){var u=this.messages();u===ol&&(u=ll()),yo(u,d.messages),d.messages=u}else d.messages=this.messages();var c={},v=d.keys||Object.keys(this.rules);v.forEach(function(h){var b=s.rules[h],y=i[h];b.forEach(function(C){var m=C;typeof m.transform=="function"&&(i===n&&(i=Zt({},i)),y=i[h]=m.transform(y)),typeof m=="function"?m={validator:m}:m=Zt({},m),m.validator=s.getValidationMethod(m),m.validator&&(m.field=h,m.fullField=m.fullField||h,m.type=s.getType(m),c[h]=c[h]||[],c[h].push({rule:m,value:y,source:i,field:h}))})});var g={};return Dd(c,d,function(h,b){var y=h.rule,C=(y.type==="object"||y.type==="array")&&(typeof y.fields=="object"||typeof y.defaultField=="object");C=C&&(y.required||!y.required&&h.value),y.field=h.field;function m(E,H){return Zt({},H,{fullField:y.fullField+"."+E,fullFields:y.fullFields?[].concat(y.fullFields,[E]):[E]})}function N(E){E===void 0&&(E=[]);var H=Array.isArray(E)?E:[E];!d.suppressWarning&&H.length&&e.warning("async-validator:",H),H.length&&y.message!==void 0&&(H=[].concat(y.message));var P=H.map(bo(y,i));if(d.first&&P.length)return g[y.field]=1,b(P);if(!C)b(P);else{if(y.required&&!h.value)return y.message!==void 0?P=[].concat(y.message).map(bo(y,i)):d.error&&(P=[d.error(y,Nt(d.messages.required,y.field))]),b(P);var R={};y.defaultField&&Object.keys(h.value).map(function(B){R[B]=y.defaultField}),R=Zt({},R,h.rule.fields);var W={};Object.keys(R).forEach(function(B){var T=R[B],z=Array.isArray(T)?T:[T];W[B]=z.map(m.bind(null,B))});var Y=new e(W);Y.messages(d.messages),h.rule.options&&(h.rule.options.messages=d.messages,h.rule.options.error=d.error),Y.validate(h.value,h.rule.options||d,function(B){var T=[];P&&P.length&&T.push.apply(T,P),B&&B.length&&T.push.apply(T,B),b(T.length?T:null)})}}var I;if(y.asyncValidator)I=y.asyncValidator(y,h.value,N,h.source,d);else if(y.validator){try{I=y.validator(y,h.value,N,h.source,d)}catch(E){console.error==null||console.error(E),d.suppressValidatorError||setTimeout(function(){throw E},0),N(E.message)}I===!0?N():I===!1?N(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||(y.fullField||y.field)+" fails"):I instanceof Array?N(I):I instanceof Error&&N(I.message)}I&&I.then&&I.then(function(){return N()},function(E){return N(E)})},function(h){p(h)},i)},t.getType=function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Mn.hasOwnProperty(n.type))throw new Error(Nt("Unknown rule type %s",n.type));return n.type||"string"},t.getValidationMethod=function(n){if(typeof n.validator=="function")return n.validator;var o=Object.keys(n),r=o.indexOf("message");return r!==-1&&o.splice(r,1),o.length===1&&o[0]==="required"?Mn.required:Mn[this.getType(n)]||void 0},e}();_n.register=function(t,a){if(typeof a!="function")throw new Error("Cannot register a validator by type, validator is not a function");Mn[t]=a};_n.warning=Td;_n.messages=ol;_n.validators=Mn;const tc=["","error","validating","success"],nc=Se({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:re([String,Array])},required:{type:Boolean,default:void 0},rules:{type:re([Object,Array])},error:String,validateStatus:{type:String,values:tc},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Rl}}),Co="ElLabelWrap";var ac=ce({name:Co,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const a=xe(wa,void 0),n=xe(bn);n||Nn(Co,"usage: <el-form-item><label-wrap /></el-form-item>");const o=be("form"),r=K(),s=K(0),i=()=>{var p;if((p=r.value)!=null&&p.firstElementChild){const u=window.getComputedStyle(r.value.firstElementChild).width;return Math.ceil(Number.parseFloat(u))}else return 0},d=(p="update")=>{Ee(()=>{t.default&&e.isAutoWidth&&(p==="update"?s.value=i():p==="remove"&&(a==null||a.deregisterLabelWidth(s.value)))})},f=()=>d("update");return ut(()=>{f()}),Sa(()=>{d("remove")}),Na(()=>f()),ge(s,(p,u)=>{e.updateAll&&(a==null||a.registerLabelWidth(p,u))}),Ll(k(()=>{var p,u;return(u=(p=r.value)==null?void 0:p.firstElementChild)!=null?u:null}),f),()=>{var p,u;if(!t)return null;const{isAutoWidth:c}=e;if(c){const v=a==null?void 0:a.autoLabelWidth,g=n==null?void 0:n.hasLabel,h={};if(g&&v&&v!=="auto"){const b=Math.max(0,Number.parseInt(v,10)-s.value),y=a.labelPosition==="left"?"marginRight":"marginLeft";b&&(h[y]=`${b}px`)}return G("div",{ref:r,class:[o.be("item","label-wrap")],style:h},[(p=t.default)==null?void 0:p.call(t)])}else return G($e,{ref:r},[(u=t.default)==null?void 0:u.call(t)])}}});const lc=["role","aria-labelledby"],oc=ce({name:"ElFormItem"}),sc=ce({...oc,props:nc,setup(e,{expose:t}){const a=e,n=ln(),o=xe(wa,void 0),r=xe(bn,void 0),s=Lt(void 0,{formItem:!1}),i=be("form-item"),d=Jo().value,f=K([]),p=K(""),u=Pr(p,100),c=K(""),v=K();let g,h=!1;const b=k(()=>{if((o==null?void 0:o.labelPosition)==="top")return{};const Q=ua(a.labelWidth||(o==null?void 0:o.labelWidth)||"");return Q?{width:Q}:{}}),y=k(()=>{if((o==null?void 0:o.labelPosition)==="top"||o!=null&&o.inline)return{};if(!a.label&&!a.labelWidth&&R)return{};const Q=ua(a.labelWidth||(o==null?void 0:o.labelWidth)||"");return!a.label&&!n.label?{marginLeft:Q}:{}}),C=k(()=>[i.b(),i.m(s.value),i.is("error",p.value==="error"),i.is("validating",p.value==="validating"),i.is("success",p.value==="success"),i.is("required",z.value||a.required),i.is("no-asterisk",o==null?void 0:o.hideRequiredAsterisk),(o==null?void 0:o.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[i.m("feedback")]:o==null?void 0:o.statusIcon}]),m=k(()=>Dn(a.inlineMessage)?a.inlineMessage:(o==null?void 0:o.inlineMessage)||!1),N=k(()=>[i.e("error"),{[i.em("error","inline")]:m.value}]),I=k(()=>a.prop?tt(a.prop)?a.prop:a.prop.join("."):""),E=k(()=>!!(a.label||n.label)),H=k(()=>a.for||f.value.length===1?f.value[0]:void 0),P=k(()=>!H.value&&E.value),R=!!r,W=k(()=>{const Q=o==null?void 0:o.model;if(!(!Q||!a.prop))return Aa(Q,a.prop).value}),Y=k(()=>{const{required:Q}=a,F=[];a.rules&&F.push(...el(a.rules));const _=o==null?void 0:o.rules;if(_&&a.prop){const Z=Aa(_,a.prop).value;Z&&F.push(...el(Z))}if(Q!==void 0){const Z=F.map((pe,ye)=>[pe,ye]).filter(([pe])=>Object.keys(pe).includes("required"));if(Z.length>0)for(const[pe,ye]of Z)pe.required!==Q&&(F[ye]={...pe,required:Q});else F.push({required:Q})}return F}),B=k(()=>Y.value.length>0),T=Q=>Y.value.filter(_=>!_.trigger||!Q?!0:Array.isArray(_.trigger)?_.trigger.includes(Q):_.trigger===Q).map(({trigger:_,...Z})=>Z),z=k(()=>Y.value.some(Q=>Q.required)),oe=k(()=>{var Q;return u.value==="error"&&a.showMessage&&((Q=o==null?void 0:o.showMessage)!=null?Q:!0)}),q=k(()=>`${a.label||""}${(o==null?void 0:o.labelSuffix)||""}`),O=Q=>{p.value=Q},M=Q=>{var F,_;const{errors:Z,fields:pe}=Q;(!Z||!pe)&&console.error(Q),O("error"),c.value=Z?(_=(F=Z==null?void 0:Z[0])==null?void 0:F.message)!=null?_:`${a.prop} is required`:"",o==null||o.emit("validate",a.prop,!1,c.value)},D=()=>{O("success"),o==null||o.emit("validate",a.prop,!0,"")},U=async Q=>{const F=I.value;return new _n({[F]:Q}).validate({[F]:W.value},{firstFields:!0}).then(()=>(D(),!0)).catch(Z=>(M(Z),Promise.reject(Z)))},J=async(Q,F)=>{if(h||!a.prop)return!1;const _=ft(F);if(!B.value)return F==null||F(!1),!1;const Z=T(Q);return Z.length===0?(F==null||F(!0),!0):(O("validating"),U(Z).then(()=>(F==null||F(!0),!0)).catch(pe=>{const{fields:ye}=pe;return F==null||F(!1,ye),_?!1:Promise.reject(ye)}))},V=()=>{O(""),c.value="",h=!1},L=async()=>{const Q=o==null?void 0:o.model;if(!Q||!a.prop)return;const F=Aa(Q,a.prop);h=!0,F.value=po(g),await Ee(),V(),h=!1},se=Q=>{f.value.includes(Q)||f.value.push(Q)},ie=Q=>{f.value=f.value.filter(F=>F!==Q)};ge(()=>a.error,Q=>{c.value=Q||"",O(Q?"error":"")},{immediate:!0}),ge(()=>a.validateStatus,Q=>O(Q||""));const x=nt({...Mt(a),$el:v,size:s,validateState:p,labelId:d,inputIds:f,isGroup:P,hasLabel:E,addInputId:se,removeInputId:ie,resetField:L,clearValidate:V,validate:J});return at(bn,x),ut(()=>{a.prop&&(o==null||o.addField(x),g=po(W.value))}),Sa(()=>{o==null||o.removeField(x)}),t({size:s,validateMessage:c,validateState:p,validate:J,clearValidate:V,resetField:L}),(Q,F)=>{var _;return $(),j("div",{ref_key:"formItemRef",ref:v,class:w(l(C)),role:l(P)?"group":void 0,"aria-labelledby":l(P)?l(d):void 0},[G(l(ac),{"is-auto-width":l(b).width==="auto","update-all":((_=l(o))==null?void 0:_.labelWidth)==="auto"},{default:le(()=>[l(E)?($(),de(ot(l(H)?"label":"div"),{key:0,id:l(d),for:l(H),class:w(l(i).e("label")),style:De(l(b))},{default:le(()=>[Ie(Q.$slots,"label",{label:l(q)},()=>[ct(me(l(q)),1)])]),_:3},8,["id","for","class","style"])):ue("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),ee("div",{class:w(l(i).e("content")),style:De(l(y))},[Ie(Q.$slots,"default"),G(Qo,{name:`${l(i).namespace.value}-zoom-in-top`},{default:le(()=>[l(oe)?Ie(Q.$slots,"error",{key:0,error:c.value},()=>[ee("div",{class:w(l(N))},me(c.value),3)]):ue("v-if",!0)]),_:3},8,["name"])],6)],10,lc)}}});var Ss=Ve(sc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const rc=Et(wd,{FormItem:Ss}),ic=Bl(Ss),uc=Se({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:re(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:re([Function,Array]),default:it},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:_l.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),dc={[Be]:e=>tt(e),[Ft]:e=>tt(e),[pt]:e=>tt(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>Vt(e)},cc=["aria-expanded","aria-owns"],fc={key:0},pc=["id","aria-selected","onClick"],Ns="ElAutocomplete",hc=ce({name:Ns,inheritAttrs:!1}),vc=ce({...hc,props:uc,emits:dc,setup(e,{expose:t,emit:a}){const n=e,o=ci(),r=$a(),s=qt(),i=be("autocomplete"),d=K(),f=K(),p=K(),u=K();let c=!1,v=!1;const g=K([]),h=K(-1),b=K(""),y=K(!1),C=K(!1),m=K(!1),N=k(()=>i.b(String(Cs()))),I=k(()=>r.style),E=k(()=>(g.value.length>0||m.value)&&y.value),H=k(()=>!n.hideLoading&&m.value),P=k(()=>d.value?Array.from(d.value.$el.querySelectorAll("input")):[]),R=async()=>{await Ee(),E.value&&(b.value=`${d.value.$el.offsetWidth}px`)},W=()=>{h.value=-1},B=tn(async x=>{if(C.value)return;const Q=F=>{m.value=!1,!C.value&&(Re(F)?(g.value=F,h.value=n.highlightFirstItem?0:-1):Nn(Ns,"autocomplete suggestions must be an array"))};if(m.value=!0,Re(n.fetchSuggestions))Q(n.fetchSuggestions);else{const F=await n.fetchSuggestions(x,Q);Re(F)&&Q(F)}},n.debounce),T=x=>{const Q=!!x;if(a(Ft,x),a(Be,x),C.value=!1,y.value||(y.value=Q),!n.triggerOnFocus&&!x){C.value=!0,g.value=[];return}B(x)},z=x=>{var Q;s.value||(((Q=x.target)==null?void 0:Q.tagName)!=="INPUT"||P.value.includes(document.activeElement))&&(y.value=!0)},oe=x=>{a(pt,x)},q=x=>{v?v=!1:(y.value=!0,a("focus",x),n.triggerOnFocus&&!c&&B(String(n.modelValue)))},O=x=>{setTimeout(()=>{var Q;if((Q=p.value)!=null&&Q.isFocusInsideContent()){v=!0;return}y.value&&J(),a("blur",x)})},M=()=>{y.value=!1,a(Be,""),a("clear")},D=async()=>{E.value&&h.value>=0&&h.value<g.value.length?se(g.value[h.value]):n.selectWhenUnmatched&&(a("select",{value:n.modelValue}),g.value=[],h.value=-1)},U=x=>{E.value&&(x.preventDefault(),x.stopPropagation(),J())},J=()=>{y.value=!1},V=()=>{var x;(x=d.value)==null||x.focus()},L=()=>{var x;(x=d.value)==null||x.blur()},se=async x=>{a(Ft,x[n.valueKey]),a(Be,x[n.valueKey]),a("select",x),g.value=[],h.value=-1},ie=x=>{if(!E.value||m.value)return;if(x<0){h.value=-1;return}x>=g.value.length&&(x=g.value.length-1);const Q=f.value.querySelector(`.${i.be("suggestion","wrap")}`),_=Q.querySelectorAll(`.${i.be("suggestion","list")} li`)[x],Z=Q.scrollTop,{offsetTop:pe,scrollHeight:ye}=_;pe+ye>Z+Q.clientHeight&&(Q.scrollTop+=ye),pe<Z&&(Q.scrollTop-=ye),h.value=x,d.value.ref.setAttribute("aria-activedescendant",`${N.value}-item-${h.value}`)};return es(u,()=>{E.value&&J()}),ut(()=>{d.value.ref.setAttribute("role","textbox"),d.value.ref.setAttribute("aria-autocomplete","list"),d.value.ref.setAttribute("aria-controls","id"),d.value.ref.setAttribute("aria-activedescendant",`${N.value}-item-${h.value}`),c=d.value.ref.hasAttribute("readonly")}),t({highlightedIndex:h,activated:y,loading:m,inputRef:d,popperRef:p,suggestions:g,handleSelect:se,handleKeyEnter:D,focus:V,blur:L,close:J,highlight:ie}),(x,Q)=>($(),de(l(Qt),{ref_key:"popperRef",ref:p,visible:l(E),placement:x.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[l(i).e("popper"),x.popperClass],teleported:x.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${l(i).namespace.value}-zoom-in-top`,persistent:"",onBeforeShow:R,onHide:W},{content:le(()=>[ee("div",{ref_key:"regionRef",ref:f,class:w([l(i).b("suggestion"),l(i).is("loading",l(H))]),style:De({[x.fitInputWidth?"width":"minWidth"]:b.value,outline:"none"}),role:"region"},[G(l(Ea),{id:l(N),tag:"ul","wrap-class":l(i).be("suggestion","wrap"),"view-class":l(i).be("suggestion","list"),role:"listbox"},{default:le(()=>[l(H)?($(),j("li",fc,[G(l(Te),{class:w(l(i).is("loading"))},{default:le(()=>[G(l(Ta))]),_:1},8,["class"])])):($(!0),j($e,{key:1},Ke(g.value,(F,_)=>($(),j("li",{id:`${l(N)}-item-${_}`,key:_,class:w({highlighted:h.value===_}),role:"option","aria-selected":h.value===_,onClick:Z=>se(F)},[Ie(x.$slots,"default",{item:F},()=>[ct(me(F[x.valueKey]),1)])],10,pc))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:le(()=>[ee("div",{ref_key:"listboxRef",ref:u,class:w([l(i).b(),x.$attrs.class]),style:De(l(I)),role:"combobox","aria-haspopup":"listbox","aria-expanded":l(E),"aria-owns":l(N)},[G(l(St),bt({ref_key:"inputRef",ref:d},l(o),{clearable:x.clearable,disabled:l(s),name:x.name,"model-value":x.modelValue,onInput:T,onChange:oe,onFocus:q,onBlur:O,onClear:M,onKeydown:[Q[0]||(Q[0]=Ue(we(F=>ie(h.value-1),["prevent"]),["up"])),Q[1]||(Q[1]=Ue(we(F=>ie(h.value+1),["prevent"]),["down"])),Ue(D,["enter"]),Ue(J,["tab"]),Ue(U,["esc"])],onMousedown:z}),Za({_:2},[x.$slots.prepend?{name:"prepend",fn:le(()=>[Ie(x.$slots,"prepend")])}:void 0,x.$slots.append?{name:"append",fn:le(()=>[Ie(x.$slots,"append")])}:void 0,x.$slots.prefix?{name:"prefix",fn:le(()=>[Ie(x.$slots,"prefix")])}:void 0,x.$slots.suffix?{name:"suffix",fn:le(()=>[Ie(x.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,cc)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var mc=Ve(vc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]]);const gc=Et(mc);var sl={},bc={get exports(){return sl},set exports(e){sl=e}};(function(e,t){(function(a,n){e.exports=n()})(Wt,function(){var a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d\d/,r=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,i={},d=function(h){return(h=+h)+(h>68?1900:2e3)},f=function(h){return function(b){this[h]=+b}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var y=b.match(/([+-]|\d\d)/g),C=60*y[1]+(+y[2]||0);return C===0?0:y[0]==="+"?-C:C}(h)}],u=function(h){var b=i[h];return b&&(b.indexOf?b:b.s.concat(b.f))},c=function(h,b){var y,C=i.meridiem;if(C){for(var m=1;m<=24;m+=1)if(h.indexOf(C(m,0,b))>-1){y=m>12;break}}else y=h===(b?"pm":"PM");return y},v={A:[s,function(h){this.afternoon=c(h,!1)}],a:[s,function(h){this.afternoon=c(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[o,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[r,f("seconds")],ss:[r,f("seconds")],m:[r,f("minutes")],mm:[r,f("minutes")],H:[r,f("hours")],h:[r,f("hours")],HH:[r,f("hours")],hh:[r,f("hours")],D:[r,f("day")],DD:[o,f("day")],Do:[s,function(h){var b=i.ordinal,y=h.match(/\d+/);if(this.day=y[0],b)for(var C=1;C<=31;C+=1)b(C).replace(/\[|\]/g,"")===h&&(this.day=C)}],M:[r,f("month")],MM:[o,f("month")],MMM:[s,function(h){var b=u("months"),y=(u("monthsShort")||b.map(function(C){return C.slice(0,3)})).indexOf(h)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[s,function(h){var b=u("months").indexOf(h)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,f("year")],YY:[o,function(h){this.year=d(h)}],YYYY:[/\d{4}/,f("year")],Z:p,ZZ:p};function g(h){var b,y;b=h,y=i&&i.formats;for(var C=(h=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(R,W,Y){var B=Y&&Y.toUpperCase();return W||y[Y]||a[Y]||y[B].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,z,oe){return z||oe.slice(1)})})).match(n),m=C.length,N=0;N<m;N+=1){var I=C[N],E=v[I],H=E&&E[0],P=E&&E[1];C[N]=P?{regex:H,parser:P}:I.replace(/^\[|\]$/g,"")}return function(R){for(var W={},Y=0,B=0;Y<m;Y+=1){var T=C[Y];if(typeof T=="string")B+=T.length;else{var z=T.regex,oe=T.parser,q=R.slice(B),O=z.exec(q)[0];oe.call(W,O),R=R.replace(O,"")}}return function(M){var D=M.afternoon;if(D!==void 0){var U=M.hours;D?U<12&&(M.hours+=12):U===12&&(M.hours=0),delete M.afternoon}}(W),W}}return function(h,b,y){y.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(d=h.parseTwoDigitYear);var C=b.prototype,m=C.parse;C.parse=function(N){var I=N.date,E=N.utc,H=N.args;this.$u=E;var P=H[1];if(typeof P=="string"){var R=H[2]===!0,W=H[3]===!0,Y=R||W,B=H[2];W&&(B=H[2]),i=this.$locale(),!R&&B&&(i=y.Ls[B]),this.$d=function(q,O,M){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*q);var D=g(O)(q),U=D.year,J=D.month,V=D.day,L=D.hours,se=D.minutes,ie=D.seconds,x=D.milliseconds,Q=D.zone,F=new Date,_=V||(U||J?1:F.getDate()),Z=U||F.getFullYear(),pe=0;U&&!J||(pe=J>0?J-1:F.getMonth());var ye=L||0,Oe=se||0,Ne=ie||0,Ae=x||0;return Q?new Date(Date.UTC(Z,pe,_,ye,Oe,Ne,Ae+60*Q.offset*1e3)):M?new Date(Date.UTC(Z,pe,_,ye,Oe,Ne,Ae)):new Date(Z,pe,_,ye,Oe,Ne,Ae)}catch{return new Date("")}}(I,P,E),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),Y&&I!=this.format(P)&&(this.$d=new Date("")),i={}}else if(P instanceof Array)for(var T=P.length,z=1;z<=T;z+=1){H[1]=P[z-1];var oe=y.apply(this,H);if(oe.isValid()){this.$d=oe.$d,this.$L=oe.$L,this.init();break}z===T&&(this.$d=new Date(""))}else m.call(this,N)}}})})(bc);const Yl=sl,wo=["hours","minutes","seconds"],rl="HH:mm:ss",un="YYYY-MM-DD",yc={date:un,dates:un,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${un} ${rl}`,monthrange:"YYYY-MM",daterange:un,datetimerange:`${un} ${rl}`},Ka=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],$s=e=>Array.from(Array.from({length:e}).keys()),Es=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Ts=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),So=function(e,t){const a=lo(e),n=lo(t);return a&&n?e.getTime()===t.getTime():!a&&!n?e===t:!1},No=function(e,t){const a=Re(e),n=Re(t);return a&&n?e.length!==t.length?!1:e.every((o,r)=>So(o,t[r])):!a&&!n?So(e,t):!1},$o=function(e,t,a){const n=Tt(t)||t==="x"?ke(e).locale(a):ke(e,t).locale(a);return n.isValid()?n:void 0},Eo=function(e,t,a){return Tt(t)?e:t==="x"?+e:ke(e).locale(a).format(t)},xa=(e,t)=>{var a;const n=[],o=t==null?void 0:t();for(let r=0;r<e;r++)n.push((a=o==null?void 0:o.includes(r))!=null?a:!1);return n},Vs=Se({disabledHours:{type:re(Function)},disabledMinutes:{type:re(Function)},disabledSeconds:{type:re(Function)}}),Ms=Se({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Gl=Se({id:{type:re([Array,String])},name:{type:re([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:re([String,Object]),default:Bn},editable:{type:Boolean,default:!0},prefixIcon:{type:re([String,Object]),default:""},size:Rt,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:re(Object),default:()=>({})},modelValue:{type:re([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:re([Date,Array])},defaultTime:{type:re([Date,Array])},isRange:{type:Boolean,default:!1},...Vs,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:re([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),kc=["id","name","placeholder","value","disabled","readonly"],Cc=["id","name","placeholder","value","disabled","readonly"],wc=ce({name:"Picker"}),Sc=ce({...wc,props:Gl,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:a}){const n=e,{lang:o}=et(),r=be("date"),s=be("input"),i=be("range"),{form:d,formItem:f}=Yt(),p=xe("ElPopperOptions",{}),u=K(),c=K(),v=K(!1),g=K(!1),h=K(null);let b=!1,y=!1;ge(v,S=>{S?Ee(()=>{S&&(h.value=n.modelValue)}):(Ce.value=null,Ee(()=>{C(n.modelValue)}))});const C=(S,A)=>{(A||!No(S,h.value))&&(a("change",S),n.validateEvent&&(f==null||f.validate("change").catch(ne=>yt())))},m=S=>{if(!No(n.modelValue,S)){let A;Re(S)?A=S.map(ne=>Eo(ne,n.valueFormat,o.value)):S&&(A=Eo(S,n.valueFormat,o.value)),a("update:modelValue",S&&A,o.value)}},N=S=>{a("keydown",S)},I=k(()=>{if(c.value){const S=Oe.value?c.value:c.value.$el;return Array.from(S.querySelectorAll("input"))}return[]}),E=(S,A,ne)=>{const fe=I.value;fe.length&&(!ne||ne==="min"?(fe[0].setSelectionRange(S,A),fe[0].focus()):ne==="max"&&(fe[1].setSelectionRange(S,A),fe[1].focus()))},H=()=>{oe(!0,!0),Ee(()=>{y=!1})},P=(S="",A=!1)=>{A||(y=!0),v.value=A;let ne;Re(S)?ne=S.map(fe=>fe.toDate()):ne=S&&S.toDate(),Ce.value=null,m(ne)},R=()=>{g.value=!0},W=()=>{a("visible-change",!0)},Y=S=>{(S==null?void 0:S.key)===Me.esc&&oe(!0,!0)},B=()=>{g.value=!1,v.value=!1,y=!1,a("visible-change",!1)},T=()=>{v.value=!0},z=()=>{v.value=!1},oe=(S=!0,A=!1)=>{y=A;const[ne,fe]=l(I);let Fe=ne;!S&&Oe.value&&(Fe=fe),Fe&&Fe.focus()},q=S=>{n.readonly||D.value||v.value||y||(v.value=!0,a("focus",S))};let O;const M=S=>{const A=async()=>{setTimeout(()=>{var ne;O===A&&(!((ne=u.value)!=null&&ne.isFocusInsideContent()&&!b)&&I.value.filter(fe=>fe.contains(document.activeElement)).length===0&&(rt(),v.value=!1,a("blur",S),n.validateEvent&&(f==null||f.validate("blur").catch(fe=>yt()))),b=!1)},0)};O=A,A()},D=k(()=>n.disabled||(d==null?void 0:d.disabled)),U=k(()=>{let S;if(F.value?je.value.getDefaultValue&&(S=je.value.getDefaultValue()):Re(n.modelValue)?S=n.modelValue.map(A=>$o(A,n.valueFormat,o.value)):S=$o(n.modelValue,n.valueFormat,o.value),je.value.getRangeAvailableTime){const A=je.value.getRangeAvailableTime(S);Kt(A,S)||(S=A,m(Re(S)?S.map(ne=>ne.toDate()):S.toDate()))}return Re(S)&&S.some(A=>!A)&&(S=[]),S}),J=k(()=>{if(!je.value.panelReady)return"";const S=Xe(U.value);return Re(Ce.value)?[Ce.value[0]||S&&S[0]||"",Ce.value[1]||S&&S[1]||""]:Ce.value!==null?Ce.value:!L.value&&F.value||!v.value&&F.value?"":S?se.value?S.join(", "):S:""}),V=k(()=>n.type.includes("time")),L=k(()=>n.type.startsWith("time")),se=k(()=>n.type==="dates"),ie=k(()=>n.prefixIcon||(V.value?ts:Ar)),x=K(!1),Q=S=>{n.readonly||D.value||x.value&&(S.stopPropagation(),H(),m(null),C(null,!0),x.value=!1,v.value=!1,je.value.handleClear&&je.value.handleClear())},F=k(()=>{const{modelValue:S}=n;return!S||Re(S)&&!S.filter(Boolean).length}),_=async S=>{var A;n.readonly||D.value||(((A=S.target)==null?void 0:A.tagName)!=="INPUT"||I.value.includes(document.activeElement))&&(v.value=!0)},Z=()=>{n.readonly||D.value||!F.value&&n.clearable&&(x.value=!0)},pe=()=>{x.value=!1},ye=S=>{var A;n.readonly||D.value||(((A=S.touches[0].target)==null?void 0:A.tagName)!=="INPUT"||I.value.includes(document.activeElement))&&(v.value=!0)},Oe=k(()=>n.type.includes("range")),Ne=Lt(),Ae=k(()=>{var S,A;return(A=(S=l(u))==null?void 0:S.popperRef)==null?void 0:A.contentRef}),Ye=k(()=>{var S;return l(Oe)?l(c):(S=l(c))==null?void 0:S.$el});es(Ye,S=>{const A=l(Ae),ne=l(Ye);A&&(S.target===A||S.composedPath().includes(A))||S.target===ne||S.composedPath().includes(ne)||(v.value=!1)});const Ce=K(null),rt=()=>{if(Ce.value){const S=ze(J.value);S&&We(S)&&(m(Re(S)?S.map(A=>A.toDate()):S.toDate()),Ce.value=null)}Ce.value===""&&(m(null),C(null),Ce.value=null)},ze=S=>S?je.value.parseUserInput(S):null,Xe=S=>S?je.value.formatToString(S):null,We=S=>je.value.isValidValue(S),ht=async S=>{if(n.readonly||D.value)return;const{code:A}=S;if(N(S),A===Me.esc){v.value===!0&&(v.value=!1,S.preventDefault(),S.stopPropagation());return}if(A===Me.down&&(je.value.handleFocusPicker&&(S.preventDefault(),S.stopPropagation()),v.value===!1&&(v.value=!0,await Ee()),je.value.handleFocusPicker)){je.value.handleFocusPicker();return}if(A===Me.tab){b=!0;return}if(A===Me.enter||A===Me.numpadEnter){(Ce.value===null||Ce.value===""||We(ze(J.value)))&&(rt(),v.value=!1),S.stopPropagation();return}if(Ce.value){S.stopPropagation();return}je.value.handleKeydownInput&&je.value.handleKeydownInput(S)},mt=S=>{Ce.value=S,v.value||(v.value=!0)},Ct=S=>{const A=S.target;Ce.value?Ce.value=[A.value,Ce.value[1]]:Ce.value=[A.value,null]},wt=S=>{const A=S.target;Ce.value?Ce.value=[Ce.value[0],A.value]:Ce.value=[null,A.value]},Ot=()=>{var S;const A=Ce.value,ne=ze(A&&A[0]),fe=l(U);if(ne&&ne.isValid()){Ce.value=[Xe(ne),((S=J.value)==null?void 0:S[1])||null];const Fe=[ne,fe&&(fe[1]||null)];We(Fe)&&(m(Fe),Ce.value=null)}},Dt=()=>{var S;const A=l(Ce),ne=ze(A&&A[1]),fe=l(U);if(ne&&ne.isValid()){Ce.value=[((S=l(J))==null?void 0:S[0])||null,Xe(ne)];const Fe=[fe&&fe[0],ne];We(Fe)&&(m(Fe),Ce.value=null)}},je=K({}),ae=S=>{je.value[S[0]]=S[1],je.value.panelReady=!0},he=S=>{a("calendar-change",S)},X=(S,A,ne)=>{a("panel-change",S,A,ne)};return at("EP_PICKER_BASE",{props:n}),t({focus:oe,handleFocusInput:q,handleBlurInput:M,handleOpen:T,handleClose:z,onPick:P}),(S,A)=>($(),de(l(Qt),bt({ref_key:"refPopper",ref:u,visible:v.value,effect:"light",pure:"",trigger:"click"},S.$attrs,{role:"dialog",teleported:"",transition:`${l(r).namespace.value}-zoom-in-top`,"popper-class":[`${l(r).namespace.value}-picker__popper`,S.popperClass],"popper-options":l(p),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:R,onShow:W,onHide:B}),{default:le(()=>[l(Oe)?($(),j("div",{key:1,ref_key:"inputRef",ref:c,class:w([l(r).b("editor"),l(r).bm("editor",S.type),l(s).e("wrapper"),l(r).is("disabled",l(D)),l(r).is("active",v.value),l(i).b("editor"),l(Ne)?l(i).bm("editor",l(Ne)):"",S.$attrs.class]),style:De(S.$attrs.style),onClick:q,onMouseenter:Z,onMouseleave:pe,onTouchstart:ye,onKeydown:ht},[l(ie)?($(),de(l(Te),{key:0,class:w([l(s).e("icon"),l(i).e("icon")]),onMousedown:we(_,["prevent"]),onTouchstart:ye},{default:le(()=>[($(),de(ot(l(ie))))]),_:1},8,["class","onMousedown"])):ue("v-if",!0),ee("input",{id:S.id&&S.id[0],autocomplete:"off",name:S.name&&S.name[0],placeholder:S.startPlaceholder,value:l(J)&&l(J)[0],disabled:l(D),readonly:!S.editable||S.readonly,class:w(l(i).b("input")),onMousedown:_,onInput:Ct,onChange:Ot,onFocus:q,onBlur:M},null,42,kc),Ie(S.$slots,"range-separator",{},()=>[ee("span",{class:w(l(i).b("separator"))},me(S.rangeSeparator),3)]),ee("input",{id:S.id&&S.id[1],autocomplete:"off",name:S.name&&S.name[1],placeholder:S.endPlaceholder,value:l(J)&&l(J)[1],disabled:l(D),readonly:!S.editable||S.readonly,class:w(l(i).b("input")),onMousedown:_,onFocus:q,onBlur:M,onInput:wt,onChange:Dt},null,42,Cc),S.clearIcon?($(),de(l(Te),{key:1,class:w([l(s).e("icon"),l(i).e("close-icon"),{[l(i).e("close-icon--hidden")]:!x.value}]),onClick:Q},{default:le(()=>[($(),de(ot(S.clearIcon)))]),_:1},8,["class"])):ue("v-if",!0)],38)):($(),de(l(St),{key:0,id:S.id,ref_key:"inputRef",ref:c,"container-role":"combobox","model-value":l(J),name:S.name,size:l(Ne),disabled:l(D),placeholder:S.placeholder,class:w([l(r).b("editor"),l(r).bm("editor",S.type),S.$attrs.class]),style:De(S.$attrs.style),readonly:!S.editable||S.readonly||l(se)||S.type==="week",label:S.label,tabindex:S.tabindex,"validate-event":!1,onInput:mt,onFocus:q,onBlur:M,onKeydown:ht,onChange:rt,onMousedown:_,onMouseenter:Z,onMouseleave:pe,onTouchstart:ye,onClick:A[0]||(A[0]=we(()=>{},["stop"]))},{prefix:le(()=>[l(ie)?($(),de(l(Te),{key:0,class:w(l(s).e("icon")),onMousedown:we(_,["prevent"]),onTouchstart:ye},{default:le(()=>[($(),de(ot(l(ie))))]),_:1},8,["class","onMousedown"])):ue("v-if",!0)]),suffix:le(()=>[x.value&&S.clearIcon?($(),de(l(Te),{key:0,class:w(`${l(s).e("icon")} clear-icon`),onClick:we(Q,["stop"])},{default:le(()=>[($(),de(ot(S.clearIcon)))]),_:1},8,["class","onClick"])):ue("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:le(()=>[Ie(S.$slots,"default",{visible:v.value,actualVisible:g.value,parsedValue:l(U),format:S.format,unlinkPanels:S.unlinkPanels,type:S.type,defaultValue:S.defaultValue,onPick:P,onSelectRange:E,onSetPickerOption:ae,onCalendarChange:he,onPanelChange:X,onKeydown:Y,onMousedown:A[1]||(A[1]=we(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Os=Ve(Sc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Nc=Se({...Ms,datetimeRole:String,parsedValue:{type:re(Object)}}),Ds=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:a})=>{const n=(s,i,d,f)=>{const p={hour:e,minute:t,second:a};let u=s;return["hour","minute","second"].forEach(c=>{if(p[c]){let v;const g=p[c];switch(c){case"minute":{v=g(u.hour(),i,f);break}case"second":{v=g(u.hour(),u.minute(),i,f);break}default:{v=g(i,f);break}}if(v!=null&&v.length&&!v.includes(u[c]())){const h=d?0:v.length-1;u=u[c](v[h])}}}),u},o={};return{timePickerOptions:o,getAvailableTime:n,onSetOption:([s,i])=>{o[s]=i}}},za=e=>{const t=(n,o)=>n||o,a=n=>n!==!0;return e.map(t).filter(a)},Is=(e,t,a)=>({getHoursList:(s,i)=>xa(24,e&&(()=>e==null?void 0:e(s,i))),getMinutesList:(s,i,d)=>xa(60,t&&(()=>t==null?void 0:t(s,i,d))),getSecondsList:(s,i,d,f)=>xa(60,a&&(()=>a==null?void 0:a(s,i,d,f)))}),Ps=(e,t,a)=>{const{getHoursList:n,getMinutesList:o,getSecondsList:r}=Is(e,t,a);return{getAvailableHours:(f,p)=>za(n(f,p)),getAvailableMinutes:(f,p,u)=>za(o(f,p,u)),getAvailableSeconds:(f,p,u,c)=>za(r(f,p,u,c))}},As=e=>{const t=K(e.parsedValue);return ge(()=>e.visible,a=>{a||(t.value=e.parsedValue)}),t},$c=100,Ec=600,ga={beforeMount(e,t){const a=t.value,{interval:n=$c,delay:o=Ec}=ft(a)?{}:a;let r,s;const i=()=>ft(a)?a():a.handler(),d=()=>{s&&(clearTimeout(s),s=void 0),r&&(clearInterval(r),r=void 0)};e.addEventListener("mousedown",f=>{f.button===0&&(d(),i(),document.addEventListener("mouseup",()=>d(),{once:!0}),s=setTimeout(()=>{r=setInterval(()=>{i()},n)},o))})}},Tc=Se({role:{type:String,required:!0},spinnerDate:{type:re(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:re(String),default:""},...Vs}),Vc=["onClick"],Mc=["onMouseenter"],Oc=ce({__name:"basic-time-spinner",props:Tc,emits:["change","select-range","set-option"],setup(e,{emit:t}){const a=e,n=be("time"),{getHoursList:o,getMinutesList:r,getSecondsList:s}=Is(a.disabledHours,a.disabledMinutes,a.disabledSeconds);let i=!1;const d=K(),f=K(),p=K(),u=K(),c={hours:f,minutes:p,seconds:u},v=k(()=>a.showSeconds?wo:wo.slice(0,2)),g=k(()=>{const{spinnerDate:D}=a,U=D.hour(),J=D.minute(),V=D.second();return{hours:U,minutes:J,seconds:V}}),h=k(()=>{const{hours:D,minutes:U}=l(g);return{hours:o(a.role),minutes:r(D,a.role),seconds:s(D,U,a.role)}}),b=k(()=>{const{hours:D,minutes:U,seconds:J}=l(g);return{hours:Ka(D,23),minutes:Ka(U,59),seconds:Ka(J,59)}}),y=tn(D=>{i=!1,N(D)},200),C=D=>{if(!!!a.amPmMode)return"";const J=a.amPmMode==="A";let V=D<12?" am":" pm";return J&&(V=V.toUpperCase()),V},m=D=>{let U;switch(D){case"hours":U=[0,2];break;case"minutes":U=[3,5];break;case"seconds":U=[6,8];break}const[J,V]=U;t("select-range",J,V),d.value=D},N=D=>{H(D,l(g)[D])},I=()=>{N("hours"),N("minutes"),N("seconds")},E=D=>D.querySelector(`.${n.namespace.value}-scrollbar__wrap`),H=(D,U)=>{if(a.arrowControl)return;const J=l(c[D]);J&&J.$el&&(E(J.$el).scrollTop=Math.max(0,U*P(D)))},P=D=>{const U=l(c[D]);return(U==null?void 0:U.$el.querySelector("li").offsetHeight)||0},R=()=>{Y(1)},W=()=>{Y(-1)},Y=D=>{d.value||m("hours");const U=d.value,J=l(g)[U],V=d.value==="hours"?24:60,L=B(U,J,D,V);T(U,L),H(U,L),Ee(()=>m(U))},B=(D,U,J,V)=>{let L=(U+J+V)%V;const se=l(h)[D];for(;se[L]&&L!==U;)L=(L+J+V)%V;return L},T=(D,U)=>{if(l(h)[D][U])return;const{hours:L,minutes:se,seconds:ie}=l(g);let x;switch(D){case"hours":x=a.spinnerDate.hour(U).minute(se).second(ie);break;case"minutes":x=a.spinnerDate.hour(L).minute(U).second(ie);break;case"seconds":x=a.spinnerDate.hour(L).minute(se).second(U);break}t("change",x)},z=(D,{value:U,disabled:J})=>{J||(T(D,U),m(D),H(D,U))},oe=D=>{i=!0,y(D);const U=Math.min(Math.round((E(l(c[D]).$el).scrollTop-(q(D)*.5-10)/P(D)+3)/P(D)),D==="hours"?23:59);T(D,U)},q=D=>l(c[D]).$el.offsetHeight,O=()=>{const D=U=>{const J=l(c[U]);J&&J.$el&&(E(J.$el).onscroll=()=>{oe(U)})};D("hours"),D("minutes"),D("seconds")};ut(()=>{Ee(()=>{!a.arrowControl&&O(),I(),a.role==="start"&&m("hours")})});const M=(D,U)=>{c[U].value=D};return t("set-option",[`${a.role}_scrollDown`,Y]),t("set-option",[`${a.role}_emitSelectRange`,m]),ge(()=>a.spinnerDate,()=>{i||I()}),(D,U)=>($(),j("div",{class:w([l(n).b("spinner"),{"has-seconds":D.showSeconds}])},[D.arrowControl?ue("v-if",!0):($(!0),j($e,{key:0},Ke(l(v),J=>($(),de(l(Ea),{key:J,ref_for:!0,ref:V=>M(V,J),class:w(l(n).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":l(n).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:V=>m(J),onMousemove:V=>N(J)},{default:le(()=>[($(!0),j($e,null,Ke(l(h)[J],(V,L)=>($(),j("li",{key:L,class:w([l(n).be("spinner","item"),l(n).is("active",L===l(g)[J]),l(n).is("disabled",V)]),onClick:se=>z(J,{value:L,disabled:V})},[J==="hours"?($(),j($e,{key:0},[ct(me(("0"+(D.amPmMode?L%12||12:L)).slice(-2))+me(C(L)),1)],64)):($(),j($e,{key:1},[ct(me(("0"+L).slice(-2)),1)],64))],10,Vc))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),D.arrowControl?($(!0),j($e,{key:1},Ke(l(v),J=>($(),j("div",{key:J,class:w([l(n).be("spinner","wrapper"),l(n).is("arrow")]),onMouseenter:V=>m(J)},[_e(($(),de(l(Te),{class:w(["arrow-up",l(n).be("spinner","arrow")])},{default:le(()=>[G(l(Kl))]),_:1},8,["class"])),[[l(ga),W]]),_e(($(),de(l(Te),{class:w(["arrow-down",l(n).be("spinner","arrow")])},{default:le(()=>[G(l(Va))]),_:1},8,["class"])),[[l(ga),R]]),ee("ul",{class:w(l(n).be("spinner","list"))},[($(!0),j($e,null,Ke(l(b)[J],(V,L)=>($(),j("li",{key:L,class:w([l(n).be("spinner","item"),l(n).is("active",V===l(g)[J]),l(n).is("disabled",l(h)[J][V])])},[typeof V=="number"?($(),j($e,{key:0},[J==="hours"?($(),j($e,{key:0},[ct(me(("0"+(D.amPmMode?V%12||12:V)).slice(-2))+me(C(V)),1)],64)):($(),j($e,{key:1},[ct(me(("0"+V).slice(-2)),1)],64))],64)):ue("v-if",!0)],2))),128))],2)],42,Mc))),128)):ue("v-if",!0)],2))}});var il=Ve(Oc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Dc=ce({__name:"panel-time-pick",props:Nc,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const a=e,n=xe("EP_PICKER_BASE"),{arrowControl:o,disabledHours:r,disabledMinutes:s,disabledSeconds:i,defaultValue:d}=n.props,{getAvailableHours:f,getAvailableMinutes:p,getAvailableSeconds:u}=Ps(r,s,i),c=be("time"),{t:v,lang:g}=et(),h=K([0,2]),b=As(a),y=k(()=>_t(a.actualVisible)?`${c.namespace.value}-zoom-in-top`:""),C=k(()=>a.format.includes("ss")),m=k(()=>a.format.includes("A")?"A":a.format.includes("a")?"a":""),N=M=>{const D=ke(M).locale(g.value),U=z(D);return D.isSame(U)},I=()=>{t("pick",b.value,!1)},E=(M=!1,D=!1)=>{D||t("pick",a.parsedValue,M)},H=M=>{if(!a.visible)return;const D=z(M).millisecond(0);t("pick",D,!0)},P=(M,D)=>{t("select-range",M,D),h.value=[M,D]},R=M=>{const D=[0,3].concat(C.value?[6]:[]),U=["hours","minutes"].concat(C.value?["seconds"]:[]),V=(D.indexOf(h.value[0])+M+D.length)%D.length;Y.start_emitSelectRange(U[V])},W=M=>{const D=M.code,{left:U,right:J,up:V,down:L}=Me;if([U,J].includes(D)){R(D===U?-1:1),M.preventDefault();return}if([V,L].includes(D)){const se=D===V?-1:1;Y.start_scrollDown(se),M.preventDefault();return}},{timePickerOptions:Y,onSetOption:B,getAvailableTime:T}=Ds({getAvailableHours:f,getAvailableMinutes:p,getAvailableSeconds:u}),z=M=>T(M,a.datetimeRole||"",!0),oe=M=>M?ke(M,a.format).locale(g.value):null,q=M=>M?M.format(a.format):null,O=()=>ke(d).locale(g.value);return t("set-picker-option",["isValidValue",N]),t("set-picker-option",["formatToString",q]),t("set-picker-option",["parseUserInput",oe]),t("set-picker-option",["handleKeydownInput",W]),t("set-picker-option",["getRangeAvailableTime",z]),t("set-picker-option",["getDefaultValue",O]),(M,D)=>($(),de(Fr,{name:l(y)},{default:le(()=>[M.actualVisible||M.visible?($(),j("div",{key:0,class:w(l(c).b("panel"))},[ee("div",{class:w([l(c).be("panel","content"),{"has-seconds":l(C)}])},[G(il,{ref:"spinner",role:M.datetimeRole||"start","arrow-control":l(o),"show-seconds":l(C),"am-pm-mode":l(m),"spinner-date":M.parsedValue,"disabled-hours":l(r),"disabled-minutes":l(s),"disabled-seconds":l(i),onChange:H,onSetOption:l(B),onSelectRange:P},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),ee("div",{class:w(l(c).be("panel","footer"))},[ee("button",{type:"button",class:w([l(c).be("panel","btn"),"cancel"]),onClick:I},me(l(v)("el.datepicker.cancel")),3),ee("button",{type:"button",class:w([l(c).be("panel","btn"),"confirm"]),onClick:D[0]||(D[0]=U=>E())},me(l(v)("el.datepicker.confirm")),3)],2)],2)):ue("v-if",!0)]),_:1},8,["name"]))}});var ba=Ve(Dc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]);const Ic=Se({...Ms,parsedValue:{type:re(Array)}}),Pc=["disabled"],Ac=ce({__name:"panel-time-range",props:Ic,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const a=e,n=(_,Z)=>{const pe=[];for(let ye=_;ye<=Z;ye++)pe.push(ye);return pe},{t:o,lang:r}=et(),s=be("time"),i=be("picker"),d=xe("EP_PICKER_BASE"),{arrowControl:f,disabledHours:p,disabledMinutes:u,disabledSeconds:c,defaultValue:v}=d.props,g=k(()=>a.parsedValue[0]),h=k(()=>a.parsedValue[1]),b=As(a),y=()=>{t("pick",b.value,!1)},C=k(()=>a.format.includes("ss")),m=k(()=>a.format.includes("A")?"A":a.format.includes("a")?"a":""),N=(_=!1)=>{t("pick",[g.value,h.value],_)},I=_=>{P(_.millisecond(0),h.value)},E=_=>{P(g.value,_.millisecond(0))},H=_=>{const Z=_.map(ye=>ke(ye).locale(r.value)),pe=D(Z);return Z[0].isSame(pe[0])&&Z[1].isSame(pe[1])},P=(_,Z)=>{t("pick",[_,Z],!0)},R=k(()=>g.value>h.value),W=K([0,2]),Y=(_,Z)=>{t("select-range",_,Z,"min"),W.value=[_,Z]},B=k(()=>C.value?11:8),T=(_,Z)=>{t("select-range",_,Z,"max");const pe=l(B);W.value=[_+pe,Z+pe]},z=_=>{const Z=C.value?[0,3,6,11,14,17]:[0,3,8,11],pe=["hours","minutes"].concat(C.value?["seconds"]:[]),Oe=(Z.indexOf(W.value[0])+_+Z.length)%Z.length,Ne=Z.length/2;Oe<Ne?L.start_emitSelectRange(pe[Oe]):L.end_emitSelectRange(pe[Oe-Ne])},oe=_=>{const Z=_.code,{left:pe,right:ye,up:Oe,down:Ne}=Me;if([pe,ye].includes(Z)){z(Z===pe?-1:1),_.preventDefault();return}if([Oe,Ne].includes(Z)){const Ae=Z===Oe?-1:1,Ye=W.value[0]<B.value?"start":"end";L[`${Ye}_scrollDown`](Ae),_.preventDefault();return}},q=(_,Z)=>{const pe=p?p(_):[],ye=_==="start",Ne=(Z||(ye?h.value:g.value)).hour(),Ae=ye?n(Ne+1,23):n(0,Ne-1);return Ba(pe,Ae)},O=(_,Z,pe)=>{const ye=u?u(_,Z):[],Oe=Z==="start",Ne=pe||(Oe?h.value:g.value),Ae=Ne.hour();if(_!==Ae)return ye;const Ye=Ne.minute(),Ce=Oe?n(Ye+1,59):n(0,Ye-1);return Ba(ye,Ce)},M=(_,Z,pe,ye)=>{const Oe=c?c(_,Z,pe):[],Ne=pe==="start",Ae=ye||(Ne?h.value:g.value),Ye=Ae.hour(),Ce=Ae.minute();if(_!==Ye||Z!==Ce)return Oe;const rt=Ae.second(),ze=Ne?n(rt+1,59):n(0,rt-1);return Ba(Oe,ze)},D=([_,Z])=>[se(_,"start",!0,Z),se(Z,"end",!1,_)],{getAvailableHours:U,getAvailableMinutes:J,getAvailableSeconds:V}=Ps(q,O,M),{timePickerOptions:L,getAvailableTime:se,onSetOption:ie}=Ds({getAvailableHours:U,getAvailableMinutes:J,getAvailableSeconds:V}),x=_=>_?Re(_)?_.map(Z=>ke(Z,a.format).locale(r.value)):ke(_,a.format).locale(r.value):null,Q=_=>_?Re(_)?_.map(Z=>Z.format(a.format)):_.format(a.format):null,F=()=>{if(Re(v))return v.map(Z=>ke(Z).locale(r.value));const _=ke(v).locale(r.value);return[_,_.add(60,"m")]};return t("set-picker-option",["formatToString",Q]),t("set-picker-option",["parseUserInput",x]),t("set-picker-option",["isValidValue",H]),t("set-picker-option",["handleKeydownInput",oe]),t("set-picker-option",["getDefaultValue",F]),t("set-picker-option",["getRangeAvailableTime",D]),(_,Z)=>_.actualVisible?($(),j("div",{key:0,class:w([l(s).b("range-picker"),l(i).b("panel")])},[ee("div",{class:w(l(s).be("range-picker","content"))},[ee("div",{class:w(l(s).be("range-picker","cell"))},[ee("div",{class:w(l(s).be("range-picker","header"))},me(l(o)("el.datepicker.startTime")),3),ee("div",{class:w([l(s).be("range-picker","body"),l(s).be("panel","content"),l(s).is("arrow",l(f)),{"has-seconds":l(C)}])},[G(il,{ref:"minSpinner",role:"start","show-seconds":l(C),"am-pm-mode":l(m),"arrow-control":l(f),"spinner-date":l(g),"disabled-hours":q,"disabled-minutes":O,"disabled-seconds":M,onChange:I,onSetOption:l(ie),onSelectRange:Y},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),ee("div",{class:w(l(s).be("range-picker","cell"))},[ee("div",{class:w(l(s).be("range-picker","header"))},me(l(o)("el.datepicker.endTime")),3),ee("div",{class:w([l(s).be("range-picker","body"),l(s).be("panel","content"),l(s).is("arrow",l(f)),{"has-seconds":l(C)}])},[G(il,{ref:"maxSpinner",role:"end","show-seconds":l(C),"am-pm-mode":l(m),"arrow-control":l(f),"spinner-date":l(h),"disabled-hours":q,"disabled-minutes":O,"disabled-seconds":M,onChange:E,onSetOption:l(ie),onSelectRange:T},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),ee("div",{class:w(l(s).be("panel","footer"))},[ee("button",{type:"button",class:w([l(s).be("panel","btn"),"cancel"]),onClick:Z[0]||(Z[0]=pe=>y())},me(l(o)("el.datepicker.cancel")),3),ee("button",{type:"button",class:w([l(s).be("panel","btn"),"confirm"]),disabled:l(R),onClick:Z[1]||(Z[1]=pe=>N())},me(l(o)("el.datepicker.confirm")),11,Pc)],2)],2)):ue("v-if",!0)}});var Fc=Ve(Ac,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);ke.extend(Yl);var Rc=ce({name:"ElTimePicker",install:null,props:{...Gl,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const a=K(),[n,o]=e.isRange?["timerange",Fc]:["time",ba],r=s=>t.emit("update:modelValue",s);return at("ElPopperOptions",e.popperOptions),t.expose({focus:s=>{var i;(i=a.value)==null||i.handleFocusInput(s)},blur:s=>{var i;(i=a.value)==null||i.handleBlurInput(s)},handleOpen:()=>{var s;(s=a.value)==null||s.handleOpen()},handleClose:()=>{var s;(s=a.value)==null||s.handleClose()}}),()=>{var s;const i=(s=e.format)!=null?s:rl;return G(Os,bt(e,{ref:a,type:n,format:i,"onUpdate:modelValue":r}),{default:d=>G(o,d,null)})}}});const Zn=Rc;Zn.install=e=>{e.component(Zn.name,Zn)};const Lc=Zn;var ul={},Bc={get exports(){return ul},set exports(e){ul=e}};(function(e,t){(function(a,n){e.exports=n()})(Wt,function(){return function(a,n,o){var r=n.prototype,s=function(u){return u&&(u.indexOf?u:u.s)},i=function(u,c,v,g,h){var b=u.name?u:u.$locale(),y=s(b[c]),C=s(b[v]),m=y||C.map(function(I){return I.slice(0,g)});if(!h)return m;var N=b.weekStart;return m.map(function(I,E){return m[(E+(N||0))%7]})},d=function(){return o.Ls[o.locale()]},f=function(u,c){return u.formats[c]||function(v){return v.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,h,b){return h||b.slice(1)})}(u.formats[c.toUpperCase()])},p=function(){var u=this;return{months:function(c){return c?c.format("MMMM"):i(u,"months")},monthsShort:function(c){return c?c.format("MMM"):i(u,"monthsShort","months",3)},firstDayOfWeek:function(){return u.$locale().weekStart||0},weekdays:function(c){return c?c.format("dddd"):i(u,"weekdays")},weekdaysMin:function(c){return c?c.format("dd"):i(u,"weekdaysMin","weekdays",2)},weekdaysShort:function(c){return c?c.format("ddd"):i(u,"weekdaysShort","weekdays",3)},longDateFormat:function(c){return f(u.$locale(),c)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return p.bind(this)()},o.localeData=function(){var u=d();return{firstDayOfWeek:function(){return u.weekStart||0},weekdays:function(){return o.weekdays()},weekdaysShort:function(){return o.weekdaysShort()},weekdaysMin:function(){return o.weekdaysMin()},months:function(){return o.months()},monthsShort:function(){return o.monthsShort()},longDateFormat:function(c){return f(u,c)},meridiem:u.meridiem,ordinal:u.ordinal}},o.months=function(){return i(d(),"months")},o.monthsShort=function(){return i(d(),"monthsShort","months",3)},o.weekdays=function(u){return i(d(),"weekdays",null,null,u)},o.weekdaysShort=function(u){return i(d(),"weekdaysShort","weekdays",3,u)},o.weekdaysMin=function(u){return i(d(),"weekdaysMin","weekdays",2,u)}}})})(Bc);const _c=ul,Fs=Se({size:Rt,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Kc=Se({...Fs,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),Rs={[Be]:e=>tt(e)||Ze(e)||Dn(e),[pt]:e=>tt(e)||Ze(e)||Dn(e)},Ls=Symbol("radioGroupKey"),Bs=(e,t)=>{const a=K(),n=xe(Ls,void 0),o=k(()=>!!n),r=k({get(){return o.value?n.modelValue:e.modelValue},set(p){o.value?n.changeEvent(p):t&&t(Be,p),a.value.checked=e.modelValue===e.label}}),s=Lt(k(()=>n==null?void 0:n.size)),i=qt(k(()=>n==null?void 0:n.disabled)),d=K(!1),f=k(()=>i.value||o.value&&r.value!==e.label?-1:0);return{radioRef:a,isGroup:o,radioGroup:n,focus:d,size:s,disabled:i,tabIndex:f,modelValue:r}},xc=["value","name","disabled"],zc=ce({name:"ElRadio"}),jc=ce({...zc,props:Kc,emits:Rs,setup(e,{emit:t}){const a=e,n=be("radio"),{radioRef:o,radioGroup:r,focus:s,size:i,disabled:d,modelValue:f}=Bs(a,t);function p(){Ee(()=>t("change",f.value))}return(u,c)=>{var v;return $(),j("label",{class:w([l(n).b(),l(n).is("disabled",l(d)),l(n).is("focus",l(s)),l(n).is("bordered",u.border),l(n).is("checked",l(f)===u.label),l(n).m(l(i))])},[ee("span",{class:w([l(n).e("input"),l(n).is("disabled",l(d)),l(n).is("checked",l(f)===u.label)])},[_e(ee("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":c[0]||(c[0]=g=>hn(f)?f.value=g:null),class:w(l(n).e("original")),value:u.label,name:u.name||((v=l(r))==null?void 0:v.name),disabled:l(d),type:"radio",onFocus:c[1]||(c[1]=g=>s.value=!0),onBlur:c[2]||(c[2]=g=>s.value=!1),onChange:p},null,42,xc),[[ns,l(f)]]),ee("span",{class:w(l(n).e("inner"))},null,2)],2),ee("span",{class:w(l(n).e("label")),onKeydown:c[3]||(c[3]=we(()=>{},["stop"]))},[Ie(u.$slots,"default",{},()=>[ct(me(u.label),1)])],34)],2)}}});var Hc=Ve(jc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const qc=Se({...Fs,name:{type:String,default:""}}),Uc=["value","name","disabled"],Wc=ce({name:"ElRadioButton"}),Yc=ce({...Wc,props:qc,setup(e){const t=e,a=be("radio"),{radioRef:n,focus:o,size:r,disabled:s,modelValue:i,radioGroup:d}=Bs(t),f=k(()=>({backgroundColor:(d==null?void 0:d.fill)||"",borderColor:(d==null?void 0:d.fill)||"",boxShadow:d!=null&&d.fill?`-1px 0 0 0 ${d.fill}`:"",color:(d==null?void 0:d.textColor)||""}));return(p,u)=>{var c;return $(),j("label",{class:w([l(a).b("button"),l(a).is("active",l(i)===p.label),l(a).is("disabled",l(s)),l(a).is("focus",l(o)),l(a).bm("button",l(r))])},[_e(ee("input",{ref_key:"radioRef",ref:n,"onUpdate:modelValue":u[0]||(u[0]=v=>hn(i)?i.value=v:null),class:w(l(a).be("button","original-radio")),value:p.label,type:"radio",name:p.name||((c=l(d))==null?void 0:c.name),disabled:l(s),onFocus:u[1]||(u[1]=v=>o.value=!0),onBlur:u[2]||(u[2]=v=>o.value=!1)},null,42,Uc),[[ns,l(i)]]),ee("span",{class:w(l(a).be("button","inner")),style:De(l(i)===p.label?l(f):{}),onKeydown:u[3]||(u[3]=we(()=>{},["stop"]))},[Ie(p.$slots,"default",{},()=>[ct(me(p.label),1)])],38)],2)}}});var _s=Ve(Yc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Gc=Se({id:{type:String,default:void 0},size:Rt,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Xc=Rs,Zc=["id","aria-label","aria-labelledby"],Jc=ce({name:"ElRadioGroup"}),Qc=ce({...Jc,props:Gc,emits:Xc,setup(e,{emit:t}){const a=e,n=be("radio"),o=Jo(),r=K(),{formItem:s}=Yt(),{inputId:i,isLabeledByFormItem:d}=Ma(a,{formItemContext:s}),f=u=>{t(Be,u),Ee(()=>t("change",u))};ut(()=>{const u=r.value.querySelectorAll("[type=radio]"),c=u[0];!Array.from(u).some(v=>v.checked)&&c&&(c.tabIndex=0)});const p=k(()=>a.name||o.value);return at(Ls,nt({...Mt(a),changeEvent:f,name:p})),ge(()=>a.modelValue,()=>{a.validateEvent&&(s==null||s.validate("change").catch(u=>yt()))}),(u,c)=>($(),j("div",{id:l(i),ref_key:"radioGroupRef",ref:r,class:w(l(n).b("group")),role:"radiogroup","aria-label":l(d)?void 0:u.label||"radio-group","aria-labelledby":l(d)?l(s).labelId:void 0},[Ie(u.$slots,"default")],10,Zc))}});var Ks=Ve(Qc,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const xs=Et(Hc,{RadioButton:_s,RadioGroup:Ks}),To=Bl(Ks),ef=Bl(_s);var tf=ce({name:"NodeContent",setup(){return{ns:be("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:a}=this.$parent,{data:n,label:o}=t,{renderLabelFn:r}=a;return vt("span",{class:e.e("label")},r?r({node:t,data:n}):o)}});const Xl=Symbol(),nf=ce({name:"ElCascaderNode",components:{ElCheckbox:nn,ElRadio:xs,NodeContent:tf,ElIcon:Te,Check:Oa,Loading:Ta,ArrowRight:vn},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const a=xe(Xl),n=be("cascader-node"),o=k(()=>a.isHoverMenu),r=k(()=>a.config.multiple),s=k(()=>a.config.checkStrictly),i=k(()=>{var E;return(E=a.checkedNodes[0])==null?void 0:E.uid}),d=k(()=>e.node.isDisabled),f=k(()=>e.node.isLeaf),p=k(()=>s.value&&!f.value||!d.value),u=k(()=>v(a.expandingNode)),c=k(()=>s.value&&a.checkedNodes.some(v)),v=E=>{var H;const{level:P,uid:R}=e.node;return((H=E==null?void 0:E.pathNodes[P-1])==null?void 0:H.uid)===R},g=()=>{u.value||a.expandNode(e.node)},h=E=>{const{node:H}=e;E!==H.checked&&a.handleCheckChange(H,E)},b=()=>{a.lazyLoad(e.node,()=>{f.value||g()})},y=E=>{o.value&&(C(),!f.value&&t("expand",E))},C=()=>{const{node:E}=e;!p.value||E.loading||(E.loaded?g():b())},m=()=>{o.value&&!f.value||(f.value&&!d.value&&!s.value&&!r.value?I(!0):C())},N=E=>{s.value?(h(E),e.node.loaded&&g()):I(E)},I=E=>{e.node.loaded?(h(E),!s.value&&g()):b()};return{panel:a,isHoverMenu:o,multiple:r,checkStrictly:s,checkedNodeId:i,isDisabled:d,isLeaf:f,expandable:p,inExpandingPath:u,inCheckedPath:c,ns:n,handleHoverExpand:y,handleExpand:C,handleClick:m,handleCheck:I,handleSelectCheck:N}}}),af=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],lf=ee("span",null,null,-1);function of(e,t,a,n,o,r){const s=Je("el-checkbox"),i=Je("el-radio"),d=Je("check"),f=Je("el-icon"),p=Je("node-content"),u=Je("loading"),c=Je("arrow-right");return $(),j("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:w([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...v)=>e.handleHoverExpand&&e.handleHoverExpand(...v)),onFocus:t[3]||(t[3]=(...v)=>e.handleHoverExpand&&e.handleHoverExpand(...v)),onClick:t[4]||(t[4]=(...v)=>e.handleClick&&e.handleClick(...v))},[ue(" prefix "),e.multiple?($(),de(s,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=we(()=>{},["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?($(),de(i,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=we(()=>{},["stop"]))},{default:le(()=>[ue(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),lf]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?($(),de(f,{key:2,class:w(e.ns.e("prefix"))},{default:le(()=>[G(d)]),_:1},8,["class"])):ue("v-if",!0),ue(" content "),G(p),ue(" postfix "),e.isLeaf?ue("v-if",!0):($(),j($e,{key:3},[e.node.loading?($(),de(f,{key:0,class:w([e.ns.is("loading"),e.ns.e("postfix")])},{default:le(()=>[G(u)]),_:1},8,["class"])):($(),de(f,{key:1,class:w(["arrow-right",e.ns.e("postfix")])},{default:le(()=>[G(c)]),_:1},8,["class"]))],64))],42,af)}var sf=Ve(nf,[["render",of],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]]);const rf=ce({name:"ElCascaderMenu",components:{Loading:Ta,ElIcon:Te,ElScrollbar:Ea,ElCascaderNode:sf},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=kt(),a=be("cascader-menu"),{t:n}=et(),o=Cs();let r=null,s=null;const i=xe(Xl),d=K(null),f=k(()=>!e.nodes.length),p=k(()=>!i.initialLoaded),u=k(()=>`cascader-menu-${o}-${e.index}`),c=b=>{r=b.target},v=b=>{if(!(!i.isHoverMenu||!r||!d.value))if(r.contains(b.target)){g();const y=t.vnode.el,{left:C}=y.getBoundingClientRect(),{offsetWidth:m,offsetHeight:N}=y,I=b.clientX-C,E=r.offsetTop,H=E+r.offsetHeight;d.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${I} ${E} L${m} 0 V${E} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${I} ${H} L${m} ${N} V${H} Z" />
        `}else s||(s=window.setTimeout(h,i.config.hoverThreshold))},g=()=>{s&&(clearTimeout(s),s=null)},h=()=>{d.value&&(d.value.innerHTML="",g())};return{ns:a,panel:i,hoverZone:d,isEmpty:f,isLoading:p,menuId:u,t:n,handleExpand:c,handleMouseMove:v,clearHoverZone:h}}});function uf(e,t,a,n,o,r){const s=Je("el-cascader-node"),i=Je("loading"),d=Je("el-icon"),f=Je("el-scrollbar");return $(),de(f,{key:e.menuId,tag:"ul",role:"menu",class:w(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:le(()=>{var p;return[($(!0),j($e,null,Ke(e.nodes,u=>($(),de(s,{key:u.uid,node:u,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?($(),j("div",{key:0,class:w(e.ns.e("empty-text"))},[G(d,{size:"14",class:w(e.ns.is("loading"))},{default:le(()=>[G(i)]),_:1},8,["class"]),ct(" "+me(e.t("el.cascader.loading")),1)],2)):e.isEmpty?($(),j("div",{key:1,class:w(e.ns.e("empty-text"))},me(e.t("el.cascader.noData")),3)):(p=e.panel)!=null&&p.isHoverMenu?($(),j("svg",{key:2,ref:"hoverZone",class:w(e.ns.e("hover-zone"))},null,2)):ue("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var df=Ve(rf,[["render",uf],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let cf=0;const ff=e=>{const t=[e];let{parent:a}=e;for(;a;)t.unshift(a),a=a.parent;return t};let dl=class cl{constructor(t,a,n,o=!1){this.data=t,this.config=a,this.parent=n,this.root=o,this.uid=cf++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:r,label:s,children:i}=a,d=t[i],f=ff(this);this.level=o?0:n?n.level+1:1,this.value=t[r],this.label=t[s],this.pathNodes=f,this.pathValues=f.map(p=>p.value),this.pathLabels=f.map(p=>p.label),this.childrenData=d,this.children=(d||[]).map(p=>new cl(p,a,this)),this.loaded=!a.lazy||this.isLeaf||!Tt(d)}get isDisabled(){const{data:t,parent:a,config:n}=this,{disabled:o,checkStrictly:r}=n;return(ft(o)?o(t,this):!!t[o])||!r&&(a==null?void 0:a.isDisabled)}get isLeaf(){const{data:t,config:a,childrenData:n,loaded:o}=this,{lazy:r,leaf:s}=a,i=ft(s)?s(t,this):t[s];return _t(i)?r&&!o?!1:!(Array.isArray(n)&&n.length):!!i}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:a,children:n}=this,o=new cl(t,this.config,this);return Array.isArray(a)?a.push(t):this.childrenData=[t],n.push(o),o}calcText(t,a){const n=t?this.pathLabels.join(a):this.label;return this.text=n,n}broadcast(t,...a){const n=`onParent${oo(t)}`;this.children.forEach(o=>{o&&(o.broadcast(t,...a),o[n]&&o[n](...a))})}emit(t,...a){const{parent:n}=this,o=`onChild${oo(t)}`;n&&(n[o]&&n[o](...a),n.emit(t,...a))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,a=t.filter(o=>!o.isDisabled),n=a.length?a.every(o=>o.checked):!1;this.setCheckState(n)}setCheckState(t){const a=this.children.length,n=this.children.reduce((o,r)=>{const s=r.checked?1:r.indeterminate?.5:0;return o+s},0);this.checked=this.loaded&&this.children.filter(o=>!o.isDisabled).every(o=>o.loaded&&o.checked)&&t,this.indeterminate=this.loaded&&n!==a&&n>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:a,multiple:n}=this.config;a||!n?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const fl=(e,t)=>e.reduce((a,n)=>(n.isLeaf?a.push(n):(!t&&a.push(n),a=a.concat(fl(n.children,t))),a),[]);class Vo{constructor(t,a){this.config=a;const n=(t||[]).map(o=>new dl(o,this.config));this.nodes=n,this.allNodes=fl(n,!1),this.leafNodes=fl(n,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,a){const n=a?a.appendChild(t):new dl(t,this.config);a||this.nodes.push(n),this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n)}appendNodes(t,a){t.forEach(n=>this.appendNode(n,a))}getNodeByValue(t,a=!1){return!t&&t!==0?null:this.getFlattedNodes(a).find(o=>Kt(o.value,t)||Kt(o.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:n,level:o})=>Kt(t.value,n)&&t.level===o)||null}}const zs=Se({modelValue:{type:re([Number,String,Array])},options:{type:re(Array),default:()=>[]},props:{type:re(Object),default:()=>({})}}),pf={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:it,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},hf=e=>k(()=>({...pf,...e.props})),Mo=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},vf=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():Rr(e)&&e.click()},mf=(e,t)=>{const a=t.slice(0),n=a.map(r=>r.uid),o=e.reduce((r,s)=>{const i=n.indexOf(s.uid);return i>-1&&(r.push(s),a.splice(i,1),n.splice(i,1)),r},[]);return o.push(...a),o},gf=ce({name:"ElCascaderPanel",components:{ElCascaderMenu:df},props:{...zs,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Be,pt,"close","expand-change"],setup(e,{emit:t,slots:a}){let n=!1;const o=be("cascader"),r=hf(e);let s=null;const i=K(!0),d=K([]),f=K(null),p=K([]),u=K(null),c=K([]),v=k(()=>r.value.expandTrigger==="hover"),g=k(()=>e.renderLabel||a.default),h=()=>{const{options:B}=e,T=r.value;n=!1,s=new Vo(B,T),p.value=[s.getNodes()],T.lazy&&Tt(e.options)?(i.value=!1,b(void 0,z=>{z&&(s=new Vo(z,T),p.value=[s.getNodes()]),i.value=!0,P(!1,!0)})):P(!1,!0)},b=(B,T)=>{const z=r.value;B=B||new dl({},z,void 0,!0),B.loading=!0;const oe=q=>{const O=B,M=O.root?null:O;q&&(s==null||s.appendNodes(q,M)),O.loading=!1,O.loaded=!0,O.childrenData=O.childrenData||[],T&&T(q)};z.lazyLoad(B,oe)},y=(B,T)=>{var z;const{level:oe}=B,q=p.value.slice(0,oe);let O;B.isLeaf?O=B.pathNodes[oe-2]:(O=B,q.push(B.children)),((z=u.value)==null?void 0:z.uid)!==(O==null?void 0:O.uid)&&(u.value=B,p.value=q,!T&&t("expand-change",(B==null?void 0:B.pathValues)||[]))},C=(B,T,z=!0)=>{const{checkStrictly:oe,multiple:q}=r.value,O=c.value[0];n=!0,!q&&(O==null||O.doCheck(!1)),B.doCheck(T),H(),z&&!q&&!oe&&t("close"),!z&&!q&&!oe&&m(B)},m=B=>{B&&(B=B.parent,m(B),B&&y(B))},N=B=>s==null?void 0:s.getFlattedNodes(B),I=B=>{var T;return(T=N(B))==null?void 0:T.filter(z=>z.checked!==!1)},E=()=>{c.value.forEach(B=>B.doCheck(!1)),H(),p.value=p.value.slice(0,1),u.value=null,t("expand-change",[])},H=()=>{var B;const{checkStrictly:T,multiple:z}=r.value,oe=c.value,q=I(!T),O=mf(oe,q),M=O.map(D=>D.valueByOption);c.value=O,f.value=z?M:(B=M[0])!=null?B:null},P=(B=!1,T=!1)=>{const{modelValue:z}=e,{lazy:oe,multiple:q,checkStrictly:O}=r.value,M=!O;if(!(!i.value||n||!T&&Kt(z,f.value)))if(oe&&!B){const U=vo(sd(xt(z))).map(J=>s==null?void 0:s.getNodeByValue(J)).filter(J=>!!J&&!J.loaded&&!J.loading);U.length?U.forEach(J=>{b(J,()=>P(!1,T))}):P(!0,T)}else{const D=q?xt(z):[z],U=vo(D.map(J=>s==null?void 0:s.getNodeByValue(J,M)));R(U,T),f.value=Wl(z)}},R=(B,T=!0)=>{const{checkStrictly:z}=r.value,oe=c.value,q=B.filter(D=>!!D&&(z||D.isLeaf)),O=s==null?void 0:s.getSameNode(u.value),M=T&&O||q[0];M?M.pathNodes.forEach(D=>y(D,!0)):u.value=null,oe.forEach(D=>D.doCheck(!1)),q.forEach(D=>D.doCheck(!0)),c.value=q,Ee(W)},W=()=>{Sn&&d.value.forEach(B=>{const T=B==null?void 0:B.$el;if(T){const z=T.querySelector(`.${o.namespace.value}-scrollbar__wrap`),oe=T.querySelector(`.${o.b("node")}.${o.is("active")}`)||T.querySelector(`.${o.b("node")}.in-active-path`);Br(z,oe)}})},Y=B=>{const T=B.target,{code:z}=B;switch(z){case Me.up:case Me.down:{B.preventDefault();const oe=z===Me.up?-1:1;Gn(as(T,oe,`.${o.b("node")}[tabindex="-1"]`));break}case Me.left:{B.preventDefault();const oe=d.value[Mo(T)-1],q=oe==null?void 0:oe.$el.querySelector(`.${o.b("node")}[aria-expanded="true"]`);Gn(q);break}case Me.right:{B.preventDefault();const oe=d.value[Mo(T)+1],q=oe==null?void 0:oe.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`);Gn(q);break}case Me.enter:vf(T);break}};return at(Xl,nt({config:r,expandingNode:u,checkedNodes:c,isHoverMenu:v,initialLoaded:i,renderLabelFn:g,lazyLoad:b,expandNode:y,handleCheckChange:C})),ge([r,()=>e.options],h,{deep:!0,immediate:!0}),ge(()=>e.modelValue,()=>{n=!1,P()},{deep:!0}),ge(()=>f.value,B=>{Kt(B,e.modelValue)||(t(Be,B),t(pt,B))}),Lr(()=>d.value=[]),ut(()=>!Tt(e.modelValue)&&P()),{ns:o,menuList:d,menus:p,checkedNodes:c,handleKeyDown:Y,handleCheckChange:C,getFlattedNodes:N,getCheckedNodes:I,clearCheckedNodes:E,calculateCheckedValue:H,scrollToExpandingNode:W}}});function bf(e,t,a,n,o,r){const s=Je("el-cascader-menu");return $(),j("div",{class:w([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...i)=>e.handleKeyDown&&e.handleKeyDown(...i))},[($(!0),j($e,null,Ke(e.menus,(i,d)=>($(),de(s,{key:d,ref_for:!0,ref:f=>e.menuList[d]=f,index:d,nodes:[...i]},null,8,["index","nodes"]))),128))],34)}var Jn=Ve(gf,[["render",bf],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);Jn.install=e=>{e.component(Jn.name,Jn)};const yf=Jn,kf=Se({...zs,size:Rt,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:re(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:re(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:_l.teleported,tagType:{...Vi.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),Cf={[Be]:e=>!!e||e===null,[pt]:e=>!!e||e===null,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>Dn(e),expandChange:e=>!!e,removeTag:e=>!!e},wf={key:0},Sf=["placeholder","onKeydown"],Nf=["onClick"],$f="ElCascader",Ef=ce({name:$f}),Tf=ce({...Ef,props:kf,emits:Cf,setup(e,{expose:t,emit:a}){const n=e,o={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:X})=>{const{modifiersData:S,placement:A}=X;["right","left","bottom","top"].includes(A)||(S.arrow.x=35)},requires:["arrow"]}]},r=$a();let s=0,i=0;const d=be("cascader"),f=be("input"),{t:p}=et(),{form:u,formItem:c}=Yt(),v=K(null),g=K(null),h=K(null),b=K(null),y=K(null),C=K(!1),m=K(!1),N=K(!1),I=K(!1),E=K(""),H=K(""),P=K([]),R=K([]),W=K([]),Y=K(!1),B=k(()=>r.style),T=k(()=>n.disabled||(u==null?void 0:u.disabled)),z=k(()=>n.placeholder||p("el.cascader.placeholder")),oe=k(()=>H.value||P.value.length>0||Y.value?"":z.value),q=Lt(),O=k(()=>["small"].includes(q.value)?"small":"default"),M=k(()=>!!n.props.multiple),D=k(()=>!n.filterable||M.value),U=k(()=>M.value?H.value:E.value),J=k(()=>{var X;return((X=b.value)==null?void 0:X.checkedNodes)||[]}),V=k(()=>!n.clearable||T.value||N.value||!m.value?!1:!!J.value.length),L=k(()=>{const{showAllLevels:X,separator:S}=n,A=J.value;return A.length?M.value?"":A[0].calcText(X,S):""}),se=k({get(){return Wl(n.modelValue)},set(X){a(Be,X),a(pt,X),n.validateEvent&&(c==null||c.validate("change").catch(S=>yt()))}}),ie=k(()=>[d.b(),d.m(q.value),d.is("disabled",T.value),r.class]),x=k(()=>[f.e("icon"),"icon-arrow-down",d.is("reverse",C.value)]),Q=k(()=>d.is("focus",C.value||I.value)),F=k(()=>{var X,S;return(S=(X=v.value)==null?void 0:X.popperRef)==null?void 0:S.contentRef}),_=X=>{var S,A,ne;T.value||(X=X??!C.value,X!==C.value&&(C.value=X,(A=(S=g.value)==null?void 0:S.input)==null||A.setAttribute("aria-expanded",`${X}`),X?(Z(),Ee((ne=b.value)==null?void 0:ne.scrollToExpandingNode)):n.filterable&&mt(),a("visibleChange",X)))},Z=()=>{Ee(()=>{var X;(X=v.value)==null||X.updatePopper()})},pe=()=>{N.value=!1},ye=X=>{const{showAllLevels:S,separator:A}=n;return{node:X,key:X.uid,text:X.calcText(S,A),hitState:!1,closable:!T.value&&!X.isDisabled,isCollapseTag:!1}},Oe=X=>{var S;const A=X.node;A.doCheck(!1),(S=b.value)==null||S.calculateCheckedValue(),a("removeTag",A.valueByOption)},Ne=()=>{if(!M.value)return;const X=J.value,S=[],A=[];if(X.forEach(ne=>A.push(ye(ne))),R.value=A,X.length){const[ne,...fe]=X,Fe=fe.length;S.push(ye(ne)),Fe&&(n.collapseTags?S.push({key:-1,text:`+ ${Fe}`,closable:!1,isCollapseTag:!0}):fe.forEach(Qe=>S.push(ye(Qe))))}P.value=S},Ae=()=>{var X,S;const{filterMethod:A,showAllLevels:ne,separator:fe}=n,Fe=(S=(X=b.value)==null?void 0:X.getFlattedNodes(!n.props.checkStrictly))==null?void 0:S.filter(Qe=>Qe.isDisabled?!1:(Qe.calcText(ne,fe),A(Qe,U.value)));M.value&&(P.value.forEach(Qe=>{Qe.hitState=!1}),R.value.forEach(Qe=>{Qe.hitState=!1})),N.value=!0,W.value=Fe,Z()},Ye=()=>{var X;let S;N.value&&y.value?S=y.value.$el.querySelector(`.${d.e("suggestion-item")}`):S=(X=b.value)==null?void 0:X.$el.querySelector(`.${d.b("node")}[tabindex="-1"]`),S&&(S.focus(),!N.value&&S.click())},Ce=()=>{var X,S;const A=(X=g.value)==null?void 0:X.input,ne=h.value,fe=(S=y.value)==null?void 0:S.$el;if(!(!Sn||!A)){if(fe){const Fe=fe.querySelector(`.${d.e("suggestion-list")}`);Fe.style.minWidth=`${A.offsetWidth}px`}if(ne){const{offsetHeight:Fe}=ne,Qe=P.value.length>0?`${Math.max(Fe+6,s)}px`:`${s}px`;A.style.height=Qe,Z()}}},rt=X=>{var S;return(S=b.value)==null?void 0:S.getCheckedNodes(X)},ze=X=>{Z(),a("expandChange",X)},Xe=X=>{var S;const A=(S=X.target)==null?void 0:S.value;if(X.type==="compositionend")Y.value=!1,Ee(()=>he(A));else{const ne=A[A.length-1]||"";Y.value=!is(ne)}},We=X=>{if(!Y.value)switch(X.code){case Me.enter:_();break;case Me.down:_(!0),Ee(Ye),X.preventDefault();break;case Me.esc:C.value===!0&&(X.preventDefault(),X.stopPropagation(),_(!1));break;case Me.tab:_(!1);break}},ht=()=>{var X;(X=b.value)==null||X.clearCheckedNodes(),!C.value&&n.filterable&&mt(),_(!1)},mt=()=>{const{value:X}=L;E.value=X,H.value=X},Ct=X=>{var S,A;const{checked:ne}=X;M.value?(S=b.value)==null||S.handleCheckChange(X,!ne,!1):(!ne&&((A=b.value)==null||A.handleCheckChange(X,!0,!1)),_(!1))},wt=X=>{const S=X.target,{code:A}=X;switch(A){case Me.up:case Me.down:{const ne=A===Me.up?-1:1;Gn(as(S,ne,`.${d.e("suggestion-item")}[tabindex="-1"]`));break}case Me.enter:S.click();break}},Ot=()=>{const X=P.value,S=X[X.length-1];i=H.value?0:i+1,!(!S||!i||n.collapseTags&&X.length>1)&&(S.hitState?Oe(S):S.hitState=!0)},Dt=X=>{const S=X.target,A=d.e("search-input");S.className===A&&(I.value=!0),a("focus",X)},je=X=>{I.value=!1,a("blur",X)},ae=tn(()=>{const{value:X}=U;if(!X)return;const S=n.beforeFilter(X);_r(S)?S.then(Ae).catch(()=>{}):S!==!1?Ae():pe()},n.debounce),he=(X,S)=>{!C.value&&_(!0),!(S!=null&&S.isComposing)&&(X?ae():pe())};return ge(N,Z),ge([J,T],Ne),ge(P,()=>{Ee(()=>Ce())}),ge(L,mt,{immediate:!0}),ut(()=>{const X=g.value.input,S=Number.parseFloat(Kr(f.cssVarName("input-height"),X).value)-2;s=X.offsetHeight||S,Ll(X,Ce)}),t({getCheckedNodes:rt,cascaderPanelRef:b,togglePopperVisible:_,contentRef:F}),(X,S)=>($(),de(l(Qt),{ref_key:"tooltipRef",ref:v,visible:C.value,teleported:X.teleported,"popper-class":[l(d).e("dropdown"),X.popperClass],"popper-options":o,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${l(d).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:pe},{default:le(()=>[_e(($(),j("div",{class:w(l(ie)),style:De(l(B)),onClick:S[5]||(S[5]=()=>_(l(D)?void 0:!0)),onKeydown:We,onMouseenter:S[6]||(S[6]=A=>m.value=!0),onMouseleave:S[7]||(S[7]=A=>m.value=!1)},[G(l(St),{ref_key:"input",ref:g,modelValue:E.value,"onUpdate:modelValue":S[1]||(S[1]=A=>E.value=A),placeholder:l(oe),readonly:l(D),disabled:l(T),"validate-event":!1,size:l(q),class:w(l(Q)),tabindex:l(M)&&X.filterable&&!l(T)?-1:void 0,onCompositionstart:Xe,onCompositionupdate:Xe,onCompositionend:Xe,onFocus:Dt,onBlur:je,onInput:he},{suffix:le(()=>[l(V)?($(),de(l(Te),{key:"clear",class:w([l(f).e("icon"),"icon-circle-close"]),onClick:we(ht,["stop"])},{default:le(()=>[G(l(Bn))]),_:1},8,["class","onClick"])):($(),de(l(Te),{key:"arrow-down",class:w(l(x)),onClick:S[0]||(S[0]=we(A=>_(),["stop"]))},{default:le(()=>[G(l(Va))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),l(M)?($(),j("div",{key:0,ref_key:"tagWrapper",ref:h,class:w(l(d).e("tags"))},[($(!0),j($e,null,Ke(P.value,A=>($(),de(l(Ja),{key:A.key,type:X.tagType,size:l(O),hit:A.hitState,closable:A.closable,"disable-transitions":"",onClose:ne=>Oe(A)},{default:le(()=>[A.isCollapseTag===!1?($(),j("span",wf,me(A.text),1)):($(),de(l(Qt),{key:1,disabled:C.value||!X.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:le(()=>[ee("span",null,me(A.text),1)]),content:le(()=>[ee("div",{class:w(l(d).e("collapse-tags"))},[($(!0),j($e,null,Ke(R.value.slice(1),(ne,fe)=>($(),j("div",{key:fe,class:w(l(d).e("collapse-tag"))},[($(),de(l(Ja),{key:ne.key,class:"in-tooltip",type:X.tagType,size:l(O),hit:ne.hitState,closable:ne.closable,"disable-transitions":"",onClose:Fe=>Oe(ne)},{default:le(()=>[ee("span",null,me(ne.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),X.filterable&&!l(T)?_e(($(),j("input",{key:0,"onUpdate:modelValue":S[2]||(S[2]=A=>H.value=A),type:"text",class:w(l(d).e("search-input")),placeholder:l(L)?"":l(z),onInput:S[3]||(S[3]=A=>he(H.value,A)),onClick:S[4]||(S[4]=we(A=>_(!0),["stop"])),onKeydown:Ue(Ot,["delete"]),onCompositionstart:Xe,onCompositionupdate:Xe,onCompositionend:Xe,onFocus:Dt,onBlur:je},null,42,Sf)),[[ls,H.value]]):ue("v-if",!0)],2)):ue("v-if",!0)],38)),[[l(Cn),()=>_(!1),l(F)]])]),content:le(()=>[_e(G(l(yf),{ref_key:"cascaderPanelRef",ref:b,modelValue:l(se),"onUpdate:modelValue":S[8]||(S[8]=A=>hn(se)?se.value=A:null),options:X.options,props:n.props,border:!1,"render-label":X.$slots.default,onExpandChange:ze,onClose:S[9]||(S[9]=A=>X.$nextTick(()=>_(!1)))},null,8,["modelValue","options","props","render-label"]),[[lt,!N.value]]),X.filterable?_e(($(),de(l(Ea),{key:0,ref_key:"suggestionPanel",ref:y,tag:"ul",class:w(l(d).e("suggestion-panel")),"view-class":l(d).e("suggestion-list"),onKeydown:wt},{default:le(()=>[W.value.length?($(!0),j($e,{key:0},Ke(W.value,A=>($(),j("li",{key:A.uid,class:w([l(d).e("suggestion-item"),l(d).is("checked",A.checked)]),tabindex:-1,onClick:ne=>Ct(A)},[ee("span",null,me(A.text),1),A.checked?($(),de(l(Te),{key:0},{default:le(()=>[G(l(Oa))]),_:1})):ue("v-if",!0)],10,Nf))),128)):Ie(X.$slots,"empty",{key:1},()=>[ee("li",{class:w(l(d).e("empty-text"))},me(l(p)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[lt,N.value]]):ue("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var Qn=Ve(Tf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);Qn.install=e=>{e.component(Qn.name,Qn)};const Vf=Qn,Mf=Vf,js=Symbol("rowContextKey"),Of=["start","center","end","space-around","space-between","space-evenly"],Df=["top","middle","bottom"],If=Se({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Of,default:"start"},align:{type:String,values:Df,default:"top"}}),Pf=ce({name:"ElRow"}),Af=ce({...Pf,props:If,setup(e){const t=e,a=be("row"),n=k(()=>t.gutter);at(js,{gutter:n});const o=k(()=>{const s={};return t.gutter&&(s.marginRight=s.marginLeft=`-${t.gutter/2}px`),s}),r=k(()=>[a.b(),a.is(`justify-${t.justify}`,t.justify!=="start"),a.is(`align-${t.align}`,t.align!=="top")]);return(s,i)=>($(),de(ot(s.tag),{class:w(l(r)),style:De(l(o))},{default:le(()=>[Ie(s.$slots,"default")]),_:3},8,["class","style"]))}});var Ff=Ve(Af,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const Rf=Et(Ff),Lf=Se({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:re([Number,Object]),default:()=>dt({})},sm:{type:re([Number,Object]),default:()=>dt({})},md:{type:re([Number,Object]),default:()=>dt({})},lg:{type:re([Number,Object]),default:()=>dt({})},xl:{type:re([Number,Object]),default:()=>dt({})}}),Bf=ce({name:"ElCol"}),_f=ce({...Bf,props:Lf,setup(e){const t=e,{gutter:a}=xe(js,{gutter:k(()=>0)}),n=be("col"),o=k(()=>{const s={};return a.value&&(s.paddingLeft=s.paddingRight=`${a.value/2}px`),s}),r=k(()=>{const s=[];return["span","offset","pull","push"].forEach(f=>{const p=t[f];Ze(p)&&(f==="span"?s.push(n.b(`${t[f]}`)):p>0&&s.push(n.b(`${f}-${t[f]}`)))}),["xs","sm","md","lg","xl"].forEach(f=>{Ze(t[f])?s.push(n.b(`${f}-${t[f]}`)):Vt(t[f])&&Object.entries(t[f]).forEach(([p,u])=>{s.push(p!=="span"?n.b(`${f}-${p}-${u}`):n.b(`${f}-${u}`))})}),a.value&&s.push(n.is("guttered")),[n.b(),s]});return(s,i)=>($(),de(ot(s.tag),{class:w(l(r)),style:De(l(o))},{default:le(()=>[Ie(s.$slots,"default")]),_:3},8,["class","style"]))}});var Kf=Ve(_f,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const xf=Et(Kf),zf=Se({color:{type:re(Object),required:!0},vertical:{type:Boolean,default:!1}});let ja=!1;function Fn(e,t){if(!Sn)return;const a=function(r){var s;(s=t.drag)==null||s.call(t,r)},n=function(r){var s;document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",n),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",n),document.onselectstart=null,document.ondragstart=null,ja=!1,(s=t.end)==null||s.call(t,r)},o=function(r){var s;ja||(r.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",a),document.addEventListener("mouseup",n),document.addEventListener("touchmove",a),document.addEventListener("touchend",n),ja=!0,(s=t.start)==null||s.call(t,r))};e.addEventListener("mousedown",o),e.addEventListener("touchstart",o)}const jf=e=>{const t=kt(),a=jt(),n=jt();function o(s){s.target!==a.value&&r(s)}function r(s){if(!n.value||!a.value)return;const d=t.vnode.el.getBoundingClientRect(),{clientX:f,clientY:p}=Ul(s);if(e.vertical){let u=p-d.top;u=Math.max(a.value.offsetHeight/2,u),u=Math.min(u,d.height-a.value.offsetHeight/2),e.color.set("alpha",Math.round((u-a.value.offsetHeight/2)/(d.height-a.value.offsetHeight)*100))}else{let u=f-d.left;u=Math.max(a.value.offsetWidth/2,u),u=Math.min(u,d.width-a.value.offsetWidth/2),e.color.set("alpha",Math.round((u-a.value.offsetWidth/2)/(d.width-a.value.offsetWidth)*100))}}return{thumb:a,bar:n,handleDrag:r,handleClick:o}},Hf=(e,{bar:t,thumb:a,handleDrag:n})=>{const o=kt(),r=be("color-alpha-slider"),s=K(0),i=K(0),d=K();function f(){if(!a.value||e.vertical)return 0;const C=o.vnode.el,m=e.color.get("alpha");return C?Math.round(m*(C.offsetWidth-a.value.offsetWidth/2)/100):0}function p(){if(!a.value)return 0;const C=o.vnode.el;if(!e.vertical)return 0;const m=e.color.get("alpha");return C?Math.round(m*(C.offsetHeight-a.value.offsetHeight/2)/100):0}function u(){if(e.color&&e.color.value){const{r:C,g:m,b:N}=e.color.toRgb();return`linear-gradient(to right, rgba(${C}, ${m}, ${N}, 0) 0%, rgba(${C}, ${m}, ${N}, 1) 100%)`}return""}function c(){s.value=f(),i.value=p(),d.value=u()}ut(()=>{if(!t.value||!a.value)return;const C={drag:m=>{n(m)},end:m=>{n(m)}};Fn(t.value,C),Fn(a.value,C),c()}),ge(()=>e.color.get("alpha"),()=>c()),ge(()=>e.color.value,()=>c());const v=k(()=>[r.b(),r.is("vertical",e.vertical)]),g=k(()=>r.e("bar")),h=k(()=>r.e("thumb")),b=k(()=>({background:d.value})),y=k(()=>({left:ua(s.value),top:ua(i.value)}));return{rootKls:v,barKls:g,barStyle:b,thumbKls:h,thumbStyle:y,update:c}},qf="ElColorAlphaSlider",Uf=ce({name:qf}),Wf=ce({...Uf,props:zf,setup(e,{expose:t}){const a=e,{bar:n,thumb:o,handleDrag:r,handleClick:s}=jf(a),{rootKls:i,barKls:d,barStyle:f,thumbKls:p,thumbStyle:u,update:c}=Hf(a,{bar:n,thumb:o,handleDrag:r});return t({update:c,bar:n,thumb:o}),(v,g)=>($(),j("div",{class:w(l(i))},[ee("div",{ref_key:"bar",ref:n,class:w(l(d)),style:De(l(f)),onClick:g[0]||(g[0]=(...h)=>l(s)&&l(s)(...h))},null,6),ee("div",{ref_key:"thumb",ref:o,class:w(l(p)),style:De(l(u))},null,6)],2))}});var Yf=Ve(Wf,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);const Gf=ce({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=be("color-hue-slider"),a=kt(),n=K(),o=K(),r=K(0),s=K(0),i=k(()=>e.color.get("hue"));ge(()=>i.value,()=>{c()});function d(v){v.target!==n.value&&f(v)}function f(v){if(!o.value||!n.value)return;const h=a.vnode.el.getBoundingClientRect(),{clientX:b,clientY:y}=Ul(v);let C;if(e.vertical){let m=y-h.top;m=Math.min(m,h.height-n.value.offsetHeight/2),m=Math.max(n.value.offsetHeight/2,m),C=Math.round((m-n.value.offsetHeight/2)/(h.height-n.value.offsetHeight)*360)}else{let m=b-h.left;m=Math.min(m,h.width-n.value.offsetWidth/2),m=Math.max(n.value.offsetWidth/2,m),C=Math.round((m-n.value.offsetWidth/2)/(h.width-n.value.offsetWidth)*360)}e.color.set("hue",C)}function p(){if(!n.value)return 0;const v=a.vnode.el;if(e.vertical)return 0;const g=e.color.get("hue");return v?Math.round(g*(v.offsetWidth-n.value.offsetWidth/2)/360):0}function u(){if(!n.value)return 0;const v=a.vnode.el;if(!e.vertical)return 0;const g=e.color.get("hue");return v?Math.round(g*(v.offsetHeight-n.value.offsetHeight/2)/360):0}function c(){r.value=p(),s.value=u()}return ut(()=>{if(!o.value||!n.value)return;const v={drag:g=>{f(g)},end:g=>{f(g)}};Fn(o.value,v),Fn(n.value,v),c()}),{bar:o,thumb:n,thumbLeft:r,thumbTop:s,hueValue:i,handleClick:d,update:c,ns:t}}});function Xf(e,t,a,n,o,r){return $(),j("div",{class:w([e.ns.b(),e.ns.is("vertical",e.vertical)])},[ee("div",{ref:"bar",class:w(e.ns.e("bar")),onClick:t[0]||(t[0]=(...s)=>e.handleClick&&e.handleClick(...s))},null,2),ee("div",{ref:"thumb",class:w(e.ns.e("thumb")),style:De({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var Zf=Ve(Gf,[["render",Xf],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const Jf=Se({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Rt,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:re(Array)},validateEvent:{type:Boolean,default:!0}}),Qf={[Be]:e=>tt(e)||$t(e),[pt]:e=>tt(e)||$t(e),activeChange:e=>tt(e)||$t(e)},Hs=Symbol("colorPickerContextKey"),Oo=function(e,t,a){return[e,t*a/((e=(2-t)*a)<1?e:2-e)||0,e/2]},ep=function(e){return typeof e=="string"&&e.includes(".")&&Number.parseFloat(e)===1},tp=function(e){return typeof e=="string"&&e.includes("%")},mn=function(e,t){ep(e)&&(e="100%");const a=tp(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),a&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},Do={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},ea=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),a=e%16;return`${Do[t]||t}${Do[a]||a}`},Io=function({r:e,g:t,b:a}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+a)?"":`#${ea(e)}${ea(t)}${ea(a)}`},Ha={A:10,B:11,C:12,D:13,E:14,F:15},Xt=function(e){return e.length===2?(Ha[e[0].toUpperCase()]||+e[0])*16+(Ha[e[1].toUpperCase()]||+e[1]):Ha[e[1].toUpperCase()]||+e[1]},np=function(e,t,a){t=t/100,a=a/100;let n=t;const o=Math.max(a,.01);a*=2,t*=a<=1?a:2-a,n*=o<=1?o:2-o;const r=(a+t)/2,s=a===0?2*n/(o+n):2*t/(a+t);return{h:e,s:s*100,v:r*100}},Po=(e,t,a)=>{e=mn(e,255),t=mn(t,255),a=mn(a,255);const n=Math.max(e,t,a),o=Math.min(e,t,a);let r;const s=n,i=n-o,d=n===0?0:i/n;if(n===o)r=0;else{switch(n){case e:{r=(t-a)/i+(t<a?6:0);break}case t:{r=(a-e)/i+2;break}case a:{r=(e-t)/i+4;break}}r/=6}return{h:r*360,s:d*100,v:s*100}},$n=function(e,t,a){e=mn(e,360)*6,t=mn(t,100),a=mn(a,100);const n=Math.floor(e),o=e-n,r=a*(1-t),s=a*(1-o*t),i=a*(1-(1-o)*t),d=n%6,f=[a,s,r,r,i,a][d],p=[i,a,a,s,r,r][d],u=[r,r,i,a,a,s][d];return{r:Math.round(f*255),g:Math.round(p*255),b:Math.round(u*255)}};class On{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const a in t)yn(t,a)&&(this[a]=t[a]);t.value?this.fromString(t.value):this.doOnChange()}set(t,a){if(arguments.length===1&&typeof t=="object"){for(const n in t)yn(t,n)&&this.set(n,t[n]);return}this[`_${t}`]=a,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return $n(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const a=(n,o,r)=>{this._hue=Math.max(0,Math.min(360,n)),this._saturation=Math.max(0,Math.min(100,o)),this._value=Math.max(0,Math.min(100,r)),this.doOnChange()};if(t.includes("hsl")){const n=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,r)=>r>2?Number.parseFloat(o):Number.parseInt(o,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:o,s:r,v:s}=np(n[0],n[1],n[2]);a(o,r,s)}}else if(t.includes("hsv")){const n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,r)=>r>2?Number.parseFloat(o):Number.parseInt(o,10));n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3&&a(n[0],n[1],n[2])}else if(t.includes("rgb")){const n=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(o=>o!=="").map((o,r)=>r>2?Number.parseFloat(o):Number.parseInt(o,10));if(n.length===4?this._alpha=Number.parseFloat(n[3])*100:n.length===3&&(this._alpha=100),n.length>=3){const{h:o,s:r,v:s}=Po(n[0],n[1],n[2]);a(o,r,s)}}else if(t.includes("#")){const n=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let o,r,s;n.length===3?(o=Xt(n[0]+n[0]),r=Xt(n[1]+n[1]),s=Xt(n[2]+n[2])):(n.length===6||n.length===8)&&(o=Xt(n.slice(0,2)),r=Xt(n.slice(2,4)),s=Xt(n.slice(4,6))),n.length===8?this._alpha=Xt(n.slice(6))/255*100:(n.length===3||n.length===6)&&(this._alpha=100);const{h:i,s:d,v:f}=Po(o,r,s);a(i,d,f)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:a,_value:n,_alpha:o,format:r}=this;if(this.enableAlpha)switch(r){case"hsl":{const s=Oo(t,a/100,n/100);this.value=`hsla(${t}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(a)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${Io($n(t,a,n))}${ea(o*255/100)}`;break}default:{const{r:s,g:i,b:d}=$n(t,a,n);this.value=`rgba(${s}, ${i}, ${d}, ${this.get("alpha")/100})`}}else switch(r){case"hsl":{const s=Oo(t,a/100,n/100);this.value=`hsl(${t}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(a)}%, ${Math.round(n)}%)`;break}case"rgb":{const{r:s,g:i,b:d}=$n(t,a,n);this.value=`rgb(${s}, ${i}, ${d})`;break}default:this.value=Io($n(t,a,n))}}}const ap=ce({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=be("color-predefine"),{currentColor:a}=xe(Hs),n=K(r(e.colors,e.color));ge(()=>a.value,s=>{const i=new On;i.fromString(s),n.value.forEach(d=>{d.selected=i.compare(d)})}),xr(()=>{n.value=r(e.colors,e.color)});function o(s){e.color.fromString(e.colors[s])}function r(s,i){return s.map(d=>{const f=new On;return f.enableAlpha=!0,f.format="rgba",f.fromString(d),f.selected=f.value===i.value,f})}return{rgbaColors:n,handleSelect:o,ns:t}}}),lp=["onClick"];function op(e,t,a,n,o,r){return $(),j("div",{class:w(e.ns.b())},[ee("div",{class:w(e.ns.e("colors"))},[($(!0),j($e,null,Ke(e.rgbaColors,(s,i)=>($(),j("div",{key:e.colors[i],class:w([e.ns.e("color-selector"),e.ns.is("alpha",s._alpha<100),{selected:s.selected}]),onClick:d=>e.handleSelect(i)},[ee("div",{style:De({backgroundColor:s.value})},null,4)],10,lp))),128))],2)],2)}var sp=Ve(ap,[["render",op],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const rp=ce({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=be("color-svpanel"),a=kt(),n=K(0),o=K(0),r=K("hsl(0, 100%, 50%)"),s=k(()=>{const f=e.color.get("hue"),p=e.color.get("value");return{hue:f,value:p}});function i(){const f=e.color.get("saturation"),p=e.color.get("value"),u=a.vnode.el,{clientWidth:c,clientHeight:v}=u;o.value=f*c/100,n.value=(100-p)*v/100,r.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function d(f){const u=a.vnode.el.getBoundingClientRect(),{clientX:c,clientY:v}=Ul(f);let g=c-u.left,h=v-u.top;g=Math.max(0,g),g=Math.min(g,u.width),h=Math.max(0,h),h=Math.min(h,u.height),o.value=g,n.value=h,e.color.set({saturation:g/u.width*100,value:100-h/u.height*100})}return ge(()=>s.value,()=>{i()}),ut(()=>{Fn(a.vnode.el,{drag:f=>{d(f)},end:f=>{d(f)}}),i()}),{cursorTop:n,cursorLeft:o,background:r,colorValue:s,handleDrag:d,update:i,ns:t}}}),ip=ee("div",null,null,-1),up=[ip];function dp(e,t,a,n,o,r){return $(),j("div",{class:w(e.ns.b()),style:De({backgroundColor:e.background})},[ee("div",{class:w(e.ns.e("white"))},null,2),ee("div",{class:w(e.ns.e("black"))},null,2),ee("div",{class:w(e.ns.e("cursor")),style:De({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},up,6)],6)}var cp=Ve(rp,[["render",dp],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const fp=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],pp=ce({name:"ElColorPicker"}),hp=ce({...pp,props:Jf,emits:Qf,setup(e,{expose:t,emit:a}){const n=e,{t:o}=et(),r=be("color"),{formItem:s}=Yt(),i=Lt(),d=qt(),{inputId:f,isLabeledByFormItem:p}=Ma(n,{formItemContext:s}),u=K(),c=K(),v=K(),g=K();let h=!0;const b=nt(new On({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue})),y=K(!1),C=K(!1),m=K(""),N=k(()=>!n.modelValue&&!C.value?"transparent":R(b,n.showAlpha)),I=k(()=>!n.modelValue&&!C.value?"":b.value),E=k(()=>p.value?void 0:n.label||o("el.colorpicker.defaultLabel")),H=k(()=>p.value?s==null?void 0:s.labelId:void 0),P=k(()=>[r.b("picker"),r.is("disabled",d.value),r.bm("picker",i.value)]);function R(M,D){if(!(M instanceof On))throw new TypeError("color should be instance of _color Class");const{r:U,g:J,b:V}=M.toRgb();return D?`rgba(${U}, ${J}, ${V}, ${M.get("alpha")/100})`:`rgb(${U}, ${J}, ${V})`}function W(M){y.value=M}const Y=tn(W,100);function B(){Y(!1),T()}function T(){Ee(()=>{n.modelValue?b.fromString(n.modelValue):(b.value="",Ee(()=>{C.value=!1}))})}function z(){d.value||Y(!y.value)}function oe(){b.fromString(m.value)}function q(){const M=b.value;a(Be,M),a("change",M),n.validateEvent&&(s==null||s.validate("change").catch(D=>yt())),Y(!1),Ee(()=>{const D=new On({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue});b.compare(D)||T()})}function O(){Y(!1),a(Be,null),a("change",null),n.modelValue!==null&&n.validateEvent&&(s==null||s.validate("change").catch(M=>yt())),T()}return ut(()=>{n.modelValue&&(m.value=I.value)}),ge(()=>n.modelValue,M=>{M?M&&M!==b.value&&(h=!1,b.fromString(M)):C.value=!1}),ge(()=>I.value,M=>{m.value=M,h&&a("activeChange",M),h=!0}),ge(()=>b.value,()=>{!n.modelValue&&!C.value&&(C.value=!0)}),ge(()=>y.value,()=>{Ee(()=>{var M,D,U;(M=u.value)==null||M.update(),(D=c.value)==null||D.update(),(U=v.value)==null||U.update()})}),at(Hs,{currentColor:I}),t({color:b}),(M,D)=>($(),de(l(Qt),{ref_key:"popper",ref:g,visible:y.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[l(r).be("picker","panel"),l(r).b("dropdown"),M.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${l(r).namespace.value}-zoom-in-top`,persistent:""},{content:le(()=>[_e(($(),j("div",null,[ee("div",{class:w(l(r).be("dropdown","main-wrapper"))},[G(Zf,{ref_key:"hue",ref:u,class:"hue-slider",color:l(b),vertical:""},null,8,["color"]),G(cp,{ref:"svPanel",color:l(b)},null,8,["color"])],2),M.showAlpha?($(),de(Yf,{key:0,ref_key:"alpha",ref:v,color:l(b)},null,8,["color"])):ue("v-if",!0),M.predefine?($(),de(sp,{key:1,ref:"predefine",color:l(b),colors:M.predefine},null,8,["color","colors"])):ue("v-if",!0),ee("div",{class:w(l(r).be("dropdown","btns"))},[ee("span",{class:w(l(r).be("dropdown","value"))},[G(l(St),{modelValue:m.value,"onUpdate:modelValue":D[0]||(D[0]=U=>m.value=U),"validate-event":!1,size:"small",onKeyup:Ue(oe,["enter"]),onBlur:oe},null,8,["modelValue","onKeyup"])],2),G(l(Ht),{class:w(l(r).be("dropdown","link-btn")),text:"",size:"small",onClick:O},{default:le(()=>[ct(me(l(o)("el.colorpicker.clear")),1)]),_:1},8,["class"]),G(l(Ht),{plain:"",size:"small",class:w(l(r).be("dropdown","btn")),onClick:q},{default:le(()=>[ct(me(l(o)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)])),[[l(Cn),B]])]),default:le(()=>[ee("div",{id:l(f),class:w(l(P)),role:"button","aria-label":l(E),"aria-labelledby":l(H),"aria-description":l(o)("el.colorpicker.description",{color:M.modelValue||""}),tabindex:M.tabindex,onKeydown:Ue(z,["enter"])},[l(d)?($(),j("div",{key:0,class:w(l(r).be("picker","mask"))},null,2)):ue("v-if",!0),ee("div",{class:w(l(r).be("picker","trigger")),onClick:z},[ee("span",{class:w([l(r).be("picker","color"),l(r).is("alpha",M.showAlpha)])},[ee("span",{class:w(l(r).be("picker","color-inner")),style:De({backgroundColor:l(N)})},[_e(G(l(Te),{class:w([l(r).be("picker","icon"),l(r).is("icon-arrow-down")])},{default:le(()=>[G(l(Va))]),_:1},8,["class"]),[[lt,M.modelValue||C.value]]),!M.modelValue&&!C.value?($(),de(l(Te),{key:0,class:w([l(r).be("picker","empty"),l(r).is("icon-close")])},{default:le(()=>[G(l(xl))]),_:1},8,["class"])):ue("v-if",!0)],6)],2)],2)],42,fp)]),_:1},8,["visible","popper-class","transition"]))}});var vp=Ve(hp,[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]]);const mp=Et(vp);var pl={},gp={get exports(){return pl},set exports(e){pl=e}};(function(e,t){(function(a,n){e.exports=n()})(Wt,function(){return function(a,n){var o=n.prototype,r=o.format;o.format=function(s){var i=this,d=this.$locale();if(!this.isValid())return r.bind(this)(s);var f=this.$utils(),p=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return d.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return d.ordinal(i.week(),"W");case"w":case"ww":return f.s(i.week(),u==="w"?1:2,"0");case"W":case"WW":return f.s(i.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return f.s(String(i.$H===0?24:i.$H),u==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return u}});return r.bind(this)(p)}}})})(gp);const bp=pl;var hl={},yp={get exports(){return hl},set exports(e){hl=e}};(function(e,t){(function(a,n){e.exports=n()})(Wt,function(){var a="week",n="year";return function(o,r,s){var i=r.prototype;i.week=function(d){if(d===void 0&&(d=null),d!==null)return this.add(7*(d-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var p=s(this).startOf(n).add(1,n).date(f),u=s(this).endOf(a);if(p.isBefore(u))return 1}var c=s(this).startOf(n).date(f).startOf(a).subtract(1,"millisecond"),v=this.diff(c,a,!0);return v<0?s(this).startOf("week").week():Math.ceil(v)},i.weeks=function(d){return d===void 0&&(d=null),this.week(d)}}})})(yp);const kp=hl;var vl={},Cp={get exports(){return vl},set exports(e){vl=e}};(function(e,t){(function(a,n){e.exports=n()})(Wt,function(){return function(a,n){n.prototype.weekYear=function(){var o=this.month(),r=this.week(),s=this.year();return r===1&&o===11?s+1:o===0&&r>=52?s-1:s}}})})(Cp);const wp=vl;var ml={},Sp={get exports(){return ml},set exports(e){ml=e}};(function(e,t){(function(a,n){e.exports=n()})(Wt,function(){return function(a,n,o){n.prototype.dayOfYear=function(r){var s=Math.round((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return r==null?s:this.add(r-s,"day")}}})})(Sp);const Np=ml;var gl={},$p={get exports(){return gl},set exports(e){gl=e}};(function(e,t){(function(a,n){e.exports=n()})(Wt,function(){return function(a,n){n.prototype.isSameOrAfter=function(o,r){return this.isSame(o,r)||this.isAfter(o,r)}}})})($p);const Ep=gl;var bl={},Tp={get exports(){return bl},set exports(e){bl=e}};(function(e,t){(function(a,n){e.exports=n()})(Wt,function(){return function(a,n){n.prototype.isSameOrBefore=function(o,r){return this.isSame(o,r)||this.isBefore(o,r)}}})})(Tp);const Vp=bl,Zl=Symbol(),Mp=Se({type:{type:re(String),default:"date"}}),Op=["date","dates","year","month","week","range"],Jl=Se({disabledDate:{type:re(Function)},date:{type:re(Object),required:!0},minDate:{type:re(Object)},maxDate:{type:re(Object)},parsedValue:{type:re([Object,Array])},rangeState:{type:re(Object),default:()=>({endDate:null,selecting:!1})}}),qs=Se({type:{type:re(String),required:!0,values:hd}}),Us=Se({unlinkPanels:Boolean,parsedValue:{type:re(Array)}}),Ws=e=>({type:String,values:Op,default:e}),Dp=Se({...qs,parsedValue:{type:re([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Ip=Se({...Jl,cellClassName:{type:re(Function)},showWeekNumber:Boolean,selectionMode:Ws("date")}),yl=e=>{if(!Re(e))return!1;const[t,a]=e;return ke.isDayjs(t)&&ke.isDayjs(a)&&t.isSameOrBefore(a)},Ys=(e,{lang:t,unit:a,unlinkPanels:n})=>{let o;if(Re(e)){let[r,s]=e.map(i=>ke(i).locale(t));return n||(s=r.add(1,a)),[r,s]}else e?o=ke(e):o=ke();return o=o.locale(t),[o,o.add(1,a)]},Pp=(e,t,{columnIndexOffset:a,startDate:n,nextEndDate:o,now:r,unit:s,relativeDateGetter:i,setCellMetadata:d,setRowMetadata:f})=>{for(let p=0;p<e.row;p++){const u=t[p];for(let c=0;c<e.column;c++){let v=u[c+a];v||(v={row:p,column:c,type:"normal",inRange:!1,start:!1,end:!1});const g=p*e.column+c,h=i(g);v.dayjs=h,v.date=h.toDate(),v.timestamp=h.valueOf(),v.type="normal",v.inRange=!!(n&&h.isSameOrAfter(n,s)&&o&&h.isSameOrBefore(o,s))||!!(n&&h.isSameOrBefore(n,s)&&o&&h.isSameOrAfter(o,s)),n!=null&&n.isSameOrAfter(o)?(v.start=!!o&&h.isSame(o,s),v.end=n&&h.isSame(n,s)):(v.start=!!n&&h.isSame(n,s),v.end=!!o&&h.isSame(o,s)),h.isSame(r,s)&&(v.type="today"),d==null||d(v,{rowIndex:p,columnIndex:c}),u[c+a]=v}f==null||f(u)}},Ap=Se({cell:{type:re(Object)}});var Fp=ce({name:"ElDatePickerCell",props:Ap,setup(e){const t=be("date-table-cell"),{slots:a}=xe(Zl);return()=>{const{cell:n}=e;if(a.default){const o=a.default(n).filter(r=>r.patchFlag!==-2&&r.type.toString()!=="Symbol(Comment)");if(o.length)return o}return G("div",{class:t.b()},[G("span",{class:t.e("text")},[n==null?void 0:n.text])])}}});const Rp=["aria-label","onMousedown"],Lp={key:0,scope:"col"},Bp=["aria-label"],_p=["aria-current","aria-selected","tabindex"],Kp=ce({__name:"basic-date-table",props:Ip,emits:["changerange","pick","select"],setup(e,{expose:t,emit:a}){const n=e,o=be("date-table"),{t:r,lang:s}=et(),i=K(),d=K(),f=K(),p=K(),u=K([[],[],[],[],[],[]]);let c=!1;const v=n.date.$locale().weekStart||7,g=n.date.locale("en").localeData().weekdaysShort().map(V=>V.toLowerCase()),h=k(()=>v>3?7-v:-v),b=k(()=>{const V=n.date.startOf("month");return V.subtract(V.day()||7,"day")}),y=k(()=>g.concat(g).slice(v,v+7)),C=k(()=>Mi(P.value).some(V=>V.isCurrent)),m=k(()=>{const V=n.date.startOf("month"),L=V.day()||7,se=V.daysInMonth(),ie=V.subtract(1,"month").daysInMonth();return{startOfMonthDay:L,dateCountOfMonth:se,dateCountOfLastMonth:ie}}),N=k(()=>n.selectionMode==="dates"?xt(n.parsedValue):[]),I=(V,{count:L,rowIndex:se,columnIndex:ie})=>{const{startOfMonthDay:x,dateCountOfMonth:Q,dateCountOfLastMonth:F}=l(m),_=l(h);if(se>=0&&se<=1){const Z=x+_<0?7+x+_:x+_;if(ie+se*7>=Z)return V.text=L,!0;V.text=F-(Z-ie%7)+1+se*7,V.type="prev-month"}else return L<=Q?V.text=L:(V.text=L-Q,V.type="next-month"),!0;return!1},E=(V,{columnIndex:L,rowIndex:se},ie)=>{const{disabledDate:x,cellClassName:Q}=n,F=l(N),_=I(V,{count:ie,rowIndex:se,columnIndex:L}),Z=V.dayjs.toDate();return V.selected=F.find(pe=>pe.valueOf()===V.dayjs.valueOf()),V.isSelected=!!V.selected,V.isCurrent=Y(V),V.disabled=x==null?void 0:x(Z),V.customClass=Q==null?void 0:Q(Z),_},H=V=>{if(n.selectionMode==="week"){const[L,se]=n.showWeekNumber?[1,7]:[0,6],ie=J(V[L+1]);V[L].inRange=ie,V[L].start=ie,V[se].inRange=ie,V[se].end=ie}},P=k(()=>{const{minDate:V,maxDate:L,rangeState:se,showWeekNumber:ie}=n,x=h.value,Q=u.value,F="day";let _=1;if(ie)for(let Z=0;Z<6;Z++)Q[Z][0]||(Q[Z][0]={type:"week",text:b.value.add(Z*7+1,F).week()});return Pp({row:6,column:7},Q,{startDate:V,columnIndexOffset:ie?1:0,nextEndDate:se.endDate||L||se.selecting&&V||null,now:ke().locale(l(s)).startOf(F),unit:F,relativeDateGetter:Z=>b.value.add(Z-x,F),setCellMetadata:(...Z)=>{E(...Z,_)&&(_+=1)},setRowMetadata:H}),Q});ge(()=>n.date,async()=>{var V,L;(V=i.value)!=null&&V.contains(document.activeElement)&&(await Ee(),(L=d.value)==null||L.focus())});const R=async()=>{var V;(V=d.value)==null||V.focus()},W=(V="")=>["normal","today"].includes(V),Y=V=>n.selectionMode==="date"&&W(V.type)&&B(V,n.parsedValue),B=(V,L)=>L?ke(L).locale(s.value).isSame(n.date.date(Number(V.text)),"day"):!1,T=V=>{const L=[];return W(V.type)&&!V.disabled?(L.push("available"),V.type==="today"&&L.push("today")):L.push(V.type),Y(V)&&L.push("current"),V.inRange&&(W(V.type)||n.selectionMode==="week")&&(L.push("in-range"),V.start&&L.push("start-date"),V.end&&L.push("end-date")),V.disabled&&L.push("disabled"),V.selected&&L.push("selected"),V.customClass&&L.push(V.customClass),L.join(" ")},z=(V,L)=>{const se=V*7+(L-(n.showWeekNumber?1:0))-h.value;return b.value.add(se,"day")},oe=V=>{var L;if(!n.rangeState.selecting)return;let se=V.target;if(se.tagName==="SPAN"&&(se=(L=se.parentNode)==null?void 0:L.parentNode),se.tagName==="DIV"&&(se=se.parentNode),se.tagName!=="TD")return;const ie=se.parentNode.rowIndex-1,x=se.cellIndex;P.value[ie][x].disabled||(ie!==f.value||x!==p.value)&&(f.value=ie,p.value=x,a("changerange",{selecting:!0,endDate:z(ie,x)}))},q=V=>!C.value&&(V==null?void 0:V.text)===1&&V.type==="normal"||V.isCurrent,O=V=>{c||C.value||n.selectionMode!=="date"||U(V,!0)},M=V=>{V.target.closest("td")&&(c=!0)},D=V=>{V.target.closest("td")&&(c=!1)},U=(V,L=!1)=>{const se=V.target.closest("td");if(!se)return;const ie=se.parentNode.rowIndex-1,x=se.cellIndex,Q=P.value[ie][x];if(Q.disabled||Q.type==="week")return;const F=z(ie,x);if(n.selectionMode==="range")!n.rangeState.selecting||!n.minDate?(a("pick",{minDate:F,maxDate:null}),a("select",!0)):(F>=n.minDate?a("pick",{minDate:n.minDate,maxDate:F}):a("pick",{minDate:F,maxDate:n.minDate}),a("select",!1));else if(n.selectionMode==="date")a("pick",F,L);else if(n.selectionMode==="week"){const _=F.week(),Z=`${F.year()}w${_}`;a("pick",{year:F.year(),week:_,value:Z,date:F.startOf("week")})}else if(n.selectionMode==="dates"){const _=Q.selected?xt(n.parsedValue).filter(Z=>(Z==null?void 0:Z.valueOf())!==F.valueOf()):xt(n.parsedValue).concat([F]);a("pick",_)}},J=V=>{if(n.selectionMode!=="week")return!1;let L=n.date.startOf("day");if(V.type==="prev-month"&&(L=L.subtract(1,"month")),V.type==="next-month"&&(L=L.add(1,"month")),L=L.date(Number.parseInt(V.text,10)),n.parsedValue&&!Array.isArray(n.parsedValue)){const se=(n.parsedValue.day()-v+7)%7-1;return n.parsedValue.subtract(se,"day").isSame(L,"day")}return!1};return t({focus:R}),(V,L)=>($(),j("table",{role:"grid","aria-label":l(r)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:w([l(o).b(),{"is-week-mode":V.selectionMode==="week"}]),onClick:U,onMousemove:oe,onMousedown:we(M,["prevent"]),onMouseup:D},[ee("tbody",{ref_key:"tbodyRef",ref:i},[ee("tr",null,[V.showWeekNumber?($(),j("th",Lp,me(l(r)("el.datepicker.week")),1)):ue("v-if",!0),($(!0),j($e,null,Ke(l(y),(se,ie)=>($(),j("th",{key:ie,scope:"col","aria-label":l(r)("el.datepicker.weeksFull."+se)},me(l(r)("el.datepicker.weeks."+se)),9,Bp))),128))]),($(!0),j($e,null,Ke(l(P),(se,ie)=>($(),j("tr",{key:ie,class:w([l(o).e("row"),{current:J(se[1])}])},[($(!0),j($e,null,Ke(se,(x,Q)=>($(),j("td",{key:`${ie}.${Q}`,ref_for:!0,ref:F=>q(x)&&(d.value=F),class:w(T(x)),"aria-current":x.isCurrent?"date":void 0,"aria-selected":x.isCurrent,tabindex:q(x)?0:-1,onFocus:O},[G(l(Fp),{cell:x},null,8,["cell"])],42,_p))),128))],2))),128))],512)],42,Rp))}});var kl=Ve(Kp,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const xp=Se({...Jl,selectionMode:Ws("month")}),zp=["aria-label"],jp=["aria-selected","aria-label","tabindex","onKeydown"],Hp={class:"cell"},qp=ce({__name:"basic-month-table",props:xp,emits:["changerange","pick","select"],setup(e,{expose:t,emit:a}){const n=e,o=(N,I,E)=>{const H=ke().locale(E).startOf("month").month(I).year(N),P=H.daysInMonth();return $s(P).map(R=>H.add(R,"day").toDate())},r=be("month-table"),{t:s,lang:i}=et(),d=K(),f=K(),p=K(n.date.locale("en").localeData().monthsShort().map(N=>N.toLowerCase())),u=K([[],[],[]]),c=K(),v=K(),g=k(()=>{var N,I;const E=u.value,H=ke().locale(i.value).startOf("month");for(let P=0;P<3;P++){const R=E[P];for(let W=0;W<4;W++){const Y=R[W]||(R[W]={row:P,column:W,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Y.type="normal";const B=P*4+W,T=n.date.startOf("year").month(B),z=n.rangeState.endDate||n.maxDate||n.rangeState.selecting&&n.minDate||null;Y.inRange=!!(n.minDate&&T.isSameOrAfter(n.minDate,"month")&&z&&T.isSameOrBefore(z,"month"))||!!(n.minDate&&T.isSameOrBefore(n.minDate,"month")&&z&&T.isSameOrAfter(z,"month")),(N=n.minDate)!=null&&N.isSameOrAfter(z)?(Y.start=!!(z&&T.isSame(z,"month")),Y.end=n.minDate&&T.isSame(n.minDate,"month")):(Y.start=!!(n.minDate&&T.isSame(n.minDate,"month")),Y.end=!!(z&&T.isSame(z,"month"))),H.isSame(T)&&(Y.type="today"),Y.text=B,Y.disabled=((I=n.disabledDate)==null?void 0:I.call(n,T.toDate()))||!1}}return E}),h=()=>{var N;(N=f.value)==null||N.focus()},b=N=>{const I={},E=n.date.year(),H=new Date,P=N.text;return I.disabled=n.disabledDate?o(E,P,i.value).every(n.disabledDate):!1,I.current=xt(n.parsedValue).findIndex(R=>ke.isDayjs(R)&&R.year()===E&&R.month()===P)>=0,I.today=H.getFullYear()===E&&H.getMonth()===P,N.inRange&&(I["in-range"]=!0,N.start&&(I["start-date"]=!0),N.end&&(I["end-date"]=!0)),I},y=N=>{const I=n.date.year(),E=N.text;return xt(n.date).findIndex(H=>H.year()===I&&H.month()===E)>=0},C=N=>{var I;if(!n.rangeState.selecting)return;let E=N.target;if(E.tagName==="A"&&(E=(I=E.parentNode)==null?void 0:I.parentNode),E.tagName==="DIV"&&(E=E.parentNode),E.tagName!=="TD")return;const H=E.parentNode.rowIndex,P=E.cellIndex;g.value[H][P].disabled||(H!==c.value||P!==v.value)&&(c.value=H,v.value=P,a("changerange",{selecting:!0,endDate:n.date.startOf("year").month(H*4+P)}))},m=N=>{var I;const E=(I=N.target)==null?void 0:I.closest("td");if((E==null?void 0:E.tagName)!=="TD"||da(E,"disabled"))return;const H=E.cellIndex,R=E.parentNode.rowIndex*4+H,W=n.date.startOf("year").month(R);n.selectionMode==="range"?n.rangeState.selecting?(n.minDate&&W>=n.minDate?a("pick",{minDate:n.minDate,maxDate:W}):a("pick",{minDate:W,maxDate:n.minDate}),a("select",!1)):(a("pick",{minDate:W,maxDate:null}),a("select",!0)):a("pick",R)};return ge(()=>n.date,async()=>{var N,I;(N=d.value)!=null&&N.contains(document.activeElement)&&(await Ee(),(I=f.value)==null||I.focus())}),t({focus:h}),(N,I)=>($(),j("table",{role:"grid","aria-label":l(s)("el.datepicker.monthTablePrompt"),class:w(l(r).b()),onClick:m,onMousemove:C},[ee("tbody",{ref_key:"tbodyRef",ref:d},[($(!0),j($e,null,Ke(l(g),(E,H)=>($(),j("tr",{key:H},[($(!0),j($e,null,Ke(E,(P,R)=>($(),j("td",{key:R,ref_for:!0,ref:W=>y(P)&&(f.value=W),class:w(b(P)),"aria-selected":`${y(P)}`,"aria-label":l(s)(`el.datepicker.month${+P.text+1}`),tabindex:y(P)?0:-1,onKeydown:[Ue(we(m,["prevent","stop"]),["space"]),Ue(we(m,["prevent","stop"]),["enter"])]},[ee("div",null,[ee("span",Hp,me(l(s)("el.datepicker.months."+p.value[P.text])),1)])],42,jp))),128))]))),128))],512)],42,zp))}});var Cl=Ve(qp,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Up,disabledDate:Wp,parsedValue:Yp}=Jl,Gp=Se({date:Up,disabledDate:Wp,parsedValue:Yp}),Xp=["aria-label"],Zp=["aria-selected","tabindex","onKeydown"],Jp={class:"cell"},Qp={key:1},eh=ce({__name:"basic-year-table",props:Gp,emits:["pick"],setup(e,{expose:t,emit:a}){const n=e,o=(h,b)=>{const y=ke(String(h)).locale(b).startOf("year"),m=y.endOf("year").dayOfYear();return $s(m).map(N=>y.add(N,"day").toDate())},r=be("year-table"),{t:s,lang:i}=et(),d=K(),f=K(),p=k(()=>Math.floor(n.date.year()/10)*10),u=()=>{var h;(h=f.value)==null||h.focus()},c=h=>{const b={},y=ke().locale(i.value);return b.disabled=n.disabledDate?o(h,i.value).every(n.disabledDate):!1,b.current=xt(n.parsedValue).findIndex(C=>C.year()===h)>=0,b.today=y.year()===h,b},v=h=>h===p.value&&n.date.year()<p.value&&n.date.year()>p.value+9||xt(n.date).findIndex(b=>b.year()===h)>=0,g=h=>{const y=h.target.closest("td");if(y&&y.textContent){if(da(y,"disabled"))return;const C=y.textContent||y.innerText;a("pick",Number(C))}};return ge(()=>n.date,async()=>{var h,b;(h=d.value)!=null&&h.contains(document.activeElement)&&(await Ee(),(b=f.value)==null||b.focus())}),t({focus:u}),(h,b)=>($(),j("table",{role:"grid","aria-label":l(s)("el.datepicker.yearTablePrompt"),class:w(l(r).b()),onClick:g},[ee("tbody",{ref_key:"tbodyRef",ref:d},[($(),j($e,null,Ke(3,(y,C)=>ee("tr",{key:C},[($(),j($e,null,Ke(4,(m,N)=>($(),j($e,{key:C+"_"+N},[C*4+N<10?($(),j("td",{key:0,ref_for:!0,ref:I=>v(l(p)+C*4+N)&&(f.value=I),class:w(["available",c(l(p)+C*4+N)]),"aria-selected":`${v(l(p)+C*4+N)}`,tabindex:v(l(p)+C*4+N)?0:-1,onKeydown:[Ue(we(g,["prevent","stop"]),["space"]),Ue(we(g,["prevent","stop"]),["enter"])]},[ee("span",Jp,me(l(p)+C*4+N),1)],42,Zp)):($(),j("td",Qp))],64))),64))])),64))],512)],10,Xp))}});var th=Ve(eh,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const nh=["onClick"],ah=["aria-label"],lh=["aria-label"],oh=["aria-label"],sh=["aria-label"],rh=ce({__name:"panel-date-pick",props:Dp,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const a=e,n=(ae,he,X)=>!0,o=be("picker-panel"),r=be("date-picker"),s=$a(),i=ln(),{t:d,lang:f}=et(),p=xe("EP_PICKER_BASE"),u=xe(zr),{shortcuts:c,disabledDate:v,cellClassName:g,defaultTime:h,arrowControl:b}=p.props,y=en(p.props,"defaultValue"),C=K(),m=K(ke().locale(f.value)),N=K(!1),I=k(()=>ke(h).locale(f.value)),E=k(()=>m.value.month()),H=k(()=>m.value.year()),P=K([]),R=K(null),W=K(null),Y=ae=>P.value.length>0?n(ae,P.value,a.format||"HH:mm:ss"):!0,B=ae=>h&&!ye.value&&!N.value?I.value.year(ae.year()).month(ae.month()).date(ae.date()):x.value?ae.millisecond(0):ae.startOf("day"),T=(ae,...he)=>{if(!ae)t("pick",ae,...he);else if(Re(ae)){const X=ae.map(B);t("pick",X,...he)}else t("pick",B(ae),...he);R.value=null,W.value=null,N.value=!1},z=(ae,he)=>{if(U.value==="date"){ae=ae;let X=a.parsedValue?a.parsedValue.year(ae.year()).month(ae.month()).date(ae.date()):ae;Y(X)||(X=P.value[0][0].year(ae.year()).month(ae.month()).date(ae.date())),m.value=X,T(X,x.value||he)}else U.value==="week"?T(ae.date):U.value==="dates"&&T(ae,!0)},oe=ae=>{const he=ae?"add":"subtract";m.value=m.value[he](1,"month"),je("month")},q=ae=>{const he=m.value,X=ae?"add":"subtract";m.value=O.value==="year"?he[X](10,"year"):he[X](1,"year"),je("year")},O=K("date"),M=k(()=>{const ae=d("el.datepicker.year");if(O.value==="year"){const he=Math.floor(H.value/10)*10;return ae?`${he} ${ae} - ${he+9} ${ae}`:`${he} - ${he+9}`}return`${H.value} ${ae}`}),D=ae=>{const he=ft(ae.value)?ae.value():ae.value;if(he){T(ke(he).locale(f.value));return}ae.onClick&&ae.onClick({attrs:s,slots:i,emit:t})},U=k(()=>{const{type:ae}=a;return["week","month","year","dates"].includes(ae)?ae:"date"}),J=k(()=>U.value==="date"?O.value:U.value),V=k(()=>!!c.length),L=async ae=>{m.value=m.value.startOf("month").month(ae),U.value==="month"?T(m.value,!1):(O.value="date",["month","year","date","week"].includes(U.value)&&(T(m.value,!0),await Ee(),wt())),je("month")},se=async ae=>{U.value==="year"?(m.value=m.value.startOf("year").year(ae),T(m.value,!1)):(m.value=m.value.year(ae),O.value="month",["month","year","date","week"].includes(U.value)&&(T(m.value,!0),await Ee(),wt())),je("year")},ie=async ae=>{O.value=ae,await Ee(),wt()},x=k(()=>a.type==="datetime"||a.type==="datetimerange"),Q=k(()=>x.value||U.value==="dates"),F=()=>{if(U.value==="dates")T(a.parsedValue);else{let ae=a.parsedValue;if(!ae){const he=ke(h).locale(f.value),X=Ct();ae=he.year(X.year()).month(X.month()).date(X.date())}m.value=ae,T(ae)}},_=()=>{const he=ke().locale(f.value).toDate();N.value=!0,(!v||!v(he))&&Y(he)&&(m.value=ke().locale(f.value),T(m.value))},Z=k(()=>Ts(a.format)),pe=k(()=>Es(a.format)),ye=k(()=>{if(W.value)return W.value;if(!(!a.parsedValue&&!y.value))return(a.parsedValue||m.value).format(Z.value)}),Oe=k(()=>{if(R.value)return R.value;if(!(!a.parsedValue&&!y.value))return(a.parsedValue||m.value).format(pe.value)}),Ne=K(!1),Ae=()=>{Ne.value=!0},Ye=()=>{Ne.value=!1},Ce=ae=>({hour:ae.hour(),minute:ae.minute(),second:ae.second(),year:ae.year(),month:ae.month(),date:ae.date()}),rt=(ae,he,X)=>{const{hour:S,minute:A,second:ne}=Ce(ae),fe=a.parsedValue?a.parsedValue.hour(S).minute(A).second(ne):ae;m.value=fe,T(m.value,!0),X||(Ne.value=he)},ze=ae=>{const he=ke(ae,Z.value).locale(f.value);if(he.isValid()&&Y(he)){const{year:X,month:S,date:A}=Ce(m.value);m.value=he.year(X).month(S).date(A),W.value=null,Ne.value=!1,T(m.value,!0)}},Xe=ae=>{const he=ke(ae,pe.value).locale(f.value);if(he.isValid()){if(v&&v(he.toDate()))return;const{hour:X,minute:S,second:A}=Ce(m.value);m.value=he.hour(X).minute(S).second(A),R.value=null,T(m.value,!0)}},We=ae=>ke.isDayjs(ae)&&ae.isValid()&&(v?!v(ae.toDate()):!0),ht=ae=>U.value==="dates"?ae.map(he=>he.format(a.format)):ae.format(a.format),mt=ae=>ke(ae,a.format).locale(f.value),Ct=()=>{const ae=ke(y.value).locale(f.value);if(!y.value){const he=I.value;return ke().hour(he.hour()).minute(he.minute()).second(he.second()).locale(f.value)}return ae},wt=async()=>{var ae;["week","month","year","date"].includes(U.value)&&((ae=C.value)==null||ae.focus(),U.value==="week"&&Dt(Me.down))},Ot=ae=>{const{code:he}=ae;[Me.up,Me.down,Me.left,Me.right,Me.home,Me.end,Me.pageUp,Me.pageDown].includes(he)&&(Dt(he),ae.stopPropagation(),ae.preventDefault()),[Me.enter,Me.space].includes(he)&&R.value===null&&W.value===null&&(ae.preventDefault(),T(m.value,!1))},Dt=ae=>{var he;const{up:X,down:S,left:A,right:ne,home:fe,end:Fe,pageUp:Qe,pageDown:Ut}=Me,xn={year:{[X]:-4,[S]:4,[A]:-1,[ne]:1,offset:(He,gt)=>He.setFullYear(He.getFullYear()+gt)},month:{[X]:-4,[S]:4,[A]:-1,[ne]:1,offset:(He,gt)=>He.setMonth(He.getMonth()+gt)},week:{[X]:-1,[S]:1,[A]:-1,[ne]:1,offset:(He,gt)=>He.setDate(He.getDate()+gt*7)},date:{[X]:-7,[S]:7,[A]:-1,[ne]:1,[fe]:He=>-He.getDay(),[Fe]:He=>-He.getDay()+6,[Qe]:He=>-new Date(He.getFullYear(),He.getMonth(),0).getDate(),[Ut]:He=>new Date(He.getFullYear(),He.getMonth()+1,0).getDate(),offset:(He,gt)=>He.setDate(He.getDate()+gt)}},Gt=m.value.toDate();for(;Math.abs(m.value.diff(Gt,"year",!0))<1;){const He=xn[J.value];if(!He)return;if(He.offset(Gt,ft(He[ae])?He[ae](Gt):(he=He[ae])!=null?he:0),v&&v(Gt))break;const gt=ke(Gt).locale(f.value);m.value=gt,t("pick",gt,!0);break}},je=ae=>{t("panel-change",m.value.toDate(),ae,O.value)};return ge(()=>U.value,ae=>{if(["month","year"].includes(ae)){O.value=ae;return}O.value="date"},{immediate:!0}),ge(()=>O.value,()=>{u==null||u.updatePopper()}),ge(()=>y.value,ae=>{ae&&(m.value=Ct())},{immediate:!0}),ge(()=>a.parsedValue,ae=>{if(ae){if(U.value==="dates"||Array.isArray(ae))return;m.value=ae}else m.value=Ct()},{immediate:!0}),t("set-picker-option",["isValidValue",We]),t("set-picker-option",["formatToString",ht]),t("set-picker-option",["parseUserInput",mt]),t("set-picker-option",["handleFocusPicker",wt]),(ae,he)=>($(),j("div",{class:w([l(o).b(),l(r).b(),{"has-sidebar":ae.$slots.sidebar||l(V),"has-time":l(x)}])},[ee("div",{class:w(l(o).e("body-wrapper"))},[Ie(ae.$slots,"sidebar",{class:w(l(o).e("sidebar"))}),l(V)?($(),j("div",{key:0,class:w(l(o).e("sidebar"))},[($(!0),j($e,null,Ke(l(c),(X,S)=>($(),j("button",{key:S,type:"button",class:w(l(o).e("shortcut")),onClick:A=>D(X)},me(X.text),11,nh))),128))],2)):ue("v-if",!0),ee("div",{class:w(l(o).e("body"))},[l(x)?($(),j("div",{key:0,class:w(l(r).e("time-header"))},[ee("span",{class:w(l(r).e("editor-wrap"))},[G(l(St),{placeholder:l(d)("el.datepicker.selectDate"),"model-value":l(Oe),size:"small","validate-event":!1,onInput:he[0]||(he[0]=X=>R.value=X),onChange:Xe},null,8,["placeholder","model-value"])],2),_e(($(),j("span",{class:w(l(r).e("editor-wrap"))},[G(l(St),{placeholder:l(d)("el.datepicker.selectTime"),"model-value":l(ye),size:"small","validate-event":!1,onFocus:Ae,onInput:he[1]||(he[1]=X=>W.value=X),onChange:ze},null,8,["placeholder","model-value"]),G(l(ba),{visible:Ne.value,format:l(Z),"time-arrow-control":l(b),"parsed-value":m.value,onPick:rt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[l(Cn),Ye]])],2)):ue("v-if",!0),_e(ee("div",{class:w([l(r).e("header"),(O.value==="year"||O.value==="month")&&l(r).e("header--bordered")])},[ee("span",{class:w(l(r).e("prev-btn"))},[ee("button",{type:"button","aria-label":l(d)("el.datepicker.prevYear"),class:w(["d-arrow-left",l(o).e("icon-btn")]),onClick:he[2]||(he[2]=X=>q(!1))},[G(l(Te),null,{default:le(()=>[G(l(In))]),_:1})],10,ah),_e(ee("button",{type:"button","aria-label":l(d)("el.datepicker.prevMonth"),class:w([l(o).e("icon-btn"),"arrow-left"]),onClick:he[3]||(he[3]=X=>oe(!1))},[G(l(Te),null,{default:le(()=>[G(l(ca))]),_:1})],10,lh),[[lt,O.value==="date"]])],2),ee("span",{role:"button",class:w(l(r).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:he[4]||(he[4]=Ue(X=>ie("year"),["enter"])),onClick:he[5]||(he[5]=X=>ie("year"))},me(l(M)),35),_e(ee("span",{role:"button","aria-live":"polite",tabindex:"0",class:w([l(r).e("header-label"),{active:O.value==="month"}]),onKeydown:he[6]||(he[6]=Ue(X=>ie("month"),["enter"])),onClick:he[7]||(he[7]=X=>ie("month"))},me(l(d)(`el.datepicker.month${l(E)+1}`)),35),[[lt,O.value==="date"]]),ee("span",{class:w(l(r).e("next-btn"))},[_e(ee("button",{type:"button","aria-label":l(d)("el.datepicker.nextMonth"),class:w([l(o).e("icon-btn"),"arrow-right"]),onClick:he[8]||(he[8]=X=>oe(!0))},[G(l(Te),null,{default:le(()=>[G(l(vn))]),_:1})],10,oh),[[lt,O.value==="date"]]),ee("button",{type:"button","aria-label":l(d)("el.datepicker.nextYear"),class:w([l(o).e("icon-btn"),"d-arrow-right"]),onClick:he[9]||(he[9]=X=>q(!0))},[G(l(Te),null,{default:le(()=>[G(l(Pn))]),_:1})],10,sh)],2)],2),[[lt,O.value!=="time"]]),ee("div",{class:w(l(o).e("content")),onKeydown:Ot},[O.value==="date"?($(),de(kl,{key:0,ref_key:"currentViewRef",ref:C,"selection-mode":l(U),date:m.value,"parsed-value":ae.parsedValue,"disabled-date":l(v),"cell-class-name":l(g),onPick:z},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ue("v-if",!0),O.value==="year"?($(),de(th,{key:1,ref_key:"currentViewRef",ref:C,date:m.value,"disabled-date":l(v),"parsed-value":ae.parsedValue,onPick:se},null,8,["date","disabled-date","parsed-value"])):ue("v-if",!0),O.value==="month"?($(),de(Cl,{key:2,ref_key:"currentViewRef",ref:C,date:m.value,"parsed-value":ae.parsedValue,"disabled-date":l(v),onPick:L},null,8,["date","parsed-value","disabled-date"])):ue("v-if",!0)],34)],2)],2),_e(ee("div",{class:w(l(o).e("footer"))},[_e(G(l(Ht),{text:"",size:"small",class:w(l(o).e("link-btn")),onClick:_},{default:le(()=>[ct(me(l(d)("el.datepicker.now")),1)]),_:1},8,["class"]),[[lt,l(U)!=="dates"]]),G(l(Ht),{plain:"",size:"small",class:w(l(o).e("link-btn")),onClick:F},{default:le(()=>[ct(me(l(d)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[lt,l(Q)&&O.value==="date"]])],2))}});var ih=Ve(rh,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const uh=Se({...qs,...Us}),dh=e=>{const{emit:t}=kt(),a=$a(),n=ln();return r=>{const s=ft(r.value)?r.value():r.value;if(s){t("pick",[ke(s[0]).locale(e.value),ke(s[1]).locale(e.value)]);return}r.onClick&&r.onClick({attrs:a,slots:n,emit:t})}},Gs=(e,{defaultValue:t,leftDate:a,rightDate:n,unit:o,onParsedValueChanged:r})=>{const{emit:s}=kt(),{pickerNs:i}=xe(Zl),d=be("date-range-picker"),{t:f,lang:p}=et(),u=dh(p),c=K(),v=K(),g=K({endDate:null,selecting:!1}),h=m=>{g.value=m},b=(m=!1)=>{const N=l(c),I=l(v);yl([N,I])&&s("pick",[N,I],m)},y=m=>{g.value.selecting=m,m||(g.value.endDate=null)},C=()=>{const[m,N]=Ys(l(t),{lang:l(p),unit:o,unlinkPanels:e.unlinkPanels});c.value=void 0,v.value=void 0,a.value=m,n.value=N};return ge(t,m=>{m&&C()},{immediate:!0}),ge(()=>e.parsedValue,m=>{if(Re(m)&&m.length===2){const[N,I]=m;c.value=N,a.value=N,v.value=I,r(l(c),l(v))}else C()},{immediate:!0}),{minDate:c,maxDate:v,rangeState:g,lang:p,ppNs:i,drpNs:d,handleChangeRange:h,handleRangeConfirm:b,handleShortcutClick:u,onSelect:y,t:f}},ch=["onClick"],fh=["disabled"],ph=["disabled"],hh=["disabled"],vh=["disabled"],Un="month",mh=ce({__name:"panel-date-range",props:uh,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const a=e,n=xe("EP_PICKER_BASE"),{disabledDate:o,cellClassName:r,format:s,defaultTime:i,arrowControl:d,clearable:f}=n.props,p=en(n.props,"shortcuts"),u=en(n.props,"defaultValue"),{lang:c}=et(),v=K(ke().locale(c.value)),g=K(ke().locale(c.value).add(1,Un)),{minDate:h,maxDate:b,rangeState:y,ppNs:C,drpNs:m,handleChangeRange:N,handleRangeConfirm:I,handleShortcutClick:E,onSelect:H,t:P}=Gs(a,{defaultValue:u,leftDate:v,rightDate:g,unit:Un,onParsedValueChanged:S}),R=K({min:null,max:null}),W=K({min:null,max:null}),Y=k(()=>`${v.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${v.value.month()+1}`)}`),B=k(()=>`${g.value.year()} ${P("el.datepicker.year")} ${P(`el.datepicker.month${g.value.month()+1}`)}`),T=k(()=>v.value.year()),z=k(()=>v.value.month()),oe=k(()=>g.value.year()),q=k(()=>g.value.month()),O=k(()=>!!p.value.length),M=k(()=>R.value.min!==null?R.value.min:h.value?h.value.format(L.value):""),D=k(()=>R.value.max!==null?R.value.max:b.value||h.value?(b.value||h.value).format(L.value):""),U=k(()=>W.value.min!==null?W.value.min:h.value?h.value.format(V.value):""),J=k(()=>W.value.max!==null?W.value.max:b.value||h.value?(b.value||h.value).format(V.value):""),V=k(()=>Ts(s)),L=k(()=>Es(s)),se=()=>{v.value=v.value.subtract(1,"year"),a.unlinkPanels||(g.value=v.value.add(1,"month")),ye("year")},ie=()=>{v.value=v.value.subtract(1,"month"),a.unlinkPanels||(g.value=v.value.add(1,"month")),ye("month")},x=()=>{a.unlinkPanels?g.value=g.value.add(1,"year"):(v.value=v.value.add(1,"year"),g.value=v.value.add(1,"month")),ye("year")},Q=()=>{a.unlinkPanels?g.value=g.value.add(1,"month"):(v.value=v.value.add(1,"month"),g.value=v.value.add(1,"month")),ye("month")},F=()=>{v.value=v.value.add(1,"year"),ye("year")},_=()=>{v.value=v.value.add(1,"month"),ye("month")},Z=()=>{g.value=g.value.subtract(1,"year"),ye("year")},pe=()=>{g.value=g.value.subtract(1,"month"),ye("month")},ye=A=>{t("panel-change",[v.value.toDate(),g.value.toDate()],A)},Oe=k(()=>{const A=(z.value+1)%12,ne=z.value+1>=12?1:0;return a.unlinkPanels&&new Date(T.value+ne,A)<new Date(oe.value,q.value)}),Ne=k(()=>a.unlinkPanels&&oe.value*12+q.value-(T.value*12+z.value+1)>=12),Ae=k(()=>!(h.value&&b.value&&!y.value.selecting&&yl([h.value,b.value]))),Ye=k(()=>a.type==="datetime"||a.type==="datetimerange"),Ce=(A,ne)=>{if(A)return i?ke(i[ne]||i).locale(c.value).year(A.year()).month(A.month()).date(A.date()):A},rt=(A,ne=!0)=>{const fe=A.minDate,Fe=A.maxDate,Qe=Ce(fe,0),Ut=Ce(Fe,1);b.value===Ut&&h.value===Qe||(t("calendar-change",[fe.toDate(),Fe&&Fe.toDate()]),b.value=Ut,h.value=Qe,!(!ne||Ye.value)&&I())},ze=K(!1),Xe=K(!1),We=()=>{ze.value=!1},ht=()=>{Xe.value=!1},mt=(A,ne)=>{R.value[ne]=A;const fe=ke(A,L.value).locale(c.value);if(fe.isValid()){if(o&&o(fe.toDate()))return;ne==="min"?(v.value=fe,h.value=(h.value||v.value).year(fe.year()).month(fe.month()).date(fe.date()),a.unlinkPanels||(g.value=fe.add(1,"month"),b.value=h.value.add(1,"month"))):(g.value=fe,b.value=(b.value||g.value).year(fe.year()).month(fe.month()).date(fe.date()),a.unlinkPanels||(v.value=fe.subtract(1,"month"),h.value=b.value.subtract(1,"month")))}},Ct=(A,ne)=>{R.value[ne]=null},wt=(A,ne)=>{W.value[ne]=A;const fe=ke(A,V.value).locale(c.value);fe.isValid()&&(ne==="min"?(ze.value=!0,h.value=(h.value||v.value).hour(fe.hour()).minute(fe.minute()).second(fe.second()),(!b.value||b.value.isBefore(h.value))&&(b.value=h.value)):(Xe.value=!0,b.value=(b.value||g.value).hour(fe.hour()).minute(fe.minute()).second(fe.second()),g.value=b.value,b.value&&b.value.isBefore(h.value)&&(h.value=b.value)))},Ot=(A,ne)=>{W.value[ne]=null,ne==="min"?(v.value=h.value,ze.value=!1):(g.value=b.value,Xe.value=!1)},Dt=(A,ne,fe)=>{W.value.min||(A&&(v.value=A,h.value=(h.value||v.value).hour(A.hour()).minute(A.minute()).second(A.second())),fe||(ze.value=ne),(!b.value||b.value.isBefore(h.value))&&(b.value=h.value,g.value=A))},je=(A,ne,fe)=>{W.value.max||(A&&(g.value=A,b.value=(b.value||g.value).hour(A.hour()).minute(A.minute()).second(A.second())),fe||(Xe.value=ne),b.value&&b.value.isBefore(h.value)&&(h.value=b.value))},ae=()=>{v.value=Ys(l(u),{lang:l(c),unit:"month",unlinkPanels:a.unlinkPanels})[0],g.value=v.value.add(1,"month"),t("pick",null)},he=A=>Re(A)?A.map(ne=>ne.format(s)):A.format(s),X=A=>Re(A)?A.map(ne=>ke(ne,s).locale(c.value)):ke(A,s).locale(c.value);function S(A,ne){if(a.unlinkPanels&&ne){const fe=(A==null?void 0:A.year())||0,Fe=(A==null?void 0:A.month())||0,Qe=ne.year(),Ut=ne.month();g.value=fe===Qe&&Fe===Ut?ne.add(1,Un):ne}else g.value=v.value.add(1,Un),ne&&(g.value=g.value.hour(ne.hour()).minute(ne.minute()).second(ne.second()))}return t("set-picker-option",["isValidValue",yl]),t("set-picker-option",["parseUserInput",X]),t("set-picker-option",["formatToString",he]),t("set-picker-option",["handleClear",ae]),(A,ne)=>($(),j("div",{class:w([l(C).b(),l(m).b(),{"has-sidebar":A.$slots.sidebar||l(O),"has-time":l(Ye)}])},[ee("div",{class:w(l(C).e("body-wrapper"))},[Ie(A.$slots,"sidebar",{class:w(l(C).e("sidebar"))}),l(O)?($(),j("div",{key:0,class:w(l(C).e("sidebar"))},[($(!0),j($e,null,Ke(l(p),(fe,Fe)=>($(),j("button",{key:Fe,type:"button",class:w(l(C).e("shortcut")),onClick:Qe=>l(E)(fe)},me(fe.text),11,ch))),128))],2)):ue("v-if",!0),ee("div",{class:w(l(C).e("body"))},[l(Ye)?($(),j("div",{key:0,class:w(l(m).e("time-header"))},[ee("span",{class:w(l(m).e("editors-wrap"))},[ee("span",{class:w(l(m).e("time-picker-wrap"))},[G(l(St),{size:"small",disabled:l(y).selecting,placeholder:l(P)("el.datepicker.startDate"),class:w(l(m).e("editor")),"model-value":l(M),"validate-event":!1,onInput:ne[0]||(ne[0]=fe=>mt(fe,"min")),onChange:ne[1]||(ne[1]=fe=>Ct(fe,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),_e(($(),j("span",{class:w(l(m).e("time-picker-wrap"))},[G(l(St),{size:"small",class:w(l(m).e("editor")),disabled:l(y).selecting,placeholder:l(P)("el.datepicker.startTime"),"model-value":l(U),"validate-event":!1,onFocus:ne[2]||(ne[2]=fe=>ze.value=!0),onInput:ne[3]||(ne[3]=fe=>wt(fe,"min")),onChange:ne[4]||(ne[4]=fe=>Ot(fe,"min"))},null,8,["class","disabled","placeholder","model-value"]),G(l(ba),{visible:ze.value,format:l(V),"datetime-role":"start","time-arrow-control":l(d),"parsed-value":v.value,onPick:Dt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[l(Cn),We]])],2),ee("span",null,[G(l(Te),null,{default:le(()=>[G(l(vn))]),_:1})]),ee("span",{class:w([l(m).e("editors-wrap"),"is-right"])},[ee("span",{class:w(l(m).e("time-picker-wrap"))},[G(l(St),{size:"small",class:w(l(m).e("editor")),disabled:l(y).selecting,placeholder:l(P)("el.datepicker.endDate"),"model-value":l(D),readonly:!l(h),"validate-event":!1,onInput:ne[5]||(ne[5]=fe=>mt(fe,"max")),onChange:ne[6]||(ne[6]=fe=>Ct(fe,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),_e(($(),j("span",{class:w(l(m).e("time-picker-wrap"))},[G(l(St),{size:"small",class:w(l(m).e("editor")),disabled:l(y).selecting,placeholder:l(P)("el.datepicker.endTime"),"model-value":l(J),readonly:!l(h),"validate-event":!1,onFocus:ne[7]||(ne[7]=fe=>l(h)&&(Xe.value=!0)),onInput:ne[8]||(ne[8]=fe=>wt(fe,"max")),onChange:ne[9]||(ne[9]=fe=>Ot(fe,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),G(l(ba),{"datetime-role":"end",visible:Xe.value,format:l(V),"time-arrow-control":l(d),"parsed-value":g.value,onPick:je},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[l(Cn),ht]])],2)],2)):ue("v-if",!0),ee("div",{class:w([[l(C).e("content"),l(m).e("content")],"is-left"])},[ee("div",{class:w(l(m).e("header"))},[ee("button",{type:"button",class:w([l(C).e("icon-btn"),"d-arrow-left"]),onClick:se},[G(l(Te),null,{default:le(()=>[G(l(In))]),_:1})],2),ee("button",{type:"button",class:w([l(C).e("icon-btn"),"arrow-left"]),onClick:ie},[G(l(Te),null,{default:le(()=>[G(l(ca))]),_:1})],2),A.unlinkPanels?($(),j("button",{key:0,type:"button",disabled:!l(Ne),class:w([[l(C).e("icon-btn"),{"is-disabled":!l(Ne)}],"d-arrow-right"]),onClick:F},[G(l(Te),null,{default:le(()=>[G(l(Pn))]),_:1})],10,fh)):ue("v-if",!0),A.unlinkPanels?($(),j("button",{key:1,type:"button",disabled:!l(Oe),class:w([[l(C).e("icon-btn"),{"is-disabled":!l(Oe)}],"arrow-right"]),onClick:_},[G(l(Te),null,{default:le(()=>[G(l(vn))]),_:1})],10,ph)):ue("v-if",!0),ee("div",null,me(l(Y)),1)],2),G(kl,{"selection-mode":"range",date:v.value,"min-date":l(h),"max-date":l(b),"range-state":l(y),"disabled-date":l(o),"cell-class-name":l(r),onChangerange:l(N),onPick:rt,onSelect:l(H)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),ee("div",{class:w([[l(C).e("content"),l(m).e("content")],"is-right"])},[ee("div",{class:w(l(m).e("header"))},[A.unlinkPanels?($(),j("button",{key:0,type:"button",disabled:!l(Ne),class:w([[l(C).e("icon-btn"),{"is-disabled":!l(Ne)}],"d-arrow-left"]),onClick:Z},[G(l(Te),null,{default:le(()=>[G(l(In))]),_:1})],10,hh)):ue("v-if",!0),A.unlinkPanels?($(),j("button",{key:1,type:"button",disabled:!l(Oe),class:w([[l(C).e("icon-btn"),{"is-disabled":!l(Oe)}],"arrow-left"]),onClick:pe},[G(l(Te),null,{default:le(()=>[G(l(ca))]),_:1})],10,vh)):ue("v-if",!0),ee("button",{type:"button",class:w([l(C).e("icon-btn"),"d-arrow-right"]),onClick:x},[G(l(Te),null,{default:le(()=>[G(l(Pn))]),_:1})],2),ee("button",{type:"button",class:w([l(C).e("icon-btn"),"arrow-right"]),onClick:Q},[G(l(Te),null,{default:le(()=>[G(l(vn))]),_:1})],2),ee("div",null,me(l(B)),1)],2),G(kl,{"selection-mode":"range",date:g.value,"min-date":l(h),"max-date":l(b),"range-state":l(y),"disabled-date":l(o),"cell-class-name":l(r),onChangerange:l(N),onPick:rt,onSelect:l(H)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),l(Ye)?($(),j("div",{key:0,class:w(l(C).e("footer"))},[l(f)?($(),de(l(Ht),{key:0,text:"",size:"small",class:w(l(C).e("link-btn")),onClick:ae},{default:le(()=>[ct(me(l(P)("el.datepicker.clear")),1)]),_:1},8,["class"])):ue("v-if",!0),G(l(Ht),{plain:"",size:"small",class:w(l(C).e("link-btn")),disabled:l(Ae),onClick:ne[10]||(ne[10]=fe=>l(I)(!1))},{default:le(()=>[ct(me(l(P)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ue("v-if",!0)],2))}});var gh=Ve(mh,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const bh=Se({...Us}),yh=["pick","set-picker-option"],kh=({unlinkPanels:e,leftDate:t,rightDate:a})=>{const{t:n}=et(),o=()=>{t.value=t.value.subtract(1,"year"),e.value||(a.value=a.value.subtract(1,"year"))},r=()=>{e.value||(t.value=t.value.add(1,"year")),a.value=a.value.add(1,"year")},s=()=>{t.value=t.value.add(1,"year")},i=()=>{a.value=a.value.subtract(1,"year")},d=k(()=>`${t.value.year()} ${n("el.datepicker.year")}`),f=k(()=>`${a.value.year()} ${n("el.datepicker.year")}`),p=k(()=>t.value.year()),u=k(()=>a.value.year()===t.value.year()?t.value.year()+1:a.value.year());return{leftPrevYear:o,rightNextYear:r,leftNextYear:s,rightPrevYear:i,leftLabel:d,rightLabel:f,leftYear:p,rightYear:u}},Ch=["onClick"],wh=["disabled"],Sh=["disabled"],Wn="year",Nh=ce({name:"DatePickerMonthRange"}),$h=ce({...Nh,props:bh,emits:yh,setup(e,{emit:t}){const a=e,{lang:n}=et(),o=xe("EP_PICKER_BASE"),{shortcuts:r,disabledDate:s,format:i}=o.props,d=en(o.props,"defaultValue"),f=K(ke().locale(n.value)),p=K(ke().locale(n.value).add(1,Wn)),{minDate:u,maxDate:c,rangeState:v,ppNs:g,drpNs:h,handleChangeRange:b,handleRangeConfirm:y,handleShortcutClick:C,onSelect:m}=Gs(a,{defaultValue:d,leftDate:f,rightDate:p,unit:Wn,onParsedValueChanged:q}),N=k(()=>!!r.length),{leftPrevYear:I,rightNextYear:E,leftNextYear:H,rightPrevYear:P,leftLabel:R,rightLabel:W,leftYear:Y,rightYear:B}=kh({unlinkPanels:en(a,"unlinkPanels"),leftDate:f,rightDate:p}),T=k(()=>a.unlinkPanels&&B.value>Y.value+1),z=(O,M=!0)=>{const D=O.minDate,U=O.maxDate;c.value===U&&u.value===D||(c.value=U,u.value=D,M&&y())},oe=O=>O.map(M=>M.format(i));function q(O,M){if(a.unlinkPanels&&M){const D=(O==null?void 0:O.year())||0,U=M.year();p.value=D===U?M.add(1,Wn):M}else p.value=f.value.add(1,Wn)}return t("set-picker-option",["formatToString",oe]),(O,M)=>($(),j("div",{class:w([l(g).b(),l(h).b(),{"has-sidebar":!!O.$slots.sidebar||l(N)}])},[ee("div",{class:w(l(g).e("body-wrapper"))},[Ie(O.$slots,"sidebar",{class:w(l(g).e("sidebar"))}),l(N)?($(),j("div",{key:0,class:w(l(g).e("sidebar"))},[($(!0),j($e,null,Ke(l(r),(D,U)=>($(),j("button",{key:U,type:"button",class:w(l(g).e("shortcut")),onClick:J=>l(C)(D)},me(D.text),11,Ch))),128))],2)):ue("v-if",!0),ee("div",{class:w(l(g).e("body"))},[ee("div",{class:w([[l(g).e("content"),l(h).e("content")],"is-left"])},[ee("div",{class:w(l(h).e("header"))},[ee("button",{type:"button",class:w([l(g).e("icon-btn"),"d-arrow-left"]),onClick:M[0]||(M[0]=(...D)=>l(I)&&l(I)(...D))},[G(l(Te),null,{default:le(()=>[G(l(In))]),_:1})],2),O.unlinkPanels?($(),j("button",{key:0,type:"button",disabled:!l(T),class:w([[l(g).e("icon-btn"),{[l(g).is("disabled")]:!l(T)}],"d-arrow-right"]),onClick:M[1]||(M[1]=(...D)=>l(H)&&l(H)(...D))},[G(l(Te),null,{default:le(()=>[G(l(Pn))]),_:1})],10,wh)):ue("v-if",!0),ee("div",null,me(l(R)),1)],2),G(Cl,{"selection-mode":"range",date:f.value,"min-date":l(u),"max-date":l(c),"range-state":l(v),"disabled-date":l(s),onChangerange:l(b),onPick:z,onSelect:l(m)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),ee("div",{class:w([[l(g).e("content"),l(h).e("content")],"is-right"])},[ee("div",{class:w(l(h).e("header"))},[O.unlinkPanels?($(),j("button",{key:0,type:"button",disabled:!l(T),class:w([[l(g).e("icon-btn"),{"is-disabled":!l(T)}],"d-arrow-left"]),onClick:M[2]||(M[2]=(...D)=>l(P)&&l(P)(...D))},[G(l(Te),null,{default:le(()=>[G(l(In))]),_:1})],10,Sh)):ue("v-if",!0),ee("button",{type:"button",class:w([l(g).e("icon-btn"),"d-arrow-right"]),onClick:M[3]||(M[3]=(...D)=>l(E)&&l(E)(...D))},[G(l(Te),null,{default:le(()=>[G(l(Pn))]),_:1})],2),ee("div",null,me(l(W)),1)],2),G(Cl,{"selection-mode":"range",date:p.value,"min-date":l(u),"max-date":l(c),"range-state":l(v),"disabled-date":l(s),onChangerange:l(b),onPick:z,onSelect:l(m)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var Eh=Ve($h,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const Th=function(e){switch(e){case"daterange":case"datetimerange":return gh;case"monthrange":return Eh;default:return ih}};ke.extend(_c);ke.extend(bp);ke.extend(Yl);ke.extend(kp);ke.extend(wp);ke.extend(Np);ke.extend(Ep);ke.extend(Vp);var Vh=ce({name:"ElDatePicker",install:null,props:{...Gl,...Mp},emits:["update:modelValue"],setup(e,{expose:t,emit:a,slots:n}){const o=be("picker-panel");at("ElPopperOptions",nt(en(e,"popperOptions"))),at(Zl,{slots:n,pickerNs:o});const r=K();t({focus:(d=!0)=>{var f;(f=r.value)==null||f.focus(d)},handleOpen:()=>{var d;(d=r.value)==null||d.handleOpen()},handleClose:()=>{var d;(d=r.value)==null||d.handleClose()}});const i=d=>{a("update:modelValue",d)};return()=>{var d;const f=(d=e.format)!=null?d:yc[e.type]||un,p=Th(e.type);return G(Os,bt(e,{format:f,type:e.type,ref:r,"onUpdate:modelValue":i}),{default:u=>G(p,u,null),"range-separator":n["range-separator"]})}}});const ta=Vh;ta.install=e=>{e.component(ta.name,ta)};const Mh=ta,Oh=Se({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Rt,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||Ze(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),Dh={[pt]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Ft]:e=>Ze(e)||$t(e),[Be]:e=>Ze(e)||$t(e)},Ih=["aria-label","onKeydown"],Ph=["aria-label","onKeydown"],Ah=ce({name:"ElInputNumber"}),Fh=ce({...Ah,props:Oh,emits:Dh,setup(e,{expose:t,emit:a}){const n=e,{t:o}=et(),r=be("input-number"),s=K(),i=nt({currentValue:n.modelValue,userInput:null}),{formItem:d}=Yt(),f=k(()=>Ze(n.modelValue)&&n.modelValue<=n.min),p=k(()=>Ze(n.modelValue)&&n.modelValue>=n.max),u=k(()=>{const T=y(n.step);return _t(n.precision)?Math.max(y(n.modelValue),T):(T>n.precision,n.precision)}),c=k(()=>n.controls&&n.controlsPosition==="right"),v=Lt(),g=qt(),h=k(()=>{if(i.userInput!==null)return i.userInput;let T=i.currentValue;if($t(T))return"";if(Ze(T)){if(Number.isNaN(T))return"";_t(n.precision)||(T=T.toFixed(n.precision))}return T}),b=(T,z)=>{if(_t(z)&&(z=u.value),z===0)return Math.round(T);let oe=String(T);const q=oe.indexOf(".");if(q===-1||!oe.replace(".","").split("")[q+z])return T;const D=oe.length;return oe.charAt(D-1)==="5"&&(oe=`${oe.slice(0,Math.max(0,D-1))}6`),Number.parseFloat(Number(oe).toFixed(z))},y=T=>{if($t(T))return 0;const z=T.toString(),oe=z.indexOf(".");let q=0;return oe!==-1&&(q=z.length-oe-1),q},C=(T,z=1)=>Ze(T)?b(T+n.step*z):i.currentValue,m=()=>{if(n.readonly||g.value||p.value)return;const T=Number(h.value)||0,z=C(T);E(z),a(Ft,i.currentValue)},N=()=>{if(n.readonly||g.value||f.value)return;const T=Number(h.value)||0,z=C(T,-1);E(z),a(Ft,i.currentValue)},I=(T,z)=>{const{max:oe,min:q,step:O,precision:M,stepStrictly:D,valueOnClear:U}=n;let J=Number(T);if($t(T)||Number.isNaN(J))return null;if(T===""){if(U===null)return null;J=tt(U)?{min:q,max:oe}[U]:U}return D&&(J=b(Math.round(J/O)*O,M)),_t(M)||(J=b(J,M)),(J>oe||J<q)&&(J=J>oe?oe:q,z&&a(Be,J)),J},E=(T,z=!0)=>{var oe;const q=i.currentValue,O=I(T);if(!z){a(Be,O);return}q!==O&&(i.userInput=null,a(Be,O),a(pt,O,q),n.validateEvent&&((oe=d==null?void 0:d.validate)==null||oe.call(d,"change").catch(M=>yt())),i.currentValue=O)},H=T=>{i.userInput=T;const z=T===""?null:Number(T);a(Ft,z),E(z,!1)},P=T=>{const z=T!==""?Number(T):"";(Ze(z)&&!Number.isNaN(z)||T==="")&&E(z),i.userInput=null},R=()=>{var T,z;(z=(T=s.value)==null?void 0:T.focus)==null||z.call(T)},W=()=>{var T,z;(z=(T=s.value)==null?void 0:T.blur)==null||z.call(T)},Y=T=>{a("focus",T)},B=T=>{var z;a("blur",T),n.validateEvent&&((z=d==null?void 0:d.validate)==null||z.call(d,"blur").catch(oe=>yt()))};return ge(()=>n.modelValue,T=>{const z=I(i.userInput),oe=I(T,!0);!Ze(z)&&(!z||z!==oe)&&(i.currentValue=oe,i.userInput=null)},{immediate:!0}),ut(()=>{var T;const{min:z,max:oe,modelValue:q}=n,O=(T=s.value)==null?void 0:T.input;if(O.setAttribute("role","spinbutton"),Number.isFinite(oe)?O.setAttribute("aria-valuemax",String(oe)):O.removeAttribute("aria-valuemax"),Number.isFinite(z)?O.setAttribute("aria-valuemin",String(z)):O.removeAttribute("aria-valuemin"),O.setAttribute("aria-valuenow",String(i.currentValue)),O.setAttribute("aria-disabled",String(g.value)),!Ze(q)&&q!=null){let M=Number(q);Number.isNaN(M)&&(M=null),a(Be,M)}}),Na(()=>{var T;const z=(T=s.value)==null?void 0:T.input;z==null||z.setAttribute("aria-valuenow",`${i.currentValue}`)}),t({focus:R,blur:W}),(T,z)=>($(),j("div",{class:w([l(r).b(),l(r).m(l(v)),l(r).is("disabled",l(g)),l(r).is("without-controls",!T.controls),l(r).is("controls-right",l(c))]),onDragstart:z[1]||(z[1]=we(()=>{},["prevent"]))},[T.controls?_e(($(),j("span",{key:0,role:"button","aria-label":l(o)("el.inputNumber.decrease"),class:w([l(r).e("decrease"),l(r).is("disabled",l(f))]),onKeydown:Ue(N,["enter"])},[G(l(Te),null,{default:le(()=>[l(c)?($(),de(l(Va),{key:0})):($(),de(l(jr),{key:1}))]),_:1})],42,Ih)),[[l(ga),N]]):ue("v-if",!0),T.controls?_e(($(),j("span",{key:1,role:"button","aria-label":l(o)("el.inputNumber.increase"),class:w([l(r).e("increase"),l(r).is("disabled",l(p))]),onKeydown:Ue(m,["enter"])},[G(l(Te),null,{default:le(()=>[l(c)?($(),de(l(Kl),{key:0})):($(),de(l(Hr),{key:1}))]),_:1})],42,Ph)),[[l(ga),m]]):ue("v-if",!0),G(l(St),{id:T.id,ref_key:"input",ref:s,type:"number",step:T.step,"model-value":l(h),placeholder:T.placeholder,readonly:T.readonly,disabled:l(g),size:l(v),max:T.max,min:T.min,name:T.name,label:T.label,"validate-event":!1,onWheel:z[0]||(z[0]=we(()=>{},["prevent"])),onKeydown:[Ue(we(m,["prevent"]),["up"]),Ue(we(N,["prevent"]),["down"])],onBlur:B,onFocus:Y,onInput:H,onChange:P},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var Rh=Ve(Fh,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]]);const Xs=Et(Rh),Lh=Se({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:re(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:re([String,Array,Function]),default:""},format:{type:re(Function),default:e=>`${e}%`}}),Bh=["aria-valuenow"],_h={viewBox:"0 0 100 100"},Kh=["d","stroke","stroke-width"],xh=["d","stroke","opacity","stroke-linecap","stroke-width"],zh={key:0},jh=ce({name:"ElProgress"}),Hh=ce({...jh,props:Lh,setup(e){const t=e,a={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},n=be("progress"),o=k(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:C(t.percentage)})),r=k(()=>(t.strokeWidth/t.width*100).toFixed(1)),s=k(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(r.value)/2}`,10):0),i=k(()=>{const m=s.value,N=t.type==="dashboard";return`
          M 50 50
          m 0 ${N?"":"-"}${m}
          a ${m} ${m} 0 1 1 0 ${N?"-":""}${m*2}
          a ${m} ${m} 0 1 1 0 ${N?"":"-"}${m*2}
          `}),d=k(()=>2*Math.PI*s.value),f=k(()=>t.type==="dashboard"?.75:1),p=k(()=>`${-1*d.value*(1-f.value)/2}px`),u=k(()=>({strokeDasharray:`${d.value*f.value}px, ${d.value}px`,strokeDashoffset:p.value})),c=k(()=>({strokeDasharray:`${d.value*f.value*(t.percentage/100)}px, ${d.value}px`,strokeDashoffset:p.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),v=k(()=>{let m;return t.color?m=C(t.percentage):m=a[t.status]||a.default,m}),g=k(()=>t.status==="warning"?qr:t.type==="line"?t.status==="success"?os:Bn:t.status==="success"?Oa:xl),h=k(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),b=k(()=>t.format(t.percentage));function y(m){const N=100/m.length;return m.map((E,H)=>tt(E)?{color:E,percentage:(H+1)*N}:E).sort((E,H)=>E.percentage-H.percentage)}const C=m=>{var N;const{color:I}=t;if(ft(I))return I(m);if(tt(I))return I;{const E=y(I);for(const H of E)if(H.percentage>m)return H.color;return(N=E[E.length-1])==null?void 0:N.color}};return(m,N)=>($(),j("div",{class:w([l(n).b(),l(n).m(m.type),l(n).is(m.status),{[l(n).m("without-text")]:!m.showText,[l(n).m("text-inside")]:m.textInside}]),role:"progressbar","aria-valuenow":m.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[m.type==="line"?($(),j("div",{key:0,class:w(l(n).b("bar"))},[ee("div",{class:w(l(n).be("bar","outer")),style:De({height:`${m.strokeWidth}px`})},[ee("div",{class:w([l(n).be("bar","inner"),{[l(n).bem("bar","inner","indeterminate")]:m.indeterminate}]),style:De(l(o))},[(m.showText||m.$slots.default)&&m.textInside?($(),j("div",{key:0,class:w(l(n).be("bar","innerText"))},[Ie(m.$slots,"default",{percentage:m.percentage},()=>[ee("span",null,me(l(b)),1)])],2)):ue("v-if",!0)],6)],6)],2)):($(),j("div",{key:1,class:w(l(n).b("circle")),style:De({height:`${m.width}px`,width:`${m.width}px`})},[($(),j("svg",_h,[ee("path",{class:w(l(n).be("circle","track")),d:l(i),stroke:`var(${l(n).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":l(r),fill:"none",style:De(l(u))},null,14,Kh),ee("path",{class:w(l(n).be("circle","path")),d:l(i),stroke:l(v),fill:"none",opacity:m.percentage?1:0,"stroke-linecap":m.strokeLinecap,"stroke-width":l(r),style:De(l(c))},null,14,xh)]))],6)),(m.showText||m.$slots.default)&&!m.textInside?($(),j("div",{key:2,class:w(l(n).e("text")),style:De({fontSize:`${l(h)}px`})},[Ie(m.$slots,"default",{percentage:m.percentage},()=>[m.status?($(),de(l(Te),{key:1},{default:le(()=>[($(),de(ot(l(g))))]),_:1})):($(),j("span",zh,me(l(b)),1))])],6)):ue("v-if",!0)],10,Bh))}});var qh=Ve(Hh,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const Uh=Et(qh),Wh=Se({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:re([Array,Object]),default:()=>dt(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:re([Array,Object]),default:()=>[jn,jn,jn]},voidIcon:{type:fa,default:()=>Ur},disabledVoidIcon:{type:fa,default:()=>jn},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:re(Array),default:()=>dt(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Rt,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),Yh={[pt]:e=>Ze(e),[Be]:e=>Ze(e)},Gh=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Xh=["onMousemove","onClick"],Zh=ce({name:"ElRate"}),Jh=ce({...Zh,props:Wh,emits:Yh,setup(e,{expose:t,emit:a}){const n=e;function o(q,O){const M=J=>Vt(J),D=Object.keys(O).map(J=>+J).filter(J=>{const V=O[J];return(M(V)?V.excluded:!1)?q<J:q<=J}).sort((J,V)=>J-V),U=O[D[0]];return M(U)&&U.value||U}const r=xe(wa,void 0),s=xe(bn,void 0),i=Lt(),d=be("rate"),{inputId:f,isLabeledByFormItem:p}=Ma(n,{formItemContext:s}),u=K(n.modelValue),c=K(-1),v=K(!0),g=k(()=>[d.b(),d.m(i.value)]),h=k(()=>n.disabled||(r==null?void 0:r.disabled)),b=k(()=>d.cssVarBlock({"void-color":n.voidColor,"disabled-void-color":n.disabledVoidColor,"fill-color":N.value})),y=k(()=>{let q="";return n.showScore?q=n.scoreTemplate.replace(/\{\s*value\s*\}/,h.value?`${n.modelValue}`:`${u.value}`):n.showText&&(q=n.texts[Math.ceil(u.value)-1]),q}),C=k(()=>n.modelValue*100-Math.floor(n.modelValue)*100),m=k(()=>Re(n.colors)?{[n.lowThreshold]:n.colors[0],[n.highThreshold]:{value:n.colors[1],excluded:!0},[n.max]:n.colors[2]}:n.colors),N=k(()=>{const q=o(u.value,m.value);return Vt(q)?"":q}),I=k(()=>{let q="";return h.value?q=`${C.value}%`:n.allowHalf&&(q="50%"),{color:N.value,width:q}}),E=k(()=>{let q=Re(n.icons)?[...n.icons]:{...n.icons};return q=Fa(q),Re(q)?{[n.lowThreshold]:q[0],[n.highThreshold]:{value:q[1],excluded:!0},[n.max]:q[2]}:q}),H=k(()=>o(n.modelValue,E.value)),P=k(()=>h.value?tt(n.disabledVoidIcon)?n.disabledVoidIcon:Fa(n.disabledVoidIcon):tt(n.voidIcon)?n.voidIcon:Fa(n.voidIcon)),R=k(()=>o(u.value,E.value));function W(q){const O=h.value&&C.value>0&&q-1<n.modelValue&&q>n.modelValue,M=n.allowHalf&&v.value&&q-.5<=u.value&&q>u.value;return O||M}function Y(q){n.clearable&&q===n.modelValue&&(q=0),a(Be,q),n.modelValue!==q&&a("change",q)}function B(q){h.value||(n.allowHalf&&v.value?Y(u.value):Y(q))}function T(q){if(h.value)return;let O=u.value;const M=q.code;return M===Me.up||M===Me.right?(n.allowHalf?O+=.5:O+=1,q.stopPropagation(),q.preventDefault()):(M===Me.left||M===Me.down)&&(n.allowHalf?O-=.5:O-=1,q.stopPropagation(),q.preventDefault()),O=O<0?0:O,O=O>n.max?n.max:O,a(Be,O),a("change",O),O}function z(q,O){if(!h.value){if(n.allowHalf&&O){let M=O.target;da(M,d.e("item"))&&(M=M.querySelector(`.${d.e("icon")}`)),(M.clientWidth===0||da(M,d.e("decimal")))&&(M=M.parentNode),v.value=O.offsetX*2<=M.clientWidth,u.value=v.value?q-.5:q}else u.value=q;c.value=q}}function oe(){h.value||(n.allowHalf&&(v.value=n.modelValue!==Math.floor(n.modelValue)),u.value=n.modelValue,c.value=-1)}return ge(()=>n.modelValue,q=>{u.value=q,v.value=n.modelValue!==Math.floor(n.modelValue)}),n.modelValue||a(Be,0),t({setCurrentValue:z,resetCurrentValue:oe}),(q,O)=>{var M;return $(),j("div",{id:l(f),class:w([l(g),l(d).is("disabled",l(h))]),role:"slider","aria-label":l(p)?void 0:q.label||"rating","aria-labelledby":l(p)?(M=l(s))==null?void 0:M.labelId:void 0,"aria-valuenow":u.value,"aria-valuetext":l(y)||void 0,"aria-valuemin":"0","aria-valuemax":q.max,tabindex:"0",style:De(l(b)),onKeydown:T},[($(!0),j($e,null,Ke(q.max,(D,U)=>($(),j("span",{key:U,class:w(l(d).e("item")),onMousemove:J=>z(D,J),onMouseleave:oe,onClick:J=>B(D)},[G(l(Te),{class:w([l(d).e("icon"),{hover:c.value===D},l(d).is("active",D<=u.value)])},{default:le(()=>[W(D)?ue("v-if",!0):($(),j($e,{key:0},[_e(($(),de(ot(l(R)),null,null,512)),[[lt,D<=u.value]]),_e(($(),de(ot(l(P)),null,null,512)),[[lt,!(D<=u.value)]])],64)),W(D)?($(),de(l(Te),{key:1,style:De(l(I)),class:w([l(d).e("icon"),l(d).e("decimal")])},{default:le(()=>[($(),de(ot(l(H))))]),_:1},8,["style","class"])):ue("v-if",!0)]),_:2},1032,["class"])],42,Xh))),128)),q.showText||q.showScore?($(),j("span",{key:0,class:w(l(d).e("text"))},me(l(y)),3)):ue("v-if",!0)],46,Gh)}}});var Qh=Ve(Jh,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]);const ev=Et(Qh);var Ao=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function tv(e,t){return!!(e===t||Ao(e)&&Ao(t))}function nv(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!tv(e[a],t[a]))return!1;return!0}function av(e,t){t===void 0&&(t=nv);var a=null;function n(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];if(a&&a.lastThis===this&&t(o,a.lastArgs))return a.lastResult;var s=e.apply(this,o);return a={lastResult:s,lastArgs:o,lastThis:this},s}return n.clear=function(){a=null},n}const lv=()=>{const t=kt().proxy.$props;return k(()=>{const a=(n,o,r)=>({});return t.perfMode?Wr(a):av(a)})},ov=50,Fo="itemRendered",Ro="scroll",Zs="forward",Js="backward",Rn="auto",Qs="smart",er="start",ya="center",tr="end",wn="horizontal",Ql="vertical",sv="ltr",na="rtl",wl="negative",nr="positive-ascending",ar="positive-descending",rv={[wn]:"left",[Ql]:"top"},iv=20,uv={[wn]:"deltaX",[Ql]:"deltaY"},dv=({atEndEdge:e,atStartEdge:t,layout:a},n)=>{let o,r=0;const s=d=>d<0&&t.value||d>0&&e.value;return{hasReachedEdge:s,onWheel:d=>{ks(o);const f=d[uv[a.value]];s(r)&&s(r+f)||(r+=f,fi()||d.preventDefault(),o=ys(()=>{n(r),r=0}))}}},Sl=on({type:re([Number,Function]),required:!0}),Nl=on({type:Number}),$l=on({type:Number,default:2}),cv=on({type:String,values:["ltr","rtl"],default:"ltr"}),El=on({type:Number,default:0}),ka=on({type:Number,required:!0}),lr=on({type:String,values:["horizontal","vertical"],default:Ql}),or=Se({className:{type:String,default:""},containerElement:{type:re([String,Object]),default:"div"},data:{type:re(Array),default:()=>dt([])},direction:cv,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:re([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),fv=Se({cache:$l,estimatedItemSize:Nl,layout:lr,initScrollOffset:El,total:ka,itemSize:Sl,...or}),Tl={type:Number,default:6},sr={type:Number,default:0},rr={type:Number,default:2};Se({columnCache:$l,columnWidth:Sl,estimatedColumnWidth:Nl,estimatedRowHeight:Nl,initScrollLeft:El,initScrollTop:El,itemKey:{type:re(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:$l,rowHeight:Sl,totalColumn:ka,totalRow:ka,hScrollbarSize:Tl,vScrollbarSize:Tl,scrollbarStartGap:sr,scrollbarEndGap:rr,role:String,...or});const pv=Se({alwaysOn:Boolean,class:String,layout:lr,total:ka,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:Tl,startGap:sr,endGap:rr,visible:Boolean}),qa=(e,t)=>e<t?Zs:Js,Ln=e=>e===sv||e===na||e===wn;let rn=null;function Lo(e=!1){if(rn===null||e){const t=document.createElement("div"),a=t.style;a.width="50px",a.height="50px",a.overflow="scroll",a.direction="rtl";const n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?rn=ar:(t.scrollLeft=1,t.scrollLeft===0?rn=wl:rn=nr),document.body.removeChild(t),rn}return rn}function hv({move:e,size:t,bar:a},n){const o={},r=`translate${a.axis}(${e}px)`;return o[a.size]=t,o.transform=r,o.msTransform=r,o.webkitTransform=r,n==="horizontal"?o.height="100%":o.width="100%",o}const vv=ce({name:"ElVirtualScrollBar",props:pv,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const a=k(()=>e.startGap+e.endGap),n=be("virtual-scrollbar"),o=be("scrollbar"),r=K(),s=K();let i=null,d=null;const f=nt({isDragging:!1,traveled:0}),p=k(()=>Yr[e.layout]),u=k(()=>e.clientSize-l(a)),c=k(()=>({position:"absolute",width:`${wn===e.layout?u.value:e.scrollbarSize}px`,height:`${wn===e.layout?e.scrollbarSize:u.value}px`,[rv[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),v=k(()=>{const E=e.ratio,H=e.clientSize;if(E>=100)return Number.POSITIVE_INFINITY;if(E>=50)return E*H/100;const P=H/3;return Math.floor(Math.min(Math.max(E*H,iv),P))}),g=k(()=>{if(!Number.isFinite(v.value))return{display:"none"};const E=`${v.value}px`;return hv({bar:p.value,size:E,move:f.traveled},e.layout)}),h=k(()=>Math.floor(e.clientSize-v.value-l(a))),b=()=>{window.addEventListener("mousemove",N),window.addEventListener("mouseup",m);const E=l(s);E&&(d=document.onselectstart,document.onselectstart=()=>!1,E.addEventListener("touchmove",N),E.addEventListener("touchend",m))},y=()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",m),document.onselectstart=d,d=null;const E=l(s);E&&(E.removeEventListener("touchmove",N),E.removeEventListener("touchend",m))},C=E=>{E.stopImmediatePropagation(),!(E.ctrlKey||[1,2].includes(E.button))&&(f.isDragging=!0,f[p.value.axis]=E.currentTarget[p.value.offset]-(E[p.value.client]-E.currentTarget.getBoundingClientRect()[p.value.direction]),t("start-move"),b())},m=()=>{f.isDragging=!1,f[p.value.axis]=0,t("stop-move"),y()},N=E=>{const{isDragging:H}=f;if(!H||!s.value||!r.value)return;const P=f[p.value.axis];if(!P)return;ks(i);const R=(r.value.getBoundingClientRect()[p.value.direction]-E[p.value.client])*-1,W=s.value[p.value.offset]-P,Y=R-W;i=ys(()=>{f.traveled=Math.max(e.startGap,Math.min(Y,h.value)),t("scroll",Y,h.value)})},I=E=>{const H=Math.abs(E.target.getBoundingClientRect()[p.value.direction]-E[p.value.client]),P=s.value[p.value.offset]/2,R=H-P;f.traveled=Math.max(0,Math.min(R,h.value)),t("scroll",R,h.value)};return ge(()=>e.scrollFrom,E=>{f.isDragging||(f.traveled=Math.ceil(E*h.value))}),Sa(()=>{y()}),()=>vt("div",{role:"presentation",ref:r,class:[n.b(),e.class,(e.alwaysOn||f.isDragging)&&"always-on"],style:c.value,onMousedown:we(I,["stop","prevent"]),onTouchstartPrevent:C},vt("div",{ref:s,class:o.e("thumb"),style:g.value,onMousedown:C},[]))}}),ir=({name:e,getOffset:t,getItemSize:a,getItemOffset:n,getEstimatedTotalSize:o,getStartIndexForOffset:r,getStopIndexForStartIndex:s,initCache:i,clearCache:d,validateProps:f})=>ce({name:e??"ElVirtualList",props:fv,emits:[Fo,Ro],setup(p,{emit:u,expose:c}){f(p);const v=kt(),g=be("vl"),h=K(i(p,v)),b=lv(),y=K(),C=K(),m=K(),N=K({isScrolling:!1,scrollDir:"forward",scrollOffset:Ze(p.initScrollOffset)?p.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:p.scrollbarAlwaysOn}),I=k(()=>{const{total:L,cache:se}=p,{isScrolling:ie,scrollDir:x,scrollOffset:Q}=l(N);if(L===0)return[0,0,0,0];const F=r(p,Q,l(h)),_=s(p,F,Q,l(h)),Z=!ie||x===Js?Math.max(1,se):1,pe=!ie||x===Zs?Math.max(1,se):1;return[Math.max(0,F-Z),Math.max(0,Math.min(L-1,_+pe)),F,_]}),E=k(()=>o(p,l(h))),H=k(()=>Ln(p.layout)),P=k(()=>[{position:"relative",[`overflow-${H.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:p.direction,height:Ze(p.height)?`${p.height}px`:p.height,width:Ze(p.width)?`${p.width}px`:p.width},p.style]),R=k(()=>{const L=l(E),se=l(H);return{height:se?"100%":`${L}px`,pointerEvents:l(N).isScrolling?"none":void 0,width:se?`${L}px`:"100%"}}),W=k(()=>H.value?p.width:p.height),{onWheel:Y}=dv({atStartEdge:k(()=>N.value.scrollOffset<=0),atEndEdge:k(()=>N.value.scrollOffset>=E.value),layout:k(()=>p.layout)},L=>{var se,ie;(ie=(se=m.value).onMouseUp)==null||ie.call(se),O(Math.min(N.value.scrollOffset+L,E.value-W.value))}),B=()=>{const{total:L}=p;if(L>0){const[Q,F,_,Z]=l(I);u(Fo,Q,F,_,Z)}const{scrollDir:se,scrollOffset:ie,updateRequested:x}=l(N);u(Ro,se,ie,x)},T=L=>{const{clientHeight:se,scrollHeight:ie,scrollTop:x}=L.currentTarget,Q=l(N);if(Q.scrollOffset===x)return;const F=Math.max(0,Math.min(x,ie-se));N.value={...Q,isScrolling:!0,scrollDir:qa(Q.scrollOffset,F),scrollOffset:F,updateRequested:!1},Ee(U)},z=L=>{const{clientWidth:se,scrollLeft:ie,scrollWidth:x}=L.currentTarget,Q=l(N);if(Q.scrollOffset===ie)return;const{direction:F}=p;let _=ie;if(F===na)switch(Lo()){case wl:{_=-ie;break}case ar:{_=x-se-ie;break}}_=Math.max(0,Math.min(_,x-se)),N.value={...Q,isScrolling:!0,scrollDir:qa(Q.scrollOffset,_),scrollOffset:_,updateRequested:!1},Ee(U)},oe=L=>{l(H)?z(L):T(L),B()},q=(L,se)=>{const ie=(E.value-W.value)/se*L;O(Math.min(E.value-W.value,ie))},O=L=>{L=Math.max(L,0),L!==l(N).scrollOffset&&(N.value={...l(N),scrollOffset:L,scrollDir:qa(l(N).scrollOffset,L),updateRequested:!0},Ee(U))},M=(L,se=Rn)=>{const{scrollOffset:ie}=l(N);L=Math.max(0,Math.min(L,p.total-1)),O(t(p,L,se,ie,l(h)))},D=L=>{const{direction:se,itemSize:ie,layout:x}=p,Q=b.value(d&&ie,d&&x,d&&se);let F;if(yn(Q,String(L)))F=Q[L];else{const _=n(p,L,l(h)),Z=a(p,L,l(h)),pe=l(H),ye=se===na,Oe=pe?_:0;Q[L]=F={position:"absolute",left:ye?void 0:`${Oe}px`,right:ye?`${Oe}px`:void 0,top:pe?0:`${_}px`,height:pe?"100%":`${Z}px`,width:pe?`${Z}px`:"100%"}}return F},U=()=>{N.value.isScrolling=!1,Ee(()=>{b.value(-1,null,null)})},J=()=>{const L=y.value;L&&(L.scrollTop=0)};ut(()=>{if(!Sn)return;const{initScrollOffset:L}=p,se=l(y);Ze(L)&&se&&(l(H)?se.scrollLeft=L:se.scrollTop=L),B()}),Na(()=>{const{direction:L,layout:se}=p,{scrollOffset:ie,updateRequested:x}=l(N),Q=l(y);if(x&&Q)if(se===wn)if(L===na)switch(Lo()){case wl:{Q.scrollLeft=-ie;break}case nr:{Q.scrollLeft=ie;break}default:{const{clientWidth:F,scrollWidth:_}=Q;Q.scrollLeft=_-F-ie;break}}else Q.scrollLeft=ie;else Q.scrollTop=ie});const V={ns:g,clientSize:W,estimatedTotalSize:E,windowStyle:P,windowRef:y,innerRef:C,innerStyle:R,itemsToRender:I,scrollbarRef:m,states:N,getItemStyle:D,onScroll:oe,onScrollbarScroll:q,onWheel:Y,scrollTo:O,scrollToItem:M,resetScrollTop:J};return c({windowRef:y,innerRef:C,getItemStyleCache:b,scrollTo:O,scrollToItem:M,resetScrollTop:J,states:N}),V},render(p){var u;const{$slots:c,className:v,clientSize:g,containerElement:h,data:b,getItemStyle:y,innerElement:C,itemsToRender:m,innerStyle:N,layout:I,total:E,onScroll:H,onScrollbarScroll:P,onWheel:R,states:W,useIsScrolling:Y,windowStyle:B,ns:T}=p,[z,oe]=m,q=ot(h),O=ot(C),M=[];if(E>0)for(let V=z;V<=oe;V++)M.push((u=c.default)==null?void 0:u.call(c,{data:b,key:V,index:V,isScrolling:Y?W.isScrolling:void 0,style:y(V)}));const D=[vt(O,{style:N,ref:"innerRef"},tt(O)?M:{default:()=>M})],U=vt(vv,{ref:"scrollbarRef",clientSize:g,layout:I,onScroll:P,ratio:g*100/this.estimatedTotalSize,scrollFrom:W.scrollOffset/(this.estimatedTotalSize-g),total:E}),J=vt(q,{class:[T.e("window"),v],style:B,onScroll:H,onWheel:R,ref:"windowRef",key:0},tt(q)?[D]:{default:()=>[D]});return vt("div",{key:0,class:[T.e("wrapper"),W.scrollbarAlwaysOn?"always-on":""]},[J,U])}}),ur=ir({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:a,layout:n,width:o},r,s,i)=>{const d=Ln(n)?o:e,f=Math.max(0,t*a-d),p=Math.min(f,r*a),u=Math.max(0,(r+1)*a-d);switch(s===Qs&&(i>=u-d&&i<=p+d?s=Rn:s=ya),s){case er:return p;case tr:return u;case ya:{const c=Math.round(u+(p-u)/2);return c<Math.ceil(d/2)?0:c>f+Math.floor(d/2)?f:c}case Rn:default:return i>=u&&i<=p?i:i<u?u:p}},getStartIndexForOffset:({total:e,itemSize:t},a)=>Math.max(0,Math.min(e-1,Math.floor(a/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:a,layout:n,width:o},r,s)=>{const i=r*a,d=Ln(n)?o:e,f=Math.ceil((d+s-i)/a);return Math.max(0,Math.min(t-1,r+f-1))},initCache(){},clearCache:!0,validateProps(){}}),pn=(e,t,a)=>{const{itemSize:n}=e,{items:o,lastVisitedIndex:r}=a;if(t>r){let s=0;if(r>=0){const i=o[r];s=i.offset+i.size}for(let i=r+1;i<=t;i++){const d=n(i);o[i]={offset:s,size:d},s+=d}a.lastVisitedIndex=t}return o[t]},mv=(e,t,a)=>{const{items:n,lastVisitedIndex:o}=t;return(o>0?n[o].offset:0)>=a?dr(e,t,0,o,a):gv(e,t,Math.max(0,o),a)},dr=(e,t,a,n,o)=>{for(;a<=n;){const r=a+Math.floor((n-a)/2),s=pn(e,r,t).offset;if(s===o)return r;s<o?a=r+1:s>o&&(n=r-1)}return Math.max(0,a-1)},gv=(e,t,a,n)=>{const{total:o}=e;let r=1;for(;a<o&&pn(e,a,t).offset<n;)a+=r,r*=2;return dr(e,t,Math.floor(a/2),Math.min(a,o-1),n)},Bo=({total:e},{items:t,estimatedItemSize:a,lastVisitedIndex:n})=>{let o=0;if(n>=e&&(n=e-1),n>=0){const i=t[n];o=i.offset+i.size}const s=(e-n-1)*a;return o+s},bv=ir({name:"ElDynamicSizeList",getItemOffset:(e,t,a)=>pn(e,t,a).offset,getItemSize:(e,t,{items:a})=>a[t].size,getEstimatedTotalSize:Bo,getOffset:(e,t,a,n,o)=>{const{height:r,layout:s,width:i}=e,d=Ln(s)?i:r,f=pn(e,t,o),p=Bo(e,o),u=Math.max(0,Math.min(p-d,f.offset)),c=Math.max(0,f.offset-d+f.size);switch(a===Qs&&(n>=c-d&&n<=u+d?a=Rn:a=ya),a){case er:return u;case tr:return c;case ya:return Math.round(c+(u-c)/2);case Rn:default:return n>=c&&n<=u?n:n<c?c:u}},getStartIndexForOffset:(e,t,a)=>mv(e,a,t),getStopIndexForStartIndex:(e,t,a,n)=>{const{height:o,total:r,layout:s,width:i}=e,d=Ln(s)?i:o,f=pn(e,t,n),p=a+d;let u=f.offset+f.size,c=t;for(;c<r-1&&u<p;)c++,u+=pn(e,c,n).size;return c},initCache({estimatedItemSize:e=ov},t){const a={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return a.clearCacheAfterIndex=(n,o=!0)=>{var r,s;a.lastVisitedIndex=Math.min(a.lastVisitedIndex,n-1),(r=t.exposed)==null||r.getItemStyleCache(-1),o&&((s=t.proxy)==null||s.$forceUpdate())},a},clearCache:!1,validateProps:({itemSize:e})=>{}}),yv=ce({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:be("select")}}});function kv(e,t,a,n,o,r){return e.item.isTitle?($(),j("div",{key:0,class:w(e.ns.be("group","title")),style:De([e.style,{lineHeight:`${e.height}px`}])},me(e.item.label),7)):($(),j("div",{key:1,class:w(e.ns.be("group","split")),style:De(e.style)},[ee("span",{class:w(e.ns.be("group","split-dash")),style:De({top:`${e.height/2}px`})},null,6)],6))}var Cv=Ve(yv,[["render",kv],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);function wv(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const Sv={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Bn},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:_l.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:Gr},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:re(String),values:zl,default:"bottom-start"}},Nv={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},$v=ce({props:Nv,emits:["select","hover"],setup(e,{emit:t}){const a=be("select"),{hoverItem:n,selectOptionClick:o}=wv(e,{emit:t});return{ns:a,hoverItem:n,selectOptionClick:o}}}),Ev=["aria-selected"];function Tv(e,t,a,n,o,r){return $(),j("li",{"aria-selected":e.selected,style:De(e.style),class:w([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...s)=>e.hoverItem&&e.hoverItem(...s)),onClick:t[1]||(t[1]=we((...s)=>e.selectOptionClick&&e.selectOptionClick(...s),["stop"]))},[Ie(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[ee("span",null,me(e.item.label),1)])],46,Ev)}var Vv=Ve($v,[["render",Tv],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const cr=Symbol("ElSelectV2Injection");var Mv=ce({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:a}){const n=xe(cr),o=be("select"),r=K([]),s=K(),i=k(()=>e.data.length);ge(()=>i.value,()=>{var P,R;(R=(P=n.popper.value).updatePopper)==null||R.call(P)});const d=k(()=>_t(n.props.estimatedOptionHeight)),f=k(()=>d.value?{itemSize:n.props.itemHeight}:{estimatedSize:n.props.estimatedOptionHeight,itemSize:P=>r.value[P]}),p=(P=[],R)=>{const{props:{valueKey:W}}=n;return Vt(R)?P&&P.some(Y=>It(Y,W)===It(R,W)):P.includes(R)},u=(P,R)=>{if(Vt(R)){const{valueKey:W}=n.props;return It(P,W)===It(R,W)}else return P===R},c=(P,R)=>{const{valueKey:W}=n.props;return n.props.multiple?p(P,It(R,W)):u(P,It(R,W))},v=(P,R)=>{const{disabled:W,multiple:Y,multipleLimit:B}=n.props;return W||!R&&(Y?B>0&&P.length>=B:!1)},g=P=>e.hoveringIndex===P;a({listRef:s,isSized:d,isItemDisabled:v,isItemHovering:g,isItemSelected:c,scrollToItem:P=>{const R=s.value;R&&R.scrollToItem(P)},resetScrollTop:()=>{const P=s.value;P&&P.resetScrollTop()}});const y=P=>{const{index:R,data:W,style:Y}=P,B=l(d),{itemSize:T,estimatedSize:z}=l(f),{modelValue:oe}=n.props,{onSelect:q,onHover:O}=n,M=W[R];if(M.type==="Group")return G(Cv,{item:M,style:Y,height:B?T:z},null);const D=c(oe,M),U=v(oe,D),J=g(R);return G(Vv,bt(P,{selected:D,disabled:M.disabled||U,created:!!M.created,hovering:J,item:M,onSelect:q,onHover:O}),{default:V=>{var L;return((L=t.default)==null?void 0:L.call(t,V))||G("span",null,[M.label])}})},{onKeyboardNavigate:C,onKeyboardSelect:m}=n,N=()=>{C("forward")},I=()=>{C("backward")},E=()=>{n.expanded=!1},H=P=>{const{code:R}=P,{tab:W,esc:Y,down:B,up:T,enter:z}=Me;switch(R!==W&&(P.preventDefault(),P.stopPropagation()),R){case W:case Y:{E();break}case B:{N();break}case T:{I();break}case z:{m();break}}};return()=>{var P;const{data:R,width:W}=e,{height:Y,multiple:B,scrollbarAlwaysOn:T}=n.props;if(R.length===0)return G("div",{class:o.b("dropdown"),style:{width:`${W}px`}},[(P=t.empty)==null?void 0:P.call(t)]);const z=l(d)?ur:bv;return G("div",{class:[o.b("dropdown"),o.is("multiple",B)]},[G(z,bt({ref:s},l(f),{className:o.be("dropdown","list"),scrollbarAlwaysOn:T,data:R,height:Y,width:W,total:R.length,onKeydown:H}),{default:oe=>G(y,oe,null)})])}}});function Ov(e,t){const a=K(0),n=K(null),o=k(()=>e.allowCreate&&e.filterable);function r(p){const u=c=>c.value===p;return e.options&&e.options.some(u)||t.createdOptions.some(u)}function s(p){o.value&&(e.multiple&&p.created?a.value++:n.value=p)}function i(p){if(o.value)if(p&&p.length>0&&!r(p)){const u={value:p,label:p,created:!0,disabled:!1};t.createdOptions.length>=a.value?t.createdOptions[a.value]=u:t.createdOptions.push(u)}else if(e.multiple)t.createdOptions.length=a.value;else{const u=n.value;t.createdOptions.length=0,u&&u.created&&t.createdOptions.push(u)}}function d(p){if(!o.value||!p||!p.created||p.created&&e.reserveKeyword&&t.inputValue===p.label)return;const u=t.createdOptions.findIndex(c=>c.value===p.value);~u&&(t.createdOptions.splice(u,1),a.value--)}function f(){o.value&&(t.createdOptions.length=0,a.value=0)}return{createNewOption:i,removeNewOption:d,selectNewOption:s,clearAllNewOption:f}}const Dv=e=>{const t=[];return e.forEach(a=>{Re(a.options)?(t.push({label:a.label,isTitle:!0,type:"Group"}),a.options.forEach(n=>{t.push(n)}),t.push({type:"Group"})):t.push(a)}),t};function Iv(e){const t=K(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:r=>{const s=r.target.value,i=s[s.length-1]||"";t.value=!is(i)},handleCompositionEnd:r=>{t.value&&(t.value=!1,ft(e)&&e(r))}}}const _o="",Ko=11,Pv={larget:51,default:42,small:33},Av=(e,t)=>{const{t:a}=et(),n=be("select-v2"),o=be("input"),{form:r,formItem:s}=Yt(),i=nt({inputValue:_o,displayInputValue:_o,calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),d=K(-1),f=K(-1),p=K(null),u=K(null),c=K(null),v=K(null),g=K(null),h=K(null),b=K(null),y=K(!1),C=k(()=>e.disabled||(r==null?void 0:r.disabled)),m=k(()=>{const te=B.value.length*34;return te>e.height?e.height:te}),N=k(()=>!$t(e.modelValue)),I=k(()=>{const te=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:N.value;return e.clearable&&!C.value&&i.comboBoxHovering&&te}),E=k(()=>e.remote&&e.filterable?"":Kl),H=k(()=>E.value&&n.is("reverse",y.value)),P=k(()=>(s==null?void 0:s.validateState)||""),R=k(()=>Xr[P.value]),W=k(()=>e.remote?300:0),Y=k(()=>{const te=B.value;return e.loading?e.loadingText||a("el.select.loading"):e.remote&&i.inputValue===""&&te.length===0?!1:e.filterable&&i.inputValue&&te.length>0?e.noMatchText||a("el.select.noMatch"):te.length===0?e.noDataText||a("el.select.noData"):null}),B=k(()=>{const te=ve=>{const Pe=i.inputValue,qe=new RegExp(Zr(Pe),"i");return Pe?qe.test(ve.label||""):!0};return e.loading?[]:Dv(e.options.concat(i.createdOptions).map(ve=>{if(Re(ve.options)){const Pe=ve.options.filter(te);if(Pe.length>0)return{...ve,options:Pe}}else if(e.remote||te(ve))return ve;return null}).filter(ve=>ve!==null))}),T=k(()=>B.value.every(te=>te.disabled)),z=Lt(),oe=k(()=>z.value==="small"?"small":"default"),q=k(()=>{const te=h.value,ve=oe.value||"default",Pe=te?Number.parseInt(getComputedStyle(te).paddingLeft):0,qe=te?Number.parseInt(getComputedStyle(te).paddingRight):0;return i.selectWidth-qe-Pe-Pv[ve]}),O=()=>{var te;f.value=((te=g.value)==null?void 0:te.offsetWidth)||200},M=k(()=>({width:`${i.calculatedWidth===0?Ko:Math.ceil(i.calculatedWidth)+Ko}px`})),D=k(()=>Re(e.modelValue)?e.modelValue.length===0&&!i.displayInputValue:e.filterable?i.displayInputValue.length===0:!0),U=k(()=>{const te=e.placeholder||a("el.select.placeholder");return e.multiple||$t(e.modelValue)?te:i.selectedLabel}),J=k(()=>{var te,ve;return(ve=(te=v.value)==null?void 0:te.popperRef)==null?void 0:ve.contentRef}),V=k(()=>{if(e.multiple){const te=e.modelValue.length;if(e.modelValue.length>0)return B.value.findIndex(ve=>ve.value===e.modelValue[te-1])}else if(e.modelValue)return B.value.findIndex(te=>te.value===e.modelValue);return-1}),L=k({get(){return y.value&&Y.value!==!1},set(te){y.value=te}}),se=k(()=>i.cachedOptions.slice(0,e.maxCollapseTags)),ie=k(()=>i.cachedOptions.slice(e.maxCollapseTags)),{createNewOption:x,removeNewOption:Q,selectNewOption:F,clearAllNewOption:_}=Ov(e,i),{handleCompositionStart:Z,handleCompositionUpdate:pe,handleCompositionEnd:ye}=Iv(te=>xn(te)),Oe=()=>{var te,ve,Pe;(ve=(te=u.value)==null?void 0:te.focus)==null||ve.call(te),(Pe=v.value)==null||Pe.updatePopper()},Ne=()=>{if(!e.automaticDropdown&&!C.value)return i.isComposing&&(i.softFocus=!0),Ee(()=>{var te,ve;y.value=!y.value,(ve=(te=u.value)==null?void 0:te.focus)==null||ve.call(te)})},Ae=()=>(e.filterable&&i.inputValue!==i.selectedLabel&&(i.query=i.selectedLabel),Ce(i.inputValue),Ee(()=>{x(i.inputValue)})),Ye=tn(Ae,W.value),Ce=te=>{i.previousQuery!==te&&(i.previousQuery=te,e.filterable&&ft(e.filterMethod)?e.filterMethod(te):e.filterable&&e.remote&&ft(e.remoteMethod)&&e.remoteMethod(te))},rt=te=>{Kt(e.modelValue,te)||t(pt,te)},ze=te=>{t(Be,te),rt(te),i.previousValue=te==null?void 0:te.toString()},Xe=(te=[],ve)=>{if(!Vt(ve))return te.indexOf(ve);const Pe=e.valueKey;let qe=-1;return te.some((Pt,At)=>It(Pt,Pe)===It(ve,Pe)?(qe=At,!0):!1),qe},We=te=>Vt(te)?It(te,e.valueKey):te,ht=te=>Vt(te)?te.label:te,mt=()=>Ee(()=>{var te,ve;if(!u.value)return;const Pe=h.value;g.value.height=Pe.offsetHeight,y.value&&Y.value!==!1&&((ve=(te=v.value)==null?void 0:te.updatePopper)==null||ve.call(te))}),Ct=()=>{var te,ve;if(wt(),O(),(ve=(te=v.value)==null?void 0:te.updatePopper)==null||ve.call(te),e.multiple)return mt()},wt=()=>{const te=h.value;te&&(i.selectWidth=te.getBoundingClientRect().width)},Ot=(te,ve,Pe=!0)=>{var qe,Pt;if(e.multiple){let At=e.modelValue.slice();const zn=Xe(At,We(te));zn>-1?(At=[...At.slice(0,zn),...At.slice(zn+1)],i.cachedOptions.splice(zn,1),Q(te)):(e.multipleLimit<=0||At.length<e.multipleLimit)&&(At=[...At,We(te)],i.cachedOptions.push(te),F(te),Fe(ve)),ze(At),te.created&&(i.query="",Ce(""),i.inputLength=20),e.filterable&&!e.reserveKeyword&&((Pt=(qe=u.value).focus)==null||Pt.call(qe),A("")),e.filterable&&(i.calculatedWidth=b.value.getBoundingClientRect().width),mt(),Ut()}else d.value=ve,i.selectedLabel=te.label,ze(We(te)),y.value=!1,i.isComposing=!1,i.isSilentBlur=Pe,F(te),te.created||_(),Fe(ve)},Dt=(te,ve)=>{const{valueKey:Pe}=e,qe=e.modelValue.indexOf(It(ve,Pe));if(qe>-1&&!C.value){const Pt=[...e.modelValue.slice(0,qe),...e.modelValue.slice(qe+1)];return i.cachedOptions.splice(qe,1),ze(Pt),t("remove-tag",It(ve,Pe)),i.softFocus=!0,Q(ve),Ee(Oe)}te.stopPropagation()},je=te=>{const ve=i.isComposing;i.isComposing=!0,i.softFocus?i.softFocus=!1:ve||t("focus",te)},ae=te=>(i.softFocus=!1,Ee(()=>{var ve,Pe;(Pe=(ve=u.value)==null?void 0:ve.blur)==null||Pe.call(ve),b.value&&(i.calculatedWidth=b.value.getBoundingClientRect().width),i.isSilentBlur?i.isSilentBlur=!1:i.isComposing&&t("blur",te),i.isComposing=!1})),he=()=>{i.displayInputValue.length>0?A(""):y.value=!1},X=te=>{if(i.displayInputValue.length===0){te.preventDefault();const ve=e.modelValue.slice();ve.pop(),Q(i.cachedOptions.pop()),ze(ve)}},S=()=>{let te;return Re(e.modelValue)?te=[]:te=void 0,i.softFocus=!0,e.multiple?i.cachedOptions=[]:i.selectedLabel="",y.value=!1,ze(te),t("clear"),_(),Ee(Oe)},A=te=>{i.displayInputValue=te,i.inputValue=te},ne=(te,ve=void 0)=>{const Pe=B.value;if(!["forward","backward"].includes(te)||C.value||Pe.length<=0||T.value)return;if(!y.value)return Ne();ve===void 0&&(ve=i.hoveringIndex);let qe=-1;te==="forward"?(qe=ve+1,qe>=Pe.length&&(qe=0)):te==="backward"&&(qe=ve-1,(qe<0||qe>=Pe.length)&&(qe=Pe.length-1));const Pt=Pe[qe];if(Pt.disabled||Pt.type==="Group")return ne(te,qe);Fe(qe),gt(qe)},fe=()=>{if(y.value)~i.hoveringIndex&&B.value[i.hoveringIndex]&&Ot(B.value[i.hoveringIndex],i.hoveringIndex,!1);else return Ne()},Fe=te=>{i.hoveringIndex=te},Qe=()=>{i.hoveringIndex=-1},Ut=()=>{var te;const ve=u.value;ve&&((te=ve.focus)==null||te.call(ve))},xn=te=>{const ve=te.target.value;if(A(ve),i.displayInputValue.length>0&&!y.value&&(y.value=!0),i.calculatedWidth=b.value.getBoundingClientRect().width,e.multiple&&mt(),e.remote)Ye();else return Ae()},Gt=()=>(y.value=!1,ae()),He=()=>(i.inputValue=i.displayInputValue,Ee(()=>{~V.value&&(Fe(V.value),gt(i.hoveringIndex))})),gt=te=>{c.value.scrollToItem(te)},Pa=()=>{if(Qe(),e.multiple)if(e.modelValue.length>0){let te=!1;i.cachedOptions.length=0,i.previousValue=e.modelValue.toString(),e.modelValue.forEach(ve=>{const Pe=B.value.findIndex(qe=>We(qe)===ve);~Pe&&(i.cachedOptions.push(B.value[Pe]),te||Fe(Pe),te=!0)})}else i.cachedOptions=[],i.previousValue=void 0;else if(N.value){i.previousValue=e.modelValue;const te=B.value,ve=te.findIndex(Pe=>We(Pe)===We(e.modelValue));~ve?(i.selectedLabel=te[ve].label,Fe(ve)):i.selectedLabel=`${e.modelValue}`}else i.selectedLabel="",i.previousValue=void 0;_(),O()};return ge(y,te=>{var ve,Pe;t("visible-change",te),te?(Pe=(ve=v.value).update)==null||Pe.call(ve):(i.displayInputValue="",i.previousQuery=null,x(""))}),ge(()=>e.modelValue,(te,ve)=>{var Pe;(!te||te.toString()!==i.previousValue)&&Pa(),!Kt(te,ve)&&e.validateEvent&&((Pe=s==null?void 0:s.validate)==null||Pe.call(s,"change").catch(qe=>yt()))},{deep:!0}),ge(()=>e.options,()=>{const te=u.value;(!te||te&&document.activeElement!==te)&&Pa()},{deep:!0}),ge(B,()=>Ee(c.value.resetScrollTop)),ge(()=>L.value,te=>{te||Qe()}),ut(()=>{Pa()}),Ll(g,Ct),{collapseTagSize:oe,currentPlaceholder:U,expanded:y,emptyText:Y,popupHeight:m,debounce:W,filteredOptions:B,iconComponent:E,iconReverse:H,inputWrapperStyle:M,popperSize:f,dropdownMenuVisible:L,hasModelValue:N,shouldShowPlaceholder:D,selectDisabled:C,selectSize:z,showClearBtn:I,states:i,tagMaxWidth:q,nsSelectV2:n,nsInput:o,calculatorRef:b,controlRef:p,inputRef:u,menuRef:c,popper:v,selectRef:g,selectionRef:h,popperRef:J,validateState:P,validateIcon:R,showTagList:se,collapseTagList:ie,debouncedOnInputChange:Ye,deleteTag:Dt,getLabel:ht,getValueKey:We,handleBlur:ae,handleClear:S,handleClickOutside:Gt,handleDel:X,handleEsc:he,handleFocus:je,handleMenuEnter:He,handleResize:Ct,toggleMenu:Ne,scrollTo:gt,onInput:xn,onKeyboardNavigate:ne,onKeyboardSelect:fe,onSelect:Ot,onHover:Fe,onUpdateInputValue:A,handleCompositionStart:Z,handleCompositionEnd:ye,handleCompositionUpdate:pe}},Fv=ce({name:"ElSelectV2",components:{ElSelectMenu:Mv,ElTag:Ja,ElTooltip:Qt,ElIcon:Te},directives:{ClickOutside:Cn,ModelText:ls},props:Sv,emits:[Be,pt,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const a=k(()=>{const{modelValue:o,multiple:r}=e,s=r?[]:void 0;return Re(o)?r?o:s:r?s:o}),n=Av(nt({...Mt(e),modelValue:a}),t);return at(cr,{props:nt({...Mt(e),height:n.popupHeight,modelValue:a}),popper:n.popper,onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),{...n,modelValue:a}}}),Rv={key:0},Lv=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],Bv=["textContent"],_v=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Kv=["textContent"];function xv(e,t,a,n,o,r){const s=Je("el-tag"),i=Je("el-tooltip"),d=Je("el-icon"),f=Je("el-select-menu"),p=so("model-text"),u=so("click-outside");return _e(($(),j("div",{ref:"selectRef",class:w([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=we((...c)=>e.toggleMenu&&e.toggleMenu(...c),["stop"])),onMouseenter:t[25]||(t[25]=c=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=c=>e.states.comboBoxHovering=!1)},[G(i,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=c=>e.states.inputValue=e.states.displayInputValue)},{default:le(()=>[ee("div",{ref:"selectionRef",class:w([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?($(),j("div",Rv,[Ie(e.$slots,"prefix")])):ue("v-if",!0),e.multiple?($(),j("div",{key:1,class:w(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?($(),j($e,{key:0},[($(!0),j($e,null,Ke(e.showTagList,c=>($(),j("div",{key:e.getValueKey(c),class:w(e.nsSelectV2.e("selected-item"))},[G(s,{closable:!e.selectDisabled&&!(c!=null&&c.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:v=>e.deleteTag(v,c)},{default:le(()=>[ee("span",{class:w(e.nsSelectV2.e("tags-text")),style:De({maxWidth:`${e.tagMaxWidth}px`})},me(c==null?void 0:c.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),ee("div",{class:w(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?($(),de(s,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:le(()=>[e.collapseTagsTooltip?($(),de(i,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:le(()=>[ee("span",{class:w(e.nsSelectV2.e("tags-text")),style:De({maxWidth:`${e.tagMaxWidth}px`})},"+ "+me(e.modelValue.length-e.maxCollapseTags),7)]),content:le(()=>[ee("div",{class:w(e.nsSelectV2.e("selection"))},[($(!0),j($e,null,Ke(e.collapseTagList,c=>($(),j("div",{key:e.getValueKey(c),class:w(e.nsSelectV2.e("selected-item"))},[G(s,{closable:!e.selectDisabled&&!c.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:v=>e.deleteTag(v,c)},{default:le(()=>[ee("span",{class:w(e.nsSelectV2.e("tags-text")),style:De({maxWidth:`${e.tagMaxWidth}px`})},me(e.getLabel(c)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):($(),j("span",{key:1,class:w(e.nsSelectV2.e("tags-text")),style:De({maxWidth:`${e.tagMaxWidth}px`})},"+ "+me(e.modelValue.length-e.maxCollapseTags),7))]),_:1},8,["size"])):ue("v-if",!0)],2)],64)):($(!0),j($e,{key:1},Ke(e.states.cachedOptions,c=>($(),j("div",{key:e.getValueKey(c),class:w(e.nsSelectV2.e("selected-item"))},[G(s,{closable:!e.selectDisabled&&!c.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:v=>e.deleteTag(v,c)},{default:le(()=>[ee("span",{class:w(e.nsSelectV2.e("tags-text")),style:De({maxWidth:`${e.tagMaxWidth}px`})},me(e.getLabel(c)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),ee("div",{class:w([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:De(e.inputWrapperStyle)},[_e(ee("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:w([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...c)=>e.onUpdateInputValue&&e.onUpdateInputValue(...c)),onFocus:t[1]||(t[1]=(...c)=>e.handleFocus&&e.handleFocus(...c)),onBlur:t[2]||(t[2]=(...c)=>e.handleBlur&&e.handleBlur(...c)),onInput:t[3]||(t[3]=(...c)=>e.onInput&&e.onInput(...c)),onCompositionstart:t[4]||(t[4]=(...c)=>e.handleCompositionStart&&e.handleCompositionStart(...c)),onCompositionupdate:t[5]||(t[5]=(...c)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...c)),onCompositionend:t[6]||(t[6]=(...c)=>e.handleCompositionEnd&&e.handleCompositionEnd(...c)),onKeydown:[t[7]||(t[7]=Ue(we(c=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[8]||(t[8]=Ue(we(c=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[9]||(t[9]=Ue(we((...c)=>e.onKeyboardSelect&&e.onKeyboardSelect(...c),["stop","prevent"]),["enter"])),t[10]||(t[10]=Ue(we((...c)=>e.handleEsc&&e.handleEsc(...c),["stop","prevent"]),["esc"])),t[11]||(t[11]=Ue(we((...c)=>e.handleDel&&e.handleDel(...c),["stop"]),["delete"]))]},null,42,Lv),[[p,e.states.displayInputValue]]),e.filterable?($(),j("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:w(e.nsSelectV2.e("input-calculator")),textContent:me(e.states.displayInputValue)},null,10,Bv)):ue("v-if",!0)],6)],2)):($(),j($e,{key:2},[ee("div",{class:w([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[_e(ee("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:w(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...c)=>e.handleCompositionStart&&e.handleCompositionStart(...c)),onCompositionupdate:t[13]||(t[13]=(...c)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...c)),onCompositionend:t[14]||(t[14]=(...c)=>e.handleCompositionEnd&&e.handleCompositionEnd(...c)),onFocus:t[15]||(t[15]=(...c)=>e.handleFocus&&e.handleFocus(...c)),onBlur:t[16]||(t[16]=(...c)=>e.handleBlur&&e.handleBlur(...c)),onInput:t[17]||(t[17]=(...c)=>e.onInput&&e.onInput(...c)),onKeydown:[t[18]||(t[18]=Ue(we(c=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),t[19]||(t[19]=Ue(we(c=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),t[20]||(t[20]=Ue(we((...c)=>e.onKeyboardSelect&&e.onKeyboardSelect(...c),["stop","prevent"]),["enter"])),t[21]||(t[21]=Ue(we((...c)=>e.handleEsc&&e.handleEsc(...c),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...c)=>e.onUpdateInputValue&&e.onUpdateInputValue(...c))},null,42,_v),[[p,e.states.displayInputValue]])],2),e.filterable?($(),j("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:w([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:me(e.states.displayInputValue)},null,10,Kv)):ue("v-if",!0)],64)),e.shouldShowPlaceholder?($(),j("span",{key:3,class:w([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},me(e.currentPlaceholder),3)):ue("v-if",!0),ee("span",{class:w(e.nsSelectV2.e("suffix"))},[e.iconComponent?_e(($(),de(d,{key:0,class:w([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:le(()=>[($(),de(ot(e.iconComponent)))]),_:1},8,["class"])),[[lt,!e.showClearBtn]]):ue("v-if",!0),e.showClearBtn&&e.clearIcon?($(),de(d,{key:1,class:w([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:we(e.handleClear,["prevent","stop"])},{default:le(()=>[($(),de(ot(e.clearIcon)))]),_:1},8,["class","onClick"])):ue("v-if",!0),e.validateState&&e.validateIcon?($(),de(d,{key:2,class:w([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:le(()=>[($(),de(ot(e.validateIcon)))]),_:1},8,["class"])):ue("v-if",!0)],2)],2)]),content:le(()=>[G(f,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:le(c=>[Ie(e.$slots,"default",Jr(Qr(c)))]),empty:le(()=>[Ie(e.$slots,"empty",{},()=>[ee("p",{class:w(e.nsSelectV2.e("empty"))},me(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[u,e.handleClickOutside,e.popperRef]])}var aa=Ve(Fv,[["render",xv],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);aa.install=e=>{e.component(aa.name,aa)};const zv=aa,jv=zv,fr=Symbol("sliderContextKey"),Hv=Se({modelValue:{type:re([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Rt,inputSize:Rt,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:re(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:re(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:zl,default:"top"},marks:{type:re(Object)},validateEvent:{type:Boolean,default:!0}}),Ua=e=>Ze(e)||Re(e)&&e.every(Ze),qv={[Be]:Ua,[Ft]:Ua,[pt]:Ua},Uv=(e,t,a)=>{const n=K();return ut(async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(typeof e.modelValue!="number"||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),ss(window,"resize",a),await Ee(),a()}),{sliderWrapper:n}},Wv=e=>k(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((a,n)=>a-n).filter(a=>a<=e.max&&a>=e.min).map(a=>({point:a,position:(a-e.min)*100/(e.max-e.min),mark:e.marks[a]})):[]),Yv=(e,t,a)=>{const{form:n,formItem:o}=Yt(),r=jt(),s=K(),i=K(),d={firstButton:s,secondButton:i},f=k(()=>e.disabled||(n==null?void 0:n.disabled)||!1),p=k(()=>Math.min(t.firstValue,t.secondValue)),u=k(()=>Math.max(t.firstValue,t.secondValue)),c=k(()=>e.range?`${100*(u.value-p.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),v=k(()=>e.range?`${100*(p.value-e.min)/(e.max-e.min)}%`:"0%"),g=k(()=>e.vertical?{height:e.height}:{}),h=k(()=>e.vertical?{height:c.value,bottom:v.value}:{width:c.value,left:v.value}),b=()=>{r.value&&(t.sliderSize=r.value[`client${e.vertical?"Height":"Width"}`])},y=Y=>{const B=e.min+Y*(e.max-e.min)/100;if(!e.range)return s;let T;return Math.abs(p.value-B)<Math.abs(u.value-B)?T=t.firstValue<t.secondValue?"firstButton":"secondButton":T=t.firstValue>t.secondValue?"firstButton":"secondButton",d[T]},C=Y=>{const B=y(Y);return B.value.setPosition(Y),B},m=Y=>{t.firstValue=Y,I(e.range?[p.value,u.value]:Y)},N=Y=>{t.secondValue=Y,e.range&&I([p.value,u.value])},I=Y=>{a(Be,Y),a(Ft,Y)},E=async()=>{await Ee(),a(pt,e.range?[p.value,u.value]:e.modelValue)},H=Y=>{var B,T,z,oe,q,O;if(f.value||t.dragging)return;b();let M=0;if(e.vertical){const D=(z=(T=(B=Y.touches)==null?void 0:B.item(0))==null?void 0:T.clientY)!=null?z:Y.clientY;M=(r.value.getBoundingClientRect().bottom-D)/t.sliderSize*100}else{const D=(O=(q=(oe=Y.touches)==null?void 0:oe.item(0))==null?void 0:q.clientX)!=null?O:Y.clientX,U=r.value.getBoundingClientRect().left;M=(D-U)/t.sliderSize*100}if(!(M<0||M>100))return C(M)};return{elFormItem:o,slider:r,firstButton:s,secondButton:i,sliderDisabled:f,minValue:p,maxValue:u,runwayStyle:g,barStyle:h,resetSize:b,setPosition:C,emitChange:E,onSliderWrapperPrevent:Y=>{var B,T;((B=d.firstButton.value)!=null&&B.dragging||(T=d.secondButton.value)!=null&&T.dragging)&&Y.preventDefault()},onSliderClick:Y=>{H(Y)&&E()},onSliderDown:async Y=>{const B=H(Y);B&&(await Ee(),B.value.onButtonDown(Y))},setFirstValue:m,setSecondValue:N}},{left:Gv,down:Xv,right:Zv,up:Jv,home:Qv,end:em,pageUp:tm,pageDown:nm}=Me,am=(e,t,a)=>{const n=K(),o=K(!1),r=k(()=>t.value instanceof Function),s=k(()=>r.value&&t.value(e.modelValue)||e.modelValue),i=tn(()=>{a.value&&(o.value=!0)},50),d=tn(()=>{a.value&&(o.value=!1)},50);return{tooltip:n,tooltipVisible:o,formatValue:s,displayTooltip:i,hideTooltip:d}},lm=(e,t,a)=>{const{disabled:n,min:o,max:r,step:s,showTooltip:i,precision:d,sliderSize:f,formatTooltip:p,emitChange:u,resetSize:c,updateDragging:v}=xe(fr),{tooltip:g,tooltipVisible:h,formatValue:b,displayTooltip:y,hideTooltip:C}=am(e,p,i),m=K(),N=k(()=>`${(e.modelValue-o.value)/(r.value-o.value)*100}%`),I=k(()=>e.vertical?{bottom:N.value}:{left:N.value}),E=()=>{t.hovering=!0,y()},H=()=>{t.hovering=!1,t.dragging||C()},P=V=>{n.value||(V.preventDefault(),M(V),window.addEventListener("mousemove",D),window.addEventListener("touchmove",D),window.addEventListener("mouseup",U),window.addEventListener("touchend",U),window.addEventListener("contextmenu",U),m.value.focus())},R=V=>{n.value||(t.newPosition=Number.parseFloat(N.value)+V/(r.value-o.value)*100,J(t.newPosition),u())},W=()=>{R(-s.value)},Y=()=>{R(s.value)},B=()=>{R(-s.value*4)},T=()=>{R(s.value*4)},z=()=>{n.value||(J(0),u())},oe=()=>{n.value||(J(100),u())},q=V=>{let L=!0;[Gv,Xv].includes(V.key)?W():[Zv,Jv].includes(V.key)?Y():V.key===Qv?z():V.key===em?oe():V.key===nm?B():V.key===tm?T():L=!1,L&&V.preventDefault()},O=V=>{let L,se;return V.type.startsWith("touch")?(se=V.touches[0].clientY,L=V.touches[0].clientX):(se=V.clientY,L=V.clientX),{clientX:L,clientY:se}},M=V=>{t.dragging=!0,t.isClick=!0;const{clientX:L,clientY:se}=O(V);e.vertical?t.startY=se:t.startX=L,t.startPosition=Number.parseFloat(N.value),t.newPosition=t.startPosition},D=V=>{if(t.dragging){t.isClick=!1,y(),c();let L;const{clientX:se,clientY:ie}=O(V);e.vertical?(t.currentY=ie,L=(t.startY-t.currentY)/f.value*100):(t.currentX=se,L=(t.currentX-t.startX)/f.value*100),t.newPosition=t.startPosition+L,J(t.newPosition)}},U=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||C(),t.isClick||J(t.newPosition),u()},0),window.removeEventListener("mousemove",D),window.removeEventListener("touchmove",D),window.removeEventListener("mouseup",U),window.removeEventListener("touchend",U),window.removeEventListener("contextmenu",U))},J=async V=>{if(V===null||Number.isNaN(+V))return;V<0?V=0:V>100&&(V=100);const L=100/((r.value-o.value)/s.value);let ie=Math.round(V/L)*L*(r.value-o.value)*.01+o.value;ie=Number.parseFloat(ie.toFixed(d.value)),ie!==e.modelValue&&a(Be,ie),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await Ee(),t.dragging&&y(),g.value.updatePopper()};return ge(()=>t.dragging,V=>{v(V)}),{disabled:n,button:m,tooltip:g,tooltipVisible:h,showTooltip:i,wrapperStyle:I,formatValue:b,handleMouseEnter:E,handleMouseLeave:H,onButtonDown:P,onKeyDown:q,setPosition:J}},om=(e,t,a,n)=>({stops:k(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const s=(e.max-e.min)/e.step,i=100*e.step/(e.max-e.min),d=Array.from({length:s-1}).map((f,p)=>(p+1)*i);return e.range?d.filter(f=>f<100*(a.value-e.min)/(e.max-e.min)||f>100*(n.value-e.min)/(e.max-e.min)):d.filter(f=>f>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:s=>e.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),sm=(e,t,a,n,o,r)=>{const s=f=>{o(Be,f),o(Ft,f)},i=()=>e.range?![a.value,n.value].every((f,p)=>f===t.oldValue[p]):e.modelValue!==t.oldValue,d=()=>{var f,p;e.min>e.max&&Nn("Slider","min should not be greater than max.");const u=e.modelValue;e.range&&Array.isArray(u)?u[1]<e.min?s([e.min,e.min]):u[0]>e.max?s([e.max,e.max]):u[0]<e.min?s([e.min,u[1]]):u[1]>e.max?s([u[0],e.max]):(t.firstValue=u[0],t.secondValue=u[1],i()&&(e.validateEvent&&((f=r==null?void 0:r.validate)==null||f.call(r,"change").catch(c=>yt())),t.oldValue=u.slice())):!e.range&&typeof u=="number"&&!Number.isNaN(u)&&(u<e.min?s(e.min):u>e.max?s(e.max):(t.firstValue=u,i()&&(e.validateEvent&&((p=r==null?void 0:r.validate)==null||p.call(r,"change").catch(c=>yt())),t.oldValue=u)))};d(),ge(()=>t.dragging,f=>{f||d()}),ge(()=>e.modelValue,(f,p)=>{t.dragging||Array.isArray(f)&&Array.isArray(p)&&f.every((u,c)=>u===p[c])&&t.firstValue===f[0]&&t.secondValue===f[1]||d()},{deep:!0}),ge(()=>[e.min,e.max],()=>{d()})},rm=Se({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:zl,default:"top"}}),im={[Be]:e=>Ze(e)},um=["tabindex"],dm=ce({name:"ElSliderButton"}),cm=ce({...dm,props:rm,emits:im,setup(e,{expose:t,emit:a}){const n=e,o=be("slider"),r=nt({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),{disabled:s,button:i,tooltip:d,showTooltip:f,tooltipVisible:p,wrapperStyle:u,formatValue:c,handleMouseEnter:v,handleMouseLeave:g,onButtonDown:h,onKeyDown:b,setPosition:y}=lm(n,r,a),{hovering:C,dragging:m}=Mt(r);return t({onButtonDown:h,onKeyDown:b,setPosition:y,hovering:C,dragging:m}),(N,I)=>($(),j("div",{ref_key:"button",ref:i,class:w([l(o).e("button-wrapper"),{hover:l(C),dragging:l(m)}]),style:De(l(u)),tabindex:l(s)?-1:0,onMouseenter:I[0]||(I[0]=(...E)=>l(v)&&l(v)(...E)),onMouseleave:I[1]||(I[1]=(...E)=>l(g)&&l(g)(...E)),onMousedown:I[2]||(I[2]=(...E)=>l(h)&&l(h)(...E)),onTouchstart:I[3]||(I[3]=(...E)=>l(h)&&l(h)(...E)),onFocus:I[4]||(I[4]=(...E)=>l(v)&&l(v)(...E)),onBlur:I[5]||(I[5]=(...E)=>l(g)&&l(g)(...E)),onKeydown:I[6]||(I[6]=(...E)=>l(b)&&l(b)(...E))},[G(l(Qt),{ref_key:"tooltip",ref:d,visible:l(p),placement:N.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":N.tooltipClass,disabled:!l(f),persistent:""},{content:le(()=>[ee("span",null,me(l(c)),1)]),default:le(()=>[ee("div",{class:w([l(o).e("button"),{hover:l(C),dragging:l(m)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,um))}});var xo=Ve(cm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const fm=Se({mark:{type:re([String,Object]),default:void 0}});var pm=ce({name:"ElSliderMarker",props:fm,setup(e){const t=be("slider"),a=k(()=>tt(e.mark)?e.mark:e.mark.label),n=k(()=>tt(e.mark)?void 0:e.mark.style);return()=>vt("div",{class:t.e("marks-text"),style:n.value},a.value)}});const hm=["id","role","aria-label","aria-labelledby"],vm={key:1},mm=ce({name:"ElSlider"}),gm=ce({...mm,props:Hv,emits:qv,setup(e,{expose:t,emit:a}){const n=e,o=be("slider"),{t:r}=et(),s=nt({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:i,slider:d,firstButton:f,secondButton:p,sliderDisabled:u,minValue:c,maxValue:v,runwayStyle:g,barStyle:h,resetSize:b,emitChange:y,onSliderWrapperPrevent:C,onSliderClick:m,onSliderDown:N,setFirstValue:I,setSecondValue:E}=Yv(n,s,a),{stops:H,getStopStyle:P}=om(n,s,c,v),{inputId:R,isLabeledByFormItem:W}=Ma(n,{formItemContext:i}),Y=Lt(),B=k(()=>n.inputSize||Y.value),T=k(()=>n.label||r("el.slider.defaultLabel",{min:n.min,max:n.max})),z=k(()=>n.range?n.rangeStartLabel||r("el.slider.defaultRangeStartLabel"):T.value),oe=k(()=>n.formatValueText?n.formatValueText(V.value):`${V.value}`),q=k(()=>n.rangeEndLabel||r("el.slider.defaultRangeEndLabel")),O=k(()=>n.formatValueText?n.formatValueText(L.value):`${L.value}`),M=k(()=>[o.b(),o.m(Y.value),o.is("vertical",n.vertical),{[o.m("with-input")]:n.showInput}]),D=Wv(n);sm(n,s,c,v,a,i);const U=k(()=>{const x=[n.min,n.max,n.step].map(Q=>{const F=`${Q}`.split(".")[1];return F?F.length:0});return Math.max.apply(null,x)}),{sliderWrapper:J}=Uv(n,s,b),{firstValue:V,secondValue:L,sliderSize:se}=Mt(s),ie=x=>{s.dragging=x};return at(fr,{...Mt(n),sliderSize:se,disabled:u,precision:U,emitChange:y,resetSize:b,updateDragging:ie}),t({onSliderClick:m}),(x,Q)=>{var F,_;return $(),j("div",{id:x.range?l(R):void 0,ref_key:"sliderWrapper",ref:J,class:w(l(M)),role:x.range?"group":void 0,"aria-label":x.range&&!l(W)?l(T):void 0,"aria-labelledby":x.range&&l(W)?(F=l(i))==null?void 0:F.labelId:void 0,onTouchstart:Q[2]||(Q[2]=(...Z)=>l(C)&&l(C)(...Z)),onTouchmove:Q[3]||(Q[3]=(...Z)=>l(C)&&l(C)(...Z))},[ee("div",{ref_key:"slider",ref:d,class:w([l(o).e("runway"),{"show-input":x.showInput&&!x.range},l(o).is("disabled",l(u))]),style:De(l(g)),onMousedown:Q[0]||(Q[0]=(...Z)=>l(N)&&l(N)(...Z)),onTouchstart:Q[1]||(Q[1]=(...Z)=>l(N)&&l(N)(...Z))},[ee("div",{class:w(l(o).e("bar")),style:De(l(h))},null,6),G(xo,{id:x.range?void 0:l(R),ref_key:"firstButton",ref:f,"model-value":l(V),vertical:x.vertical,"tooltip-class":x.tooltipClass,placement:x.placement,role:"slider","aria-label":x.range||!l(W)?l(z):void 0,"aria-labelledby":!x.range&&l(W)?(_=l(i))==null?void 0:_.labelId:void 0,"aria-valuemin":x.min,"aria-valuemax":x.range?l(L):x.max,"aria-valuenow":l(V),"aria-valuetext":l(oe),"aria-orientation":x.vertical?"vertical":"horizontal","aria-disabled":l(u),"onUpdate:modelValue":l(I)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),x.range?($(),de(xo,{key:0,ref_key:"secondButton",ref:p,"model-value":l(L),vertical:x.vertical,"tooltip-class":x.tooltipClass,placement:x.placement,role:"slider","aria-label":l(q),"aria-valuemin":l(V),"aria-valuemax":x.max,"aria-valuenow":l(L),"aria-valuetext":l(O),"aria-orientation":x.vertical?"vertical":"horizontal","aria-disabled":l(u),"onUpdate:modelValue":l(E)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ue("v-if",!0),x.showStops?($(),j("div",vm,[($(!0),j($e,null,Ke(l(H),(Z,pe)=>($(),j("div",{key:pe,class:w(l(o).e("stop")),style:De(l(P)(Z))},null,6))),128))])):ue("v-if",!0),l(D).length>0?($(),j($e,{key:2},[ee("div",null,[($(!0),j($e,null,Ke(l(D),(Z,pe)=>($(),j("div",{key:pe,style:De(l(P)(Z.position)),class:w([l(o).e("stop"),l(o).e("marks-stop")])},null,6))),128))]),ee("div",{class:w(l(o).e("marks"))},[($(!0),j($e,null,Ke(l(D),(Z,pe)=>($(),de(l(pm),{key:pe,mark:Z.mark,style:De(l(P)(Z.position))},null,8,["mark","style"]))),128))],2)],64)):ue("v-if",!0)],38),x.showInput&&!x.range?($(),de(l(Xs),{key:0,ref:"input","model-value":l(V),class:w(l(o).e("input")),step:x.step,disabled:l(u),controls:x.showInputControls,min:x.min,max:x.max,debounce:x.debounce,size:l(B),"onUpdate:modelValue":l(I),onChange:l(y)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):ue("v-if",!0)],42,hm)}}});var bm=Ve(gm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]]);const ym=Et(bm),km=Se({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Rt,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:re([String,Object]),default:()=>ts},clearIcon:{type:re([String,Object]),default:()=>Bn}}),Bt=e=>{const t=(e||"").split(":");if(t.length>=2){let a=Number.parseInt(t[0],10);const n=Number.parseInt(t[1],10),o=e.toUpperCase();return o.includes("AM")&&a===12?a=0:o.includes("PM")&&a!==12&&(a+=12),{hours:a,minutes:n}}return null},Wa=(e,t)=>{const a=Bt(e);if(!a)return-1;const n=Bt(t);if(!n)return-1;const o=a.minutes+a.hours*60,r=n.minutes+n.hours*60;return o===r?0:o>r?1:-1},zo=e=>`${e}`.padStart(2,"0"),dn=e=>`${zo(e.hours)}:${zo(e.minutes)}`,Cm=(e,t)=>{const a=Bt(e);if(!a)return"";const n=Bt(t);if(!n)return"";const o={hours:a.hours,minutes:a.minutes};return o.minutes+=n.minutes,o.hours+=n.hours,o.hours+=Math.floor(o.minutes/60),o.minutes=o.minutes%60,dn(o)},wm=ce({name:"ElTimeSelect"}),Sm=ce({...wm,props:km,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:t}){const a=e;ke.extend(Yl);const{Option:n}=kn,o=be("input"),r=K(),s=qt(),i=k(()=>a.modelValue),d=k(()=>{const b=Bt(a.start);return b?dn(b):null}),f=k(()=>{const b=Bt(a.end);return b?dn(b):null}),p=k(()=>{const b=Bt(a.step);return b?dn(b):null}),u=k(()=>{const b=Bt(a.minTime||"");return b?dn(b):null}),c=k(()=>{const b=Bt(a.maxTime||"");return b?dn(b):null}),v=k(()=>{const b=[];if(a.start&&a.end&&a.step){let y=d.value,C;for(;y&&f.value&&Wa(y,f.value)<=0;)C=ke(y,"HH:mm").format(a.format),b.push({value:C,disabled:Wa(y,u.value||"-1:-1")<=0||Wa(y,c.value||"100:100")>=0}),y=Cm(y,p.value)}return b});return t({blur:()=>{var b,y;(y=(b=r.value)==null?void 0:b.blur)==null||y.call(b)},focus:()=>{var b,y;(y=(b=r.value)==null?void 0:b.focus)==null||y.call(b)}}),(b,y)=>($(),de(l(kn),{ref_key:"select",ref:r,"model-value":l(i),disabled:l(s),clearable:b.clearable,"clear-icon":b.clearIcon,size:b.size,effect:b.effect,placeholder:b.placeholder,"default-first-option":"",filterable:b.editable,"onUpdate:modelValue":y[0]||(y[0]=C=>b.$emit("update:modelValue",C)),onChange:y[1]||(y[1]=C=>b.$emit("change",C)),onBlur:y[2]||(y[2]=C=>b.$emit("blur",C)),onFocus:y[3]||(y[3]=C=>b.$emit("focus",C))},{prefix:le(()=>[b.prefixIcon?($(),de(l(Te),{key:0,class:w(l(o).e("prefix-icon"))},{default:le(()=>[($(),de(ot(b.prefixIcon)))]),_:1},8,["class"])):ue("v-if",!0)]),default:le(()=>[($(!0),j($e,null,Ke(l(v),C=>($(),de(l(n),{key:C.value,label:C.value,value:C.value,disabled:C.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}});var la=Ve(Sm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);la.install=e=>{e.component(la.name,la)};const Nm=la,$m=Nm,pr="left-check-change",hr="right-check-change",cn=Se({data:{type:re(Array),default:()=>[]},titles:{type:re(Array),default:()=>[]},buttonTexts:{type:re(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:re(Function)},leftDefaultChecked:{type:re(Array),default:()=>[]},rightDefaultChecked:{type:re(Array),default:()=>[]},renderContent:{type:re(Function)},modelValue:{type:re(Array),default:()=>[]},format:{type:re(Object),default:()=>({})},filterable:Boolean,props:{type:re(Object),default:()=>dt({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),Vl=(e,t)=>[e,t].every(Re)||Re(e)&&$t(t),Em={[pt]:(e,t,a)=>[e,a].every(Re)&&["left","right"].includes(t),[Be]:e=>Re(e),[pr]:Vl,[hr]:Vl},Ml="checked-change",Tm=Se({data:cn.data,optionRender:{type:re(Function)},placeholder:String,title:String,filterable:Boolean,format:cn.format,filterMethod:cn.filterMethod,defaultChecked:cn.leftDefaultChecked,props:cn.props}),Vm={[Ml]:Vl},Kn=e=>{const t={label:"label",key:"key",disabled:"disabled"};return k(()=>({...t,...e.props}))},Mm=(e,t,a)=>{const n=Kn(e),o=k(()=>e.data.filter(p=>ft(e.filterMethod)?e.filterMethod(t.query,p):String(p[n.value.label]||p[n.value.key]).toLowerCase().includes(t.query.toLowerCase()))),r=k(()=>o.value.filter(p=>!p[n.value.disabled])),s=k(()=>{const p=t.checked.length,u=e.data.length,{noChecked:c,hasChecked:v}=e.format;return c&&v?p>0?v.replace(/\${checked}/g,p.toString()).replace(/\${total}/g,u.toString()):c.replace(/\${total}/g,u.toString()):`${p}/${u}`}),i=k(()=>{const p=t.checked.length;return p>0&&p<r.value.length}),d=()=>{const p=r.value.map(u=>u[n.value.key]);t.allChecked=p.length>0&&p.every(u=>t.checked.includes(u))},f=p=>{t.checked=p?r.value.map(u=>u[n.value.key]):[]};return ge(()=>t.checked,(p,u)=>{if(d(),t.checkChangeByUser){const c=p.concat(u).filter(v=>!p.includes(v)||!u.includes(v));a(Ml,p,c)}else a(Ml,p),t.checkChangeByUser=!0}),ge(r,()=>{d()}),ge(()=>e.data,()=>{const p=[],u=o.value.map(c=>c[n.value.key]);t.checked.forEach(c=>{u.includes(c)&&p.push(c)}),t.checkChangeByUser=!1,t.checked=p}),ge(()=>e.defaultChecked,(p,u)=>{if(u&&p.length===u.length&&p.every(g=>u.includes(g)))return;const c=[],v=r.value.map(g=>g[n.value.key]);p.forEach(g=>{v.includes(g)&&c.push(g)}),t.checkChangeByUser=!1,t.checked=c},{immediate:!0}),{filteredData:o,checkableData:r,checkedSummary:s,isIndeterminate:i,updateAllChecked:d,handleAllCheckedChange:f}},Om=(e,t)=>({onSourceCheckedChange:(o,r)=>{e.leftChecked=o,r&&t(pr,o,r)},onTargetCheckedChange:(o,r)=>{e.rightChecked=o,r&&t(hr,o,r)}}),Dm=e=>{const t=Kn(e),a=k(()=>e.data.reduce((r,s)=>(r[s[t.value.key]]=s)&&r,{})),n=k(()=>e.data.filter(r=>!e.modelValue.includes(r[t.value.key]))),o=k(()=>e.targetOrder==="original"?e.data.filter(r=>e.modelValue.includes(r[t.value.key])):e.modelValue.reduce((r,s)=>{const i=a.value[s];return i&&r.push(i),r},[]));return{sourceData:n,targetData:o}},Im=(e,t,a)=>{const n=Kn(e),o=(i,d,f)=>{a(Be,i),a(pt,i,d,f)};return{addToLeft:()=>{const i=e.modelValue.slice();t.rightChecked.forEach(d=>{const f=i.indexOf(d);f>-1&&i.splice(f,1)}),o(i,"left",t.rightChecked)},addToRight:()=>{let i=e.modelValue.slice();const d=e.data.filter(f=>{const p=f[n.value.key];return t.leftChecked.includes(p)&&!e.modelValue.includes(p)}).map(f=>f[n.value.key]);i=e.targetOrder==="unshift"?d.concat(i):i.concat(d),e.targetOrder==="original"&&(i=e.data.filter(f=>i.includes(f[n.value.key])).map(f=>f[n.value.key])),o(i,"right",t.leftChecked)}}},Pm=ce({name:"ElTransferPanel"}),Am=ce({...Pm,props:Tm,emits:Vm,setup(e,{expose:t,emit:a}){const n=e,o=ln(),r=({option:m})=>m,{t:s}=et(),i=be("transfer"),d=nt({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),f=Kn(n),{filteredData:p,checkedSummary:u,isIndeterminate:c,handleAllCheckedChange:v}=Mm(n,d,a),g=k(()=>!Tt(d.query)&&Tt(p.value)),h=k(()=>!Tt(o.default()[0].children)),{checked:b,allChecked:y,query:C}=Mt(d);return t({query:C}),(m,N)=>($(),j("div",{class:w(l(i).b("panel"))},[ee("p",{class:w(l(i).be("panel","header"))},[G(l(nn),{modelValue:l(y),"onUpdate:modelValue":N[0]||(N[0]=I=>hn(y)?y.value=I:null),indeterminate:l(c),"validate-event":!1,onChange:l(v)},{default:le(()=>[ct(me(m.title)+" ",1),ee("span",null,me(l(u)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),ee("div",{class:w([l(i).be("panel","body"),l(i).is("with-footer",l(h))])},[m.filterable?($(),de(l(St),{key:0,modelValue:l(C),"onUpdate:modelValue":N[1]||(N[1]=I=>hn(C)?C.value=I:null),class:w(l(i).be("panel","filter")),size:"default",placeholder:m.placeholder,"prefix-icon":l(ei),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):ue("v-if",!0),_e(G(l(Qa),{modelValue:l(b),"onUpdate:modelValue":N[2]||(N[2]=I=>hn(b)?b.value=I:null),"validate-event":!1,class:w([l(i).is("filterable",m.filterable),l(i).be("panel","list")])},{default:le(()=>[($(!0),j($e,null,Ke(l(p),I=>($(),de(l(nn),{key:I[l(f).key],class:w(l(i).be("panel","item")),label:I[l(f).key],disabled:I[l(f).disabled],"validate-event":!1},{default:le(()=>{var E;return[G(r,{option:(E=m.optionRender)==null?void 0:E.call(m,I)},null,8,["option"])]}),_:2},1032,["class","label","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[lt,!l(g)&&!l(Tt)(m.data)]]),_e(ee("p",{class:w(l(i).be("panel","empty"))},me(l(g)?l(s)("el.transfer.noMatch"):l(s)("el.transfer.noData")),3),[[lt,l(g)||l(Tt)(m.data)]])],2),l(h)?($(),j("p",{key:0,class:w(l(i).be("panel","footer"))},[Ie(m.$slots,"default")],2)):ue("v-if",!0)],2))}});var jo=Ve(Am,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Fm={key:0},Rm={key:0},Lm=ce({name:"ElTransfer"}),Bm=ce({...Lm,props:cn,emits:Em,setup(e,{expose:t,emit:a}){const n=e,o=ln(),{t:r}=et(),s=be("transfer"),{formItem:i}=Yt(),d=nt({leftChecked:[],rightChecked:[]}),f=Kn(n),{sourceData:p,targetData:u}=Dm(n),{onSourceCheckedChange:c,onTargetCheckedChange:v}=Om(d,a),{addToLeft:g,addToRight:h}=Im(n,d,a),b=K(),y=K(),C=P=>{switch(P){case"left":b.value.query="";break;case"right":y.value.query="";break}},m=k(()=>n.buttonTexts.length===2),N=k(()=>n.titles[0]||r("el.transfer.titles.0")),I=k(()=>n.titles[1]||r("el.transfer.titles.1")),E=k(()=>n.filterPlaceholder||r("el.transfer.filterPlaceholder"));ge(()=>n.modelValue,()=>{var P;n.validateEvent&&((P=i==null?void 0:i.validate)==null||P.call(i,"change").catch(R=>yt()))});const H=k(()=>P=>n.renderContent?n.renderContent(vt,P):o.default?o.default({option:P}):vt("span",P[f.value.label]||P[f.value.key]));return t({clearQuery:C,leftPanel:b,rightPanel:y}),(P,R)=>($(),j("div",{class:w(l(s).b())},[G(jo,{ref_key:"leftPanel",ref:b,data:l(p),"option-render":l(H),placeholder:l(E),title:l(N),filterable:P.filterable,format:P.format,"filter-method":P.filterMethod,"default-checked":P.leftDefaultChecked,props:n.props,onCheckedChange:l(c)},{default:le(()=>[Ie(P.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),ee("div",{class:w(l(s).e("buttons"))},[G(l(Ht),{type:"primary",class:w([l(s).e("button"),l(s).is("with-texts",l(m))]),disabled:l(Tt)(d.rightChecked),onClick:l(g)},{default:le(()=>[G(l(Te),null,{default:le(()=>[G(l(ca))]),_:1}),l(_t)(P.buttonTexts[0])?ue("v-if",!0):($(),j("span",Fm,me(P.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),G(l(Ht),{type:"primary",class:w([l(s).e("button"),l(s).is("with-texts",l(m))]),disabled:l(Tt)(d.leftChecked),onClick:l(h)},{default:le(()=>[l(_t)(P.buttonTexts[1])?ue("v-if",!0):($(),j("span",Rm,me(P.buttonTexts[1]),1)),G(l(Te),null,{default:le(()=>[G(l(vn))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),G(jo,{ref_key:"rightPanel",ref:y,data:l(u),"option-render":l(H),placeholder:l(E),filterable:P.filterable,format:P.format,"filter-method":P.filterMethod,title:l(I),"default-checked":P.rightDefaultChecked,props:n.props,onCheckedChange:l(v)},{default:le(()=>[Ie(P.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var _m=Ve(Bm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]]);const Km=Et(_m),gn="$treeNodeId",Ho=function(e,t){!t||t[gn]||Object.defineProperty(t,gn,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},eo=function(e,t){return e?t[e]:t[gn]},Ol=(e,t,a)=>{const n=e.value.currentNode;a();const o=e.value.currentNode;n!==o&&t("current-change",o?o.data:null,o)},Dl=e=>{let t=!0,a=!0,n=!0;for(let o=0,r=e.length;o<r;o++){const s=e[o];(s.checked!==!0||s.indeterminate)&&(t=!1,s.disabled||(n=!1)),(s.checked!==!1||s.indeterminate)&&(a=!1)}return{all:t,none:a,allWithoutDisable:n,half:!t&&!a}},oa=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:a,half:n}=Dl(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):a&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||oa(o)},Yn=function(e,t){const a=e.store.props,n=e.data||{},o=a[t];if(typeof o=="function")return o(n,e);if(typeof o=="string")return n[o];if(typeof o>"u"){const r=n[t];return r===void 0?"":r}};let xm=0;class Jt{constructor(t){this.id=xm++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const a in t)yn(t,a)&&(this[a]=t[a]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const a=t.props;if(a&&typeof a.isLeaf<"u"){const r=Yn(this,"isLeaf");typeof r=="boolean"&&(this.isLeafByUser=r)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Ho(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,o=t.key;o&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||Ho(this,t),this.data=t,this.childNodes=[];let a;this.level===0&&Array.isArray(this.data)?a=this.data:a=Yn(this,"children")||[];for(let n=0,o=a.length;n<o;n++)this.insertChild({data:a[n]})}get label(){return Yn(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return Yn(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return t.childNodes[a+1]}return null}get previousSibling(){const t=this.parent;if(t){const a=t.childNodes.indexOf(this);if(a>-1)return a>0?t.childNodes[a-1]:null}return null}contains(t,a=!0){return(this.childNodes||[]).some(n=>n===t||a&&n.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,a,n){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof Jt)){if(!n){const o=this.getChildren(!0);o.includes(t.data)||(typeof a>"u"||a<0?o.push(t.data):o.splice(a,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=nt(new Jt(t)),t instanceof Jt&&t.initialize()}t.level=this.level+1,typeof a>"u"||a<0?this.childNodes.push(t):this.childNodes.splice(a,0,t),this.updateLeafState()}insertBefore(t,a){let n;a&&(n=this.childNodes.indexOf(a)),this.insertChild(t,n)}insertAfter(t,a){let n;a&&(n=this.childNodes.indexOf(a),n!==-1&&(n+=1)),this.insertChild(t,n)}removeChild(t){const a=this.getChildren()||[],n=a.indexOf(t.data);n>-1&&a.splice(n,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let a=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){a=this.childNodes[n];break}a&&this.removeChild(a)}expand(t,a){const n=()=>{if(a){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||oa(this),n())}):n()}doCreateChildren(t,a={}){t.forEach(n=>{this.insertChild(Object.assign({data:n},a),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,a,n,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:i}=Dl(this.childNodes);!this.isLeaf&&!s&&i&&(this.checked=!1,t=!1);const d=()=>{if(a){const f=this.childNodes;for(let c=0,v=f.length;c<v;c++){const g=f[c];o=o||t!==!1;const h=g.disabled?g.checked:o;g.setChecked(h,a,!0,o)}const{half:p,all:u}=Dl(f);u||(this.checked=u,this.indeterminate=p)}};if(this.shouldLoadData()){this.loadData(()=>{d(),oa(this)},{checked:t!==!1});return}else d()}const r=this.parent;!r||r.level===0||n||oa(r)}getChildren(t=!1){if(this.level===0)return this.data;const a=this.data;if(!a)return null;const n=this.store.props;let o="children";return n&&(o=n.children||"children"),a[o]===void 0&&(a[o]=null),t&&!a[o]&&(a[o]=[]),a[o]}updateChildren(){const t=this.getChildren()||[],a=this.childNodes.map(r=>r.data),n={},o=[];t.forEach((r,s)=>{const i=r[gn];!!i&&a.findIndex(f=>f[gn]===i)>=0?n[i]={index:s,data:r}:o.push({index:s,data:r})}),this.store.lazy||a.forEach(r=>{n[r[gn]]||this.removeChildByData(r)}),o.forEach(({index:r,data:s})=>{this.insertChild({data:s},r)}),this.updateLeafState()}loadData(t,a={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(a).length)){this.loading=!0;const n=o=>{this.childNodes=[],this.doCreateChildren(o,a),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)};this.store.load(this,n)}else t&&t.call(this)}}class zm{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const a in t)yn(t,a)&&(this[a]=t[a]);this.nodesMap={}}initialize(){if(this.root=new Jt({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,a=>{this.root.doCreateChildren(a),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const a=this.filterNodeMethod,n=this.lazy,o=function(r){const s=r.root?r.root.childNodes:r.childNodes;if(s.forEach(i=>{i.visible=a.call(i,t,i.data,i),o(i)}),!r.visible&&s.length){let i=!0;i=!s.some(d=>d.visible),r.root?r.root.visible=i===!1:r.visible=i===!1}t&&r.visible&&!r.isLeaf&&!n&&r.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof Jt)return t;const a=Vt(t)?eo(this.key,t):t;return this.nodesMap[a]||null}insertBefore(t,a){const n=this.getNode(a);n.parent.insertBefore({data:t},n)}insertAfter(t,a){const n=this.getNode(a);n.parent.insertAfter({data:t},n)}remove(t){const a=this.getNode(t);a&&a.parent&&(a===this.currentNode&&(this.currentNode=null),a.parent.removeChild(a))}append(t,a){const n=a?this.getNode(a):this.root;n&&n.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],a=this.nodesMap;t.forEach(n=>{const o=a[n];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const a=this.key;!t||!t.data||(a?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(n=>{this.deregisterNode(n)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,a=!1){const n=[],o=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(i=>{(i.checked||a&&i.indeterminate)&&(!t||t&&i.isLeaf)&&n.push(i.data),o(i)})};return o(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(a=>(a||{})[this.key])}getHalfCheckedNodes(){const t=[],a=function(n){(n.root?n.root.childNodes:n.childNodes).forEach(r=>{r.indeterminate&&t.push(r.data),a(r)})};return a(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],a=this.nodesMap;for(const n in a)yn(a,n)&&t.push(a[n]);return t}updateChildren(t,a){const n=this.nodesMap[t];if(!n)return;const o=n.childNodes;for(let r=o.length-1;r>=0;r--){const s=o[r];this.remove(s.data)}for(let r=0,s=a.length;r<s;r++){const i=a[r];this.append(i,n.data)}}_setCheckedKeys(t,a=!1,n){const o=this._getAllNodes().sort((i,d)=>d.level-i.level),r=Object.create(null),s=Object.keys(n);o.forEach(i=>i.setChecked(!1,!1));for(let i=0,d=o.length;i<d;i++){const f=o[i],p=f.data[t].toString();if(!s.includes(p)){f.checked&&!r[p]&&f.setChecked(!1,!1);continue}let c=f.parent;for(;c&&c.level>0;)r[c.data[t]]=!0,c=c.parent;if(f.isLeaf||this.checkStrictly){f.setChecked(!0,!1);continue}if(f.setChecked(!0,!0),a){f.setChecked(!1,!1);const v=function(g){g.childNodes.forEach(b=>{b.isLeaf||b.setChecked(!1,!1),v(b)})};v(f)}}}setCheckedNodes(t,a=!1){const n=this.key,o={};t.forEach(r=>{o[(r||{})[n]]=!0}),this._setCheckedKeys(n,a,o)}setCheckedKeys(t,a=!1){this.defaultCheckedKeys=t;const n=this.key,o={};t.forEach(r=>{o[r]=!0}),this._setCheckedKeys(n,a,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(a=>{const n=this.getNode(a);n&&n.expand(null,this.autoExpandParent)})}setChecked(t,a,n){const o=this.getNode(t);o&&o.setChecked(!!a,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const a=this.currentNode;a&&(a.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,a=!0){const n=t[this.key],o=this.nodesMap[n];this.setCurrentNode(o),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,a=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const n=this.getNode(t);n&&(this.setCurrentNode(n),a&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const jm=ce({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=be("tree"),a=xe("NodeInstance"),n=xe("RootTree");return()=>{const o=e.node,{data:r,store:s}=o;return e.renderContent?e.renderContent(vt,{_self:a,node:o,data:r,store:s}):n.ctx.slots.default?n.ctx.slots.default({node:o,data:r}):vt("span",{class:t.be("node","label")},[o.label])}}});var Hm=Ve(jm,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function vr(e){const t=xe("TreeNodeMap",null),a={treeNodeExpand:n=>{e.node!==n&&e.node.collapse()},children:[]};return t&&t.children.push(a),at("TreeNodeMap",a),{broadcastExpanded:n=>{if(e.accordion)for(const o of a.children)o.treeNodeExpand(n)}}}const mr=Symbol("dragEvents");function qm({props:e,ctx:t,el$:a,dropIndicator$:n,store:o}){const r=be("tree"),s=K({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return at(mr,{treeNodeDragStart:({event:p,treeNode:u})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(u.node))return p.preventDefault(),!1;p.dataTransfer.effectAllowed="move";try{p.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=u,t.emit("node-drag-start",u.node,p)},treeNodeDragOver:({event:p,treeNode:u})=>{const c=u,v=s.value.dropNode;v&&v!==c&&Ra(v.$el,r.is("drop-inner"));const g=s.value.draggingNode;if(!g||!c)return;let h=!0,b=!0,y=!0,C=!0;typeof e.allowDrop=="function"&&(h=e.allowDrop(g.node,c.node,"prev"),C=b=e.allowDrop(g.node,c.node,"inner"),y=e.allowDrop(g.node,c.node,"next")),p.dataTransfer.dropEffect=b||h||y?"move":"none",(h||b||y)&&v!==c&&(v&&t.emit("node-drag-leave",g.node,v.node,p),t.emit("node-drag-enter",g.node,c.node,p)),(h||b||y)&&(s.value.dropNode=c),c.node.nextSibling===g.node&&(y=!1),c.node.previousSibling===g.node&&(h=!1),c.node.contains(g.node,!1)&&(b=!1),(g.node===c.node||g.node.contains(c.node))&&(h=!1,b=!1,y=!1);const m=c.$el.getBoundingClientRect(),N=a.value.getBoundingClientRect();let I;const E=h?b?.25:y?.45:1:-1,H=y?b?.75:h?.55:0:1;let P=-9999;const R=p.clientY-m.top;R<m.height*E?I="before":R>m.height*H?I="after":b?I="inner":I="none";const W=c.$el.querySelector(`.${r.be("node","expand-icon")}`).getBoundingClientRect(),Y=n.value;I==="before"?P=W.top-N.top:I==="after"&&(P=W.bottom-N.top),Y.style.top=`${P}px`,Y.style.left=`${W.right-N.left}px`,I==="inner"?ti(c.$el,r.is("drop-inner")):Ra(c.$el,r.is("drop-inner")),s.value.showDropIndicator=I==="before"||I==="after",s.value.allowDrop=s.value.showDropIndicator||C,s.value.dropType=I,t.emit("node-drag-over",g.node,c.node,p)},treeNodeDragEnd:p=>{const{draggingNode:u,dropType:c,dropNode:v}=s.value;if(p.preventDefault(),p.dataTransfer.dropEffect="move",u&&v){const g={data:u.node.data};c!=="none"&&u.node.remove(),c==="before"?v.node.parent.insertBefore(g,v.node):c==="after"?v.node.parent.insertAfter(g,v.node):c==="inner"&&v.node.insertChild(g),c!=="none"&&o.value.registerNode(g),Ra(v.$el,r.is("drop-inner")),t.emit("node-drag-end",u.node,v.node,c,p),c!=="none"&&t.emit("node-drop",u.node,v.node,c,p)}u&&!v&&t.emit("node-drag-end",u.node,null,c,p),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const Um=ce({name:"ElTreeNode",components:{ElCollapseTransition:ni,ElCheckbox:nn,NodeContent:Hm,ElIcon:Te,Loading:Ta},props:{node:{type:Jt,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const a=be("tree"),{broadcastExpanded:n}=vr(e),o=xe("RootTree"),r=K(!1),s=K(!1),i=K(null),d=K(null),f=K(null),p=xe(mr),u=kt();at("NodeInstance",u),e.node.expanded&&(r.value=!0,s.value=!0);const c=o.props.children||"children";ge(()=>{const R=e.node.data[c];return R&&[...R]},()=>{e.node.updateChildren()}),ge(()=>e.node.indeterminate,R=>{h(e.node.checked,R)}),ge(()=>e.node.checked,R=>{h(R,e.node.indeterminate)}),ge(()=>e.node.expanded,R=>{Ee(()=>r.value=R),R&&(s.value=!0)});const v=R=>eo(o.props.nodeKey,R.data),g=R=>{const W=e.props.class;if(!W)return{};let Y;if(ft(W)){const{data:B}=R;Y=W(B,R)}else Y=W;return tt(Y)?{[Y]:!0}:Y},h=(R,W)=>{(i.value!==R||d.value!==W)&&o.ctx.emit("check-change",e.node.data,R,W),i.value=R,d.value=W},b=R=>{Ol(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&C(),o.props.checkOnClickNode&&!e.node.disabled&&m(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,u,R)},y=R=>{o.instance.vnode.props.onNodeContextmenu&&(R.stopPropagation(),R.preventDefault()),o.ctx.emit("node-contextmenu",R,e.node.data,e.node,u)},C=()=>{e.node.isLeaf||(r.value?(o.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,u)))},m=(R,W)=>{e.node.setChecked(W.target.checked,!o.props.checkStrictly),Ee(()=>{const Y=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:Y.getCheckedNodes(),checkedKeys:Y.getCheckedKeys(),halfCheckedNodes:Y.getHalfCheckedNodes(),halfCheckedKeys:Y.getHalfCheckedKeys()})})};return{ns:a,node$:f,tree:o,expanded:r,childNodeRendered:s,oldChecked:i,oldIndeterminate:d,getNodeKey:v,getNodeClass:g,handleSelectChange:h,handleClick:b,handleContextMenu:y,handleExpandIconClick:C,handleCheckChange:m,handleChildNodeExpand:(R,W,Y)=>{n(W),o.ctx.emit("node-expand",R,W,Y)},handleDragStart:R=>{o.props.draggable&&p.treeNodeDragStart({event:R,treeNode:e})},handleDragOver:R=>{R.preventDefault(),o.props.draggable&&p.treeNodeDragOver({event:R,treeNode:{$el:f.value,node:e.node}})},handleDrop:R=>{R.preventDefault()},handleDragEnd:R=>{o.props.draggable&&p.treeNodeDragEnd(R)},CaretRight:rs}}}),Wm=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Ym=["aria-expanded"];function Gm(e,t,a,n,o,r){const s=Je("el-icon"),i=Je("el-checkbox"),d=Je("loading"),f=Je("node-content"),p=Je("el-tree-node"),u=Je("el-collapse-transition");return _e(($(),j("div",{ref:"node$",class:w([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=we((...c)=>e.handleClick&&e.handleClick(...c),["stop"])),onContextmenu:t[2]||(t[2]=(...c)=>e.handleContextMenu&&e.handleContextMenu(...c)),onDragstart:t[3]||(t[3]=we((...c)=>e.handleDragStart&&e.handleDragStart(...c),["stop"])),onDragover:t[4]||(t[4]=we((...c)=>e.handleDragOver&&e.handleDragOver(...c),["stop"])),onDragend:t[5]||(t[5]=we((...c)=>e.handleDragEnd&&e.handleDragEnd(...c),["stop"])),onDrop:t[6]||(t[6]=we((...c)=>e.handleDrop&&e.handleDrop(...c),["stop"]))},[ee("div",{class:w(e.ns.be("node","content")),style:De({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?($(),de(s,{key:0,class:w([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:we(e.handleExpandIconClick,["stop"])},{default:le(()=>[($(),de(ot(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):ue("v-if",!0),e.showCheckbox?($(),de(i,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=we(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):ue("v-if",!0),e.node.loading?($(),de(s,{key:2,class:w([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:le(()=>[G(d)]),_:1},8,["class"])):ue("v-if",!0),G(f,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),G(u,null,{default:le(()=>[!e.renderAfterExpand||e.childNodeRendered?_e(($(),j("div",{key:0,class:w(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[($(!0),j($e,null,Ke(e.node.childNodes,c=>($(),de(p,{key:e.getNodeKey(c),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:c,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Ym)),[[lt,e.expanded]]):ue("v-if",!0)]),_:1})],42,Wm)),[[lt,e.node.visible]])}var Xm=Ve(Um,[["render",Gm],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function Zm({el$:e},t){const a=be("tree"),n=jt([]),o=jt([]);ut(()=>{s()}),Na(()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),ge(o,i=>{i.forEach(d=>{d.setAttribute("tabindex","-1")})}),ss(e,"keydown",i=>{const d=i.target;if(!d.className.includes(a.b("node")))return;const f=i.code;n.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`));const p=n.value.indexOf(d);let u;if([Me.up,Me.down].includes(f)){if(i.preventDefault(),f===Me.up){u=p===-1?0:p!==0?p-1:n.value.length-1;const v=u;for(;!t.value.getNode(n.value[u].dataset.key).canFocus;){if(u--,u===v){u=-1;break}u<0&&(u=n.value.length-1)}}else{u=p===-1?0:p<n.value.length-1?p+1:0;const v=u;for(;!t.value.getNode(n.value[u].dataset.key).canFocus;){if(u++,u===v){u=-1;break}u>=n.value.length&&(u=0)}}u!==-1&&n.value[u].focus()}[Me.left,Me.right].includes(f)&&(i.preventDefault(),d.click());const c=d.querySelector('[type="checkbox"]');[Me.enter,Me.space].includes(f)&&c&&(i.preventDefault(),c.click())});const s=()=>{var i;n.value=Array.from(e.value.querySelectorAll(`.${a.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const d=e.value.querySelectorAll(`.${a.is("checked")}[role=treeitem]`);if(d.length){d[0].setAttribute("tabindex","0");return}(i=n.value[0])==null||i.setAttribute("tabindex","0")}}const Jm=ce({name:"ElTree",components:{ElTreeNode:Xm},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:fa}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:a}=et(),n=be("tree"),o=K(new zm({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const r=K(o.value.root),s=K(null),i=K(null),d=K(null),{broadcastExpanded:f}=vr(e),{dragState:p}=qm({props:e,ctx:t,el$:i,dropIndicator$:d,store:o});Zm({el$:i},o);const u=k(()=>{const{childNodes:O}=r.value;return!O||O.length===0||O.every(({visible:M})=>!M)});ge(()=>e.currentNodeKey,O=>{o.value.setCurrentNodeKey(O)}),ge(()=>e.defaultCheckedKeys,O=>{o.value.setDefaultCheckedKey(O)}),ge(()=>e.defaultExpandedKeys,O=>{o.value.setDefaultExpandedKeys(O)}),ge(()=>e.data,O=>{o.value.setData(O)},{deep:!0}),ge(()=>e.checkStrictly,O=>{o.value.checkStrictly=O});const c=O=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(O)},v=O=>eo(e.nodeKey,O.data),g=O=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const M=o.value.getNode(O);if(!M)return[];const D=[M.data];let U=M.parent;for(;U&&U!==r.value;)D.push(U.data),U=U.parent;return D.reverse()},h=(O,M)=>o.value.getCheckedNodes(O,M),b=O=>o.value.getCheckedKeys(O),y=()=>{const O=o.value.getCurrentNode();return O?O.data:null},C=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const O=y();return O?O[e.nodeKey]:null},m=(O,M)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(O,M)},N=(O,M)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(O,M)},I=(O,M,D)=>{o.value.setChecked(O,M,D)},E=()=>o.value.getHalfCheckedNodes(),H=()=>o.value.getHalfCheckedKeys(),P=(O,M=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Ol(o,t.emit,()=>o.value.setUserCurrentNode(O,M))},R=(O,M=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Ol(o,t.emit,()=>o.value.setCurrentNodeKey(O,M))},W=O=>o.value.getNode(O),Y=O=>{o.value.remove(O)},B=(O,M)=>{o.value.append(O,M)},T=(O,M)=>{o.value.insertBefore(O,M)},z=(O,M)=>{o.value.insertAfter(O,M)},oe=(O,M,D)=>{f(M),t.emit("node-expand",O,M,D)},q=(O,M)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(O,M)};return at("RootTree",{ctx:t,props:e,store:o,root:r,currentNode:s,instance:kt()}),at(bn,void 0),{ns:n,store:o,root:r,currentNode:s,dragState:p,el$:i,dropIndicator$:d,isEmpty:u,filter:c,getNodeKey:v,getNodePath:g,getCheckedNodes:h,getCheckedKeys:b,getCurrentNode:y,getCurrentKey:C,setCheckedNodes:m,setCheckedKeys:N,setChecked:I,getHalfCheckedNodes:E,getHalfCheckedKeys:H,setCurrentNode:P,setCurrentKey:R,t:a,getNode:W,remove:Y,append:B,insertBefore:T,insertAfter:z,handleNodeExpand:oe,updateKeyChildren:q}}});function Qm(e,t,a,n,o,r){var s;const i=Je("el-tree-node");return $(),j("div",{ref:"el$",class:w([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[($(!0),j($e,null,Ke(e.root.childNodes,d=>($(),de(i,{key:e.getNodeKey(d),node:d,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?($(),j("div",{key:0,class:w(e.ns.e("empty-block"))},[ee("span",{class:w(e.ns.e("empty-text"))},me((s=e.emptyText)!=null?s:e.t("el.tree.emptyText")),3)],2)):ue("v-if",!0),_e(ee("div",{ref:"dropIndicator$",class:w(e.ns.e("drop-indicator"))},null,2),[[lt,e.dragState.showDropIndicator]])],2)}var sa=Ve(Jm,[["render",Qm],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);sa.install=e=>{e.component(sa.name,sa)};const Ca=sa,eg=Ca,tg=(e,{attrs:t},{tree:a,key:n})=>{const o=be("tree-select"),r={...va(Mt(e),Object.keys(kn.props)),...t,valueKey:n,popperClass:k(()=>{const s=[o.e("popper")];return e.popperClass&&s.push(e.popperClass),s.join(" ")}),filterMethod:(s="")=>{e.filterMethod&&e.filterMethod(s),Ee(()=>{var i;(i=a.value)==null||i.filter(s)})},onVisibleChange:s=>{var i;(i=t.onVisibleChange)==null||i.call(t,s),e.filterable&&s&&r.filterMethod()}};return r},ng=ce({extends:ma,setup(e,t){const a=ma.setup(e,t);delete a.selectOptionClick;const n=kt().proxy;return Ee(()=>{a.select.cachedOptions.get(n.value)||a.select.onOptionCreate(n)}),a},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Il(e){return e||e===0}function to(e){return Array.isArray(e)&&e.length}function Ya(e){return Array.isArray(e)?e:Il(e)?[e]:[]}function ra(e,t,a,n,o){for(let r=0;r<e.length;r++){const s=e[r];if(t(s,r,e,o))return n?n(s,r,e,o):s;{const i=a(s);if(to(i)){const d=ra(i,t,a,n,s);if(d)return d}}}}function gr(e,t,a,n){for(let o=0;o<e.length;o++){const r=e[o];t(r,o,e,n);const s=a(r);to(s)&&gr(s,t,a,r)}}const ag=(e,{attrs:t,slots:a,emit:n},{select:o,tree:r,key:s})=>{ge(()=>e.modelValue,()=>{e.showCheckbox&&Ee(()=>{const u=r.value;u&&!Kt(u.getCheckedKeys(),Ya(e.modelValue))&&u.setCheckedKeys(Ya(e.modelValue))})},{immediate:!0,deep:!0});const i=k(()=>({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),d=(u,c)=>{var v;const g=i.value[u];return ft(g)?g(c,(v=r.value)==null?void 0:v.getNode(d("value",c))):c[g]},f=Ya(e.modelValue).map(u=>ra(e.data||[],c=>d("value",c)===u,c=>d("children",c),(c,v,g,h)=>h&&d("value",h))).filter(u=>Il(u)),p=k(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const u=[];return gr(e.data.concat(e.cacheData),c=>{const v=d("value",c);u.push({value:v,currentLabel:d("label",c),isDisabled:d("disabled",c)})},c=>d("children",c)),u});return{...va(Mt(e),Object.keys(Ca.props)),...t,nodeKey:s,expandOnClickNode:k(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:k(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(f):f),renderContent:(u,{node:c,data:v,store:g})=>u(ng,{value:d("value",v),label:d("label",v),disabled:d("disabled",v)},e.renderContent?()=>e.renderContent(u,{node:c,data:v,store:g}):a.default?()=>a.default({node:c,data:v,store:g}):void 0),filterNodeMethod:(u,c,v)=>{var g;return e.filterNodeMethod?e.filterNodeMethod(u,c,v):u?(g=d("label",c))==null?void 0:g.includes(u):!0},onNodeClick:(u,c,v)=>{var g,h,b;if((g=t.onNodeClick)==null||g.call(t,u,c,v),!(e.showCheckbox&&e.checkOnClickNode))if(!e.showCheckbox&&(e.checkStrictly||c.isLeaf)){if(!d("disabled",u)){const y=(h=o.value)==null?void 0:h.options.get(d("value",u));(b=o.value)==null||b.handleOptionSelect(y,!0)}}else e.expandOnClickNode&&v.proxy.handleExpandIconClick()},onCheck:(u,c)=>{var v;(v=t.onCheck)==null||v.call(t,u,c);const g=d("value",u);if(e.checkStrictly)n(Be,e.multiple?c.checkedKeys:c.checkedKeys.includes(g)?g:void 0);else if(e.multiple)n(Be,r.value.getCheckedKeys(!0));else{const h=ra([u],C=>!to(d("children",C))&&!d("disabled",C),C=>d("children",C)),b=h?d("value",h):void 0,y=Il(e.modelValue)&&!!ra([u],C=>d("value",C)===e.modelValue,C=>d("children",C));n(Be,b===e.modelValue||y?void 0:b)}},cacheOptions:p}};var lg=ce({props:{data:{type:Array,default:()=>[]}},setup(e){const t=xe(Oi);return ge(()=>e.data,()=>{var a;e.data.forEach(o=>{t.cachedOptions.has(o.value)||t.cachedOptions.set(o.value,o)});const n=((a=t.selectWrapper)==null?void 0:a.querySelectorAll("input"))||[];Array.from(n).includes(document.activeElement)||t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const og=ce({name:"ElTreeSelect",inheritAttrs:!1,props:{...kn.props,...Ca.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:a,expose:n}=t,o=K(),r=K(),s=k(()=>e.nodeKey||e.valueKey||"value"),i=tg(e,t,{select:o,tree:r,key:s}),{cacheOptions:d,...f}=ag(e,t,{select:o,tree:r,key:s}),p=nt({});return n(p),ut(()=>{Object.assign(p,{...va(r.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...va(o.value,["focus","blur"])})}),()=>vt(kn,nt({...i,ref:u=>o.value=u}),{...a,default:()=>[vt(lg,{data:d.value}),vt(Ca,nt({...f,ref:u=>r.value=u}))]})}});var ia=Ve(og,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);ia.install=e=>{e.component(ia.name,ia)};const sg=ia,rg=sg,no=Symbol(),ig={key:-1,level:-1,data:{}};var Tn=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e))(Tn||{}),Pl=(e=>(e.ADD="add",e.DELETE="delete",e))(Pl||{});const br={type:Number,default:26},ug=Se({data:{type:re(Array),default:()=>dt([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:re(Object),default:()=>dt({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:re(Array),default:()=>dt([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:re(Array),default:()=>dt([])},indent:{type:Number,default:16},itemSize:br,icon:{type:fa},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:re([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:re(Function)},perfMode:{type:Boolean,default:!0}}),dg=Se({node:{type:re(Object),default:()=>dt(ig)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:br}),cg=Se({node:{type:re(Object),required:!0}}),yr="node-click",kr="node-expand",Cr="node-collapse",wr="current-change",Sr="check",Nr="check-change",$r="node-contextmenu",fg={[yr]:(e,t,a)=>e&&t&&a,[kr]:(e,t)=>e&&t,[Cr]:(e,t)=>e&&t,[wr]:(e,t)=>e&&t,[Sr]:(e,t)=>e&&t,[Nr]:(e,t)=>e&&typeof t=="boolean",[$r]:(e,t,a)=>e&&t&&a},pg={click:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&typeof t=="boolean"};function hg(e,t){const a=K(new Set),n=K(new Set),{emit:o}=kt();ge([()=>t.value,()=>e.defaultCheckedKeys],()=>Ee(()=>{C(e.defaultCheckedKeys)}),{immediate:!0});const r=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:m,maxLevel:N}=t.value,I=a.value,E=new Set;for(let H=N-1;H>=1;--H){const P=m.get(H);P&&P.forEach(R=>{const W=R.children;if(W){let Y=!0,B=!1;for(const T of W){const z=T.key;if(I.has(z))B=!0;else if(E.has(z)){Y=!1,B=!0;break}else Y=!1}Y?I.add(R.key):B?(E.add(R.key),I.delete(R.key)):(I.delete(R.key),E.delete(R.key))}})}n.value=E},s=m=>a.value.has(m.key),i=m=>n.value.has(m.key),d=(m,N,I=!0)=>{const E=a.value,H=(P,R)=>{E[R?Pl.ADD:Pl.DELETE](P.key);const W=P.children;!e.checkStrictly&&W&&W.forEach(Y=>{Y.disabled||H(Y,R)})};H(m,N),r(),I&&f(m,N)},f=(m,N)=>{const{checkedNodes:I,checkedKeys:E}=g(),{halfCheckedNodes:H,halfCheckedKeys:P}=h();o(Sr,m.data,{checkedKeys:E,checkedNodes:I,halfCheckedKeys:P,halfCheckedNodes:H}),o(Nr,m.data,N)};function p(m=!1){return g(m).checkedKeys}function u(m=!1){return g(m).checkedNodes}function c(){return h().halfCheckedKeys}function v(){return h().halfCheckedNodes}function g(m=!1){const N=[],I=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:E}=t.value;a.value.forEach(H=>{const P=E.get(H);P&&(!m||m&&P.isLeaf)&&(I.push(H),N.push(P.data))})}return{checkedKeys:I,checkedNodes:N}}function h(){const m=[],N=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:I}=t.value;n.value.forEach(E=>{const H=I.get(E);H&&(N.push(E),m.push(H.data))})}return{halfCheckedNodes:m,halfCheckedKeys:N}}function b(m){a.value.clear(),n.value.clear(),C(m)}function y(m,N){if(t!=null&&t.value&&e.showCheckbox){const I=t.value.treeNodeMap.get(m);I&&d(I,N,!1)}}function C(m){if(t!=null&&t.value){const{treeNodeMap:N}=t.value;if(e.showCheckbox&&N&&m)for(const I of m){const E=N.get(I);E&&!s(E)&&d(E,!0,!1)}}}return{updateCheckedKeys:r,toggleCheckbox:d,isChecked:s,isIndeterminate:i,getCheckedKeys:p,getCheckedNodes:u,getHalfCheckedKeys:c,getHalfCheckedNodes:v,setChecked:y,setCheckedKeys:b}}function vg(e,t){const a=K(new Set([])),n=K(new Set([])),o=k(()=>ft(e.filterMethod));function r(i){var d;if(!o.value)return;const f=new Set,p=n.value,u=a.value,c=[],v=((d=t.value)==null?void 0:d.treeNodes)||[],g=e.filterMethod;u.clear();function h(b){b.forEach(y=>{c.push(y),g!=null&&g(i,y.data)?c.forEach(m=>{f.add(m.key)}):y.isLeaf&&u.add(y.key);const C=y.children;if(C&&h(C),!y.isLeaf){if(!f.has(y.key))u.add(y.key);else if(C){let m=!0;for(const N of C)if(!u.has(N.key)){m=!1;break}m?p.add(y.key):p.delete(y.key)}}c.pop()})}return h(v),f}function s(i){return n.value.has(i.key)}return{hiddenExpandIconKeySet:n,hiddenNodeKeySet:a,doFilter:r,isForceHiddenExpandIcon:s}}function mg(e,t){const a=K(new Set(e.defaultExpandedKeys)),n=K(),o=jt();ge(()=>e.currentNodeKey,F=>{n.value=F},{immediate:!0}),ge(()=>e.data,F=>{x(F)},{immediate:!0});const{isIndeterminate:r,isChecked:s,toggleCheckbox:i,getCheckedKeys:d,getCheckedNodes:f,getHalfCheckedKeys:p,getHalfCheckedNodes:u,setChecked:c,setCheckedKeys:v}=hg(e,o),{doFilter:g,hiddenNodeKeySet:h,isForceHiddenExpandIcon:b}=vg(e,o),y=k(()=>{var F;return((F=e.props)==null?void 0:F.value)||Tn.KEY}),C=k(()=>{var F;return((F=e.props)==null?void 0:F.children)||Tn.CHILDREN}),m=k(()=>{var F;return((F=e.props)==null?void 0:F.disabled)||Tn.DISABLED}),N=k(()=>{var F;return((F=e.props)==null?void 0:F.label)||Tn.LABEL}),I=k(()=>{const F=a.value,_=h.value,Z=[],pe=o.value&&o.value.treeNodes||[];function ye(){const Oe=[];for(let Ne=pe.length-1;Ne>=0;--Ne)Oe.push(pe[Ne]);for(;Oe.length;){const Ne=Oe.pop();if(Ne&&(_.has(Ne.key)||Z.push(Ne),F.has(Ne.key))){const Ae=Ne.children;if(Ae){const Ye=Ae.length;for(let Ce=Ye-1;Ce>=0;--Ce)Oe.push(Ae[Ce])}}}}return ye(),Z}),E=k(()=>I.value.length>0);function H(F){const _=new Map,Z=new Map;let pe=1;function ye(Ne,Ae=1,Ye=void 0){var Ce;const rt=[];for(const ze of Ne){const Xe=W(ze),We={level:Ae,key:Xe,data:ze};We.label=B(ze),We.parent=Ye;const ht=R(ze);We.disabled=Y(ze),We.isLeaf=!ht||ht.length===0,ht&&ht.length&&(We.children=ye(ht,Ae+1,We)),rt.push(We),_.set(Xe,We),Z.has(Ae)||Z.set(Ae,[]),(Ce=Z.get(Ae))==null||Ce.push(We)}return Ae>pe&&(pe=Ae),rt}const Oe=ye(F);return{treeNodeMap:_,levelTreeNodeMap:Z,maxLevel:pe,treeNodes:Oe}}function P(F){const _=g(F);_&&(a.value=_)}function R(F){return F[C.value]}function W(F){return F?F[y.value]:""}function Y(F){return F[m.value]}function B(F){return F[N.value]}function T(F){a.value.has(F.key)?D(F):M(F)}function z(F){a.value=new Set(F)}function oe(F,_){t(yr,F.data,F,_),q(F),e.expandOnClickNode&&T(F),e.showCheckbox&&e.checkOnClickNode&&!F.disabled&&i(F,!s(F),!0)}function q(F){V(F)||(n.value=F.key,t(wr,F.data,F))}function O(F,_){i(F,_)}function M(F){const _=a.value;if(o.value&&e.accordion){const{treeNodeMap:Z}=o.value;_.forEach(pe=>{const ye=Z.get(pe);F&&F.level===(ye==null?void 0:ye.level)&&_.delete(pe)})}_.add(F.key),t(kr,F.data,F)}function D(F){a.value.delete(F.key),t(Cr,F.data,F)}function U(F){return a.value.has(F.key)}function J(F){return!!F.disabled}function V(F){const _=n.value;return!!_&&_===F.key}function L(){var F,_;if(n.value)return(_=(F=o.value)==null?void 0:F.treeNodeMap.get(n.value))==null?void 0:_.data}function se(){return n.value}function ie(F){n.value=F}function x(F){Ee(()=>o.value=H(F))}function Q(F){var _;const Z=Vt(F)?W(F):F;return(_=o.value)==null?void 0:_.treeNodeMap.get(Z)}return{tree:o,flattenTree:I,isNotEmpty:E,getKey:W,getChildren:R,toggleExpand:T,toggleCheckbox:i,isExpanded:U,isChecked:s,isIndeterminate:r,isDisabled:J,isCurrent:V,isForceHiddenExpandIcon:b,handleNodeClick:oe,handleNodeCheck:O,getCurrentNode:L,getCurrentKey:se,setCurrentKey:ie,getCheckedKeys:d,getCheckedNodes:f,getHalfCheckedKeys:p,getHalfCheckedNodes:u,setChecked:c,setCheckedKeys:v,filter:P,setData:x,getNode:Q,expandNode:M,collapseNode:D,setExpandedKeys:z}}var gg=ce({name:"ElTreeNodeContent",props:cg,setup(e){const t=xe(no),a=be("tree");return()=>{const n=e.node,{data:o}=n;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:n,data:o}):vt("span",{class:a.be("node","label")},[n==null?void 0:n.label])}}});const bg=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],yg=ce({name:"ElTreeNode"}),kg=ce({...yg,props:dg,emits:pg,setup(e,{emit:t}){const a=e,n=xe(no),o=be("tree"),r=k(()=>{var u;return(u=n==null?void 0:n.props.indent)!=null?u:16}),s=k(()=>{var u;return(u=n==null?void 0:n.props.icon)!=null?u:rs}),i=u=>{t("click",a.node,u)},d=()=>{t("toggle",a.node)},f=u=>{t("check",a.node,u)},p=u=>{var c,v,g,h;(g=(v=(c=n==null?void 0:n.instance)==null?void 0:c.vnode)==null?void 0:v.props)!=null&&g.onNodeContextmenu&&(u.stopPropagation(),u.preventDefault()),n==null||n.ctx.emit($r,u,(h=a.node)==null?void 0:h.data,a.node)};return(u,c)=>{var v,g,h;return $(),j("div",{ref:"node$",class:w([l(o).b("node"),l(o).is("expanded",u.expanded),l(o).is("current",u.current),l(o).is("focusable",!u.disabled),l(o).is("checked",!u.disabled&&u.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":u.expanded,"aria-disabled":u.disabled,"aria-checked":u.checked,"data-key":(v=u.node)==null?void 0:v.key,onClick:we(i,["stop"]),onContextmenu:p},[ee("div",{class:w(l(o).be("node","content")),style:De({paddingLeft:`${(u.node.level-1)*l(r)}px`,height:u.itemSize+"px"})},[l(s)?($(),de(l(Te),{key:0,class:w([l(o).is("leaf",!!((g=u.node)!=null&&g.isLeaf)),l(o).is("hidden",u.hiddenExpandIcon),{expanded:!((h=u.node)!=null&&h.isLeaf)&&u.expanded},l(o).be("node","expand-icon")]),onClick:we(d,["stop"])},{default:le(()=>[($(),de(ot(l(s))))]),_:1},8,["class","onClick"])):ue("v-if",!0),u.showCheckbox?($(),de(l(nn),{key:1,"model-value":u.checked,indeterminate:u.indeterminate,disabled:u.disabled,onChange:f,onClick:c[0]||(c[0]=we(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):ue("v-if",!0),G(l(gg),{node:u.node},null,8,["node"])],6)],42,bg)}}});var Cg=Ve(kg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree-node.vue"]]);const wg=ce({name:"ElTreeV2"}),Sg=ce({...wg,props:ug,emits:fg,setup(e,{expose:t,emit:a}){const n=e,o=ln(),r=k(()=>n.itemSize);at(no,{ctx:{emit:a,slots:o},props:n,instance:kt()}),at(bn,void 0);const{t:s}=et(),i=be("tree"),{flattenTree:d,isNotEmpty:f,toggleExpand:p,isExpanded:u,isIndeterminate:c,isChecked:v,isDisabled:g,isCurrent:h,isForceHiddenExpandIcon:b,handleNodeClick:y,handleNodeCheck:C,toggleCheckbox:m,getCurrentNode:N,getCurrentKey:I,setCurrentKey:E,getCheckedKeys:H,getCheckedNodes:P,getHalfCheckedKeys:R,getHalfCheckedNodes:W,setChecked:Y,setCheckedKeys:B,filter:T,setData:z,getNode:oe,expandNode:q,collapseNode:O,setExpandedKeys:M}=mg(n,a);return t({toggleCheckbox:m,getCurrentNode:N,getCurrentKey:I,setCurrentKey:E,getCheckedKeys:H,getCheckedNodes:P,getHalfCheckedKeys:R,getHalfCheckedNodes:W,setChecked:Y,setCheckedKeys:B,filter:T,setData:z,getNode:oe,expandNode:q,collapseNode:O,setExpandedKeys:M}),(D,U)=>{var J;return $(),j("div",{class:w([l(i).b(),{[l(i).m("highlight-current")]:D.highlightCurrent}]),role:"tree"},[l(f)?($(),de(l(ur),{key:0,"class-name":l(i).b("virtual-list"),data:l(d),total:l(d).length,height:D.height,"item-size":l(r),"perf-mode":D.perfMode},{default:le(({data:V,index:L,style:se})=>[($(),de(Cg,{key:V[L].key,style:De(se),node:V[L],expanded:l(u)(V[L]),"show-checkbox":D.showCheckbox,checked:l(v)(V[L]),indeterminate:l(c)(V[L]),"item-size":l(r),disabled:l(g)(V[L]),current:l(h)(V[L]),"hidden-expand-icon":l(b)(V[L]),onClick:l(y),onToggle:l(p),onCheck:l(C)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):($(),j("div",{key:1,class:w(l(i).e("empty-block"))},[ee("span",{class:w(l(i).e("empty-text"))},me((J=D.emptyText)!=null?J:l(s)("el.tree.emptyText")),3)],2))],2)}}});var Ng=Ve(Sg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-v2/src/tree.vue"]]);const $g=Et(Ng),Er=Symbol("uploadContextKey"),Eg="ElUpload";class Tg extends Error{constructor(t,a,n,o){super(t),this.name="UploadAjaxError",this.status=a,this.method=n,this.url=o}}function qo(e,t,a){let n;return a.response?n=`${a.response.error||a.response}`:a.responseText?n=`${a.responseText}`:n=`fail to ${t.method} ${e} ${a.status}`,new Tg(n,a.status,t.method,e)}function Vg(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const Mg=e=>{typeof XMLHttpRequest>"u"&&Nn(Eg,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,a=e.action;t.upload&&t.upload.addEventListener("progress",r=>{const s=r;s.percent=r.total>0?r.loaded/r.total*100:0,e.onProgress(s)});const n=new FormData;if(e.data)for(const[r,s]of Object.entries(e.data))Array.isArray(s)?n.append(r,...s):n.append(r,s);n.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(qo(a,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(qo(a,e,t));e.onSuccess(Vg(t))}),t.open(e.method,a,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const o=e.headers||{};if(o instanceof Headers)o.forEach((r,s)=>t.setRequestHeader(s,r));else for(const[r,s]of Object.entries(o))$t(s)||t.setRequestHeader(r,String(s));return t.send(n),t},Tr=["text","picture","picture-card"];let Og=1;const Al=()=>Date.now()+Og++,Vr=Se({action:{type:String,default:"#"},headers:{type:re(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>dt({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:re(Array),default:()=>dt([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Tr,default:"text"},httpRequest:{type:re(Function),default:Mg},disabled:Boolean,limit:Number}),Dg=Se({...Vr,beforeUpload:{type:re(Function),default:it},beforeRemove:{type:re(Function)},onRemove:{type:re(Function),default:it},onChange:{type:re(Function),default:it},onPreview:{type:re(Function),default:it},onSuccess:{type:re(Function),default:it},onProgress:{type:re(Function),default:it},onError:{type:re(Function),default:it},onExceed:{type:re(Function),default:it}}),Ig=Se({files:{type:re(Array),default:()=>dt([])},disabled:{type:Boolean,default:!1},handlePreview:{type:re(Function),default:it},listType:{type:String,values:Tr,default:"text"}}),Pg={remove:e=>!!e},Ag=["onKeydown"],Fg=["src"],Rg=["onClick"],Lg=["onClick"],Bg=["onClick"],_g=ce({name:"ElUploadList"}),Kg=ce({..._g,props:Ig,emits:Pg,setup(e,{emit:t}){const{t:a}=et(),n=be("upload"),o=be("icon"),r=be("list"),s=qt(),i=K(!1),d=f=>{t("remove",f)};return(f,p)=>($(),de(Qo,{tag:"ul",class:w([l(n).b("list"),l(n).bm("list",f.listType),l(n).is("disabled",l(s))]),name:l(r).b()},{default:le(()=>[($(!0),j($e,null,Ke(f.files,u=>($(),j("li",{key:u.uid||u.name,class:w([l(n).be("list","item"),l(n).is(u.status),{focusing:i.value}]),tabindex:"0",onKeydown:Ue(c=>!l(s)&&d(u),["delete"]),onFocus:p[0]||(p[0]=c=>i.value=!0),onBlur:p[1]||(p[1]=c=>i.value=!1),onClick:p[2]||(p[2]=c=>i.value=!1)},[Ie(f.$slots,"default",{file:u},()=>[f.listType==="picture"||u.status!=="uploading"&&f.listType==="picture-card"?($(),j("img",{key:0,class:w(l(n).be("list","item-thumbnail")),src:u.url,alt:""},null,10,Fg)):ue("v-if",!0),u.status==="uploading"||f.listType!=="picture-card"?($(),j("div",{key:1,class:w(l(n).be("list","item-info"))},[ee("a",{class:w(l(n).be("list","item-name")),onClick:we(c=>f.handlePreview(u),["prevent"])},[G(l(Te),{class:w(l(o).m("document"))},{default:le(()=>[G(l(ai))]),_:1},8,["class"]),ee("span",{class:w(l(n).be("list","item-file-name"))},me(u.name),3)],10,Rg),u.status==="uploading"?($(),de(l(Uh),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(u.percentage),style:De(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ue("v-if",!0)],2)):ue("v-if",!0),ee("label",{class:w(l(n).be("list","item-status-label"))},[f.listType==="text"?($(),de(l(Te),{key:0,class:w([l(o).m("upload-success"),l(o).m("circle-check")])},{default:le(()=>[G(l(os))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?($(),de(l(Te),{key:1,class:w([l(o).m("upload-success"),l(o).m("check")])},{default:le(()=>[G(l(Oa))]),_:1},8,["class"])):ue("v-if",!0)],2),l(s)?ue("v-if",!0):($(),de(l(Te),{key:2,class:w(l(o).m("close")),onClick:c=>d(u)},{default:le(()=>[G(l(xl))]),_:2},1032,["class","onClick"])),ue(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ue(" This is a bug which needs to be fixed "),ue(" TODO: Fix the incorrect navigation interaction "),l(s)?ue("v-if",!0):($(),j("i",{key:3,class:w(l(o).m("close-tip"))},me(l(a)("el.upload.deleteTip")),3)),f.listType==="picture-card"?($(),j("span",{key:4,class:w(l(n).be("list","item-actions"))},[ee("span",{class:w(l(n).be("list","item-preview")),onClick:c=>f.handlePreview(u)},[G(l(Te),{class:w(l(o).m("zoom-in"))},{default:le(()=>[G(l(li))]),_:1},8,["class"])],10,Lg),l(s)?ue("v-if",!0):($(),j("span",{key:0,class:w(l(n).be("list","item-delete")),onClick:c=>d(u)},[G(l(Te),{class:w(l(o).m("delete"))},{default:le(()=>[G(l(oi))]),_:1},8,["class"])],10,Bg))],2)):ue("v-if",!0)])],42,Ag))),128)),Ie(f.$slots,"append")]),_:3},8,["class","name"]))}});var Uo=Ve(Kg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const xg=Se({disabled:{type:Boolean,default:!1}}),zg={file:e=>Re(e)},jg=["onDrop","onDragover"],Mr="ElUploadDrag",Hg=ce({name:Mr}),qg=ce({...Hg,props:xg,emits:zg,setup(e,{emit:t}){const a=xe(Er);a||Nn(Mr,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=be("upload"),o=K(!1),r=qt(),s=d=>{if(r.value)return;o.value=!1,d.stopPropagation();const f=Array.from(d.dataTransfer.files),p=a.accept.value;if(!p){t("file",f);return}const u=f.filter(c=>{const{type:v,name:g}=c,h=g.includes(".")?`.${g.split(".").pop()}`:"",b=v.replace(/\/.*$/,"");return p.split(",").map(y=>y.trim()).filter(y=>y).some(y=>y.startsWith(".")?h===y:/\/\*$/.test(y)?b===y.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(y)?v===y:!1)});t("file",u)},i=()=>{r.value||(o.value=!0)};return(d,f)=>($(),j("div",{class:w([l(n).b("dragger"),l(n).is("dragover",o.value)]),onDrop:we(s,["prevent"]),onDragover:we(i,["prevent"]),onDragleave:f[0]||(f[0]=we(p=>o.value=!1,["prevent"]))},[Ie(d.$slots,"default")],42,jg))}});var Ug=Ve(qg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const Wg=Se({...Vr,beforeUpload:{type:re(Function),default:it},onRemove:{type:re(Function),default:it},onStart:{type:re(Function),default:it},onSuccess:{type:re(Function),default:it},onProgress:{type:re(Function),default:it},onError:{type:re(Function),default:it},onExceed:{type:re(Function),default:it}}),Yg=["onKeydown"],Gg=["name","multiple","accept"],Xg=ce({name:"ElUploadContent",inheritAttrs:!1}),Zg=ce({...Xg,props:Wg,setup(e,{expose:t}){const a=e,n=be("upload"),o=qt(),r=jt({}),s=jt(),i=g=>{if(g.length===0)return;const{autoUpload:h,limit:b,fileList:y,multiple:C,onStart:m,onExceed:N}=a;if(b&&y.length+g.length>b){N(g,y);return}C||(g=g.slice(0,1));for(const I of g){const E=I;E.uid=Al(),m(E),h&&d(E)}},d=async g=>{if(s.value.value="",!a.beforeUpload)return f(g);let h,b={};try{const C=a.beforeUpload(g);b=Vt(a.data)?Wl(a.data):a.data,h=await C}catch{h=!1}if(h===!1){a.onRemove(g);return}let y=g;h instanceof Blob&&(h instanceof File?y=h:y=new File([h],g.name,{type:g.type})),f(Object.assign(y,{uid:g.uid}),b)},f=(g,h)=>{const{headers:b,data:y,method:C,withCredentials:m,name:N,action:I,onProgress:E,onSuccess:H,onError:P,httpRequest:R}=a,{uid:W}=g,Y={headers:b||{},withCredentials:m,file:g,data:h??y,method:C,filename:N,action:I,onProgress:T=>{E(T,g)},onSuccess:T=>{H(T,g),delete r.value[W]},onError:T=>{P(T,g),delete r.value[W]}},B=R(Y);r.value[W]=B,B instanceof Promise&&B.then(Y.onSuccess,Y.onError)},p=g=>{const h=g.target.files;h&&i(Array.from(h))},u=()=>{o.value||(s.value.value="",s.value.click())},c=()=>{u()};return t({abort:g=>{si(r.value).filter(g?([b])=>String(g.uid)===b:()=>!0).forEach(([b,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete r.value[b]})},upload:d}),(g,h)=>($(),j("div",{class:w([l(n).b(),l(n).m(g.listType),l(n).is("drag",g.drag)]),tabindex:"0",onClick:u,onKeydown:Ue(we(c,["self"]),["enter","space"])},[g.drag?($(),de(Ug,{key:0,disabled:l(o),onFile:i},{default:le(()=>[Ie(g.$slots,"default")]),_:3},8,["disabled"])):Ie(g.$slots,"default",{key:1}),ee("input",{ref_key:"inputRef",ref:s,class:w(l(n).e("input")),name:g.name,multiple:g.multiple,accept:g.accept,type:"file",onChange:p,onClick:h[0]||(h[0]=we(()=>{},["stop"]))},null,42,Gg)],42,Yg))}});var Wo=Ve(Zg,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const Yo="ElUpload",Jg=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Qg=(e,t)=>{const a=ri(e,"fileList",void 0,{passive:!0}),n=c=>a.value.find(v=>v.uid===c.uid);function o(c){var v;(v=t.value)==null||v.abort(c)}function r(c=["ready","uploading","success","fail"]){a.value=a.value.filter(v=>!c.includes(v.status))}const s=(c,v)=>{const g=n(v);g&&(console.error(c),g.status="fail",a.value.splice(a.value.indexOf(g),1),e.onError(c,g,a.value),e.onChange(g,a.value))},i=(c,v)=>{const g=n(v);g&&(e.onProgress(c,g,a.value),g.status="uploading",g.percentage=Math.round(c.percent))},d=(c,v)=>{const g=n(v);g&&(g.status="success",g.response=c,e.onSuccess(c,g,a.value),e.onChange(g,a.value))},f=c=>{$t(c.uid)&&(c.uid=Al());const v={name:c.name,percentage:0,status:"ready",size:c.size,raw:c,uid:c.uid};if(e.listType==="picture-card"||e.listType==="picture")try{v.url=URL.createObjectURL(c)}catch(g){yt(Yo,g.message),e.onError(g,v,a.value)}a.value=[...a.value,v],e.onChange(v,a.value)},p=async c=>{const v=c instanceof File?n(c):c;v||Nn(Yo,"file to be removed not found");const g=h=>{o(h);const b=a.value;b.splice(b.indexOf(h),1),e.onRemove(h,b),Jg(h)};e.beforeRemove?await e.beforeRemove(v,a.value)!==!1&&g(v):g(v)};function u(){a.value.filter(({status:c})=>c==="ready").forEach(({raw:c})=>{var v;return c&&((v=t.value)==null?void 0:v.upload(c))})}return ge(()=>e.listType,c=>{c!=="picture-card"&&c!=="picture"||(a.value=a.value.map(v=>{const{raw:g,url:h}=v;if(!h&&g)try{v.url=URL.createObjectURL(g)}catch(b){e.onError(b,v,a.value)}return v}))}),ge(a,c=>{for(const v of c)v.uid||(v.uid=Al()),v.status||(v.status="success")},{immediate:!0,deep:!0}),{uploadFiles:a,abort:o,clearFiles:r,handleError:s,handleProgress:i,handleStart:f,handleSuccess:d,handleRemove:p,submit:u}},eb=ce({name:"ElUpload"}),tb=ce({...eb,props:Dg,setup(e,{expose:t}){const a=e,n=ln(),o=qt(),r=jt(),{abort:s,submit:i,clearFiles:d,uploadFiles:f,handleStart:p,handleError:u,handleRemove:c,handleSuccess:v,handleProgress:g}=Qg(a,r),h=k(()=>a.listType==="picture-card"),b=k(()=>({...a,fileList:f.value,onStart:p,onProgress:g,onSuccess:v,onError:u,onRemove:c}));return Sa(()=>{f.value.forEach(({url:y})=>{y!=null&&y.startsWith("blob:")&&URL.revokeObjectURL(y)})}),at(Er,{accept:en(a,"accept")}),t({abort:s,submit:i,clearFiles:d,handleStart:p,handleRemove:c}),(y,C)=>($(),j("div",null,[l(h)&&y.showFileList?($(),de(Uo,{key:0,disabled:l(o),"list-type":y.listType,files:l(f),"handle-preview":y.onPreview,onRemove:l(c)},Za({append:le(()=>[G(Wo,bt({ref_key:"uploadRef",ref:r},l(b)),{default:le(()=>[l(n).trigger?Ie(y.$slots,"trigger",{key:0}):ue("v-if",!0),!l(n).trigger&&l(n).default?Ie(y.$slots,"default",{key:1}):ue("v-if",!0)]),_:3},16)]),_:2},[y.$slots.file?{name:"default",fn:le(({file:m})=>[Ie(y.$slots,"file",{file:m})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ue("v-if",!0),!l(h)||l(h)&&!y.showFileList?($(),de(Wo,bt({key:1,ref_key:"uploadRef",ref:r},l(b)),{default:le(()=>[l(n).trigger?Ie(y.$slots,"trigger",{key:0}):ue("v-if",!0),!l(n).trigger&&l(n).default?Ie(y.$slots,"default",{key:1}):ue("v-if",!0)]),_:3},16)):ue("v-if",!0),y.$slots.trigger?Ie(y.$slots,"default",{key:2}):ue("v-if",!0),Ie(y.$slots,"tip"),!l(h)&&y.showFileList?($(),de(Uo,{key:3,disabled:l(o),"list-type":y.listType,files:l(f),"handle-preview":y.onPreview,onRemove:l(c)},Za({_:2},[y.$slots.file?{name:"default",fn:le(({file:m})=>[Ie(y.$slots,"file",{file:m})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):ue("v-if",!0)]))}});var nb=Ve(tb,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const ab=Et(nb),Or=()=>({model:Object,rules:{type:Object},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:{type:String,values:Rl},disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1},scrollToError:Boolean}),lb=()=>({propsList:{type:Array,default:()=>[],required:!0},formData:{type:Object,default:()=>({})},isCol:{type:Boolean,default:!1},rowProps:{type:Object,default:()=>({})},colProps:{type:Object,default:()=>({xs:24,sm:12,md:12,lg:12,xl:12})},...Or()});const ob={Radio:To,Checkbox:Qa,CheckboxButton:Qa,Input:St,Autocomplete:gc,InputNumber:Xs,Select:kn,Cascader:Mf,Switch:ii,Slider:ym,TimePicker:Lc,DatePicker:Mh,Rate:ev,ColorPicker:mp,Transfer:Km,TimeSelect:$m,SelectV2:jv,RadioButton:To,Upload:ab,Tree:eg,TreeSelect:rg,TreeV2:$g};function sb(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!jl(e)}const rb=()=>({renderSelectOptions:function(t){const{options:a,optionsAlias:n}=t;if(an(a)){const o=fn(n)&&n.label,r=fn(n)&&n.value;return G($e,null,[a.map((s,i)=>{let d;return Array.isArray(s.options)&&s.options.length?G(Di,{label:"label"in s?String(s.label):"",disabled:s.disabled},sb(d=s.options.map((f,p)=>G(ma,{label:o?f[o]:f.label,value:r?f[pa(r)?r(f):r]:f.value,disabled:f.disabled,key:p},{default:()=>o?f[o]:f.label,...f.componentSlots?f.componentSlots:{}})))?d:{default:()=>[d]}):G(ma,{label:o?s[o]:s.label,value:r?s[pa(r)?r(s):r]:s.value,disabled:s.disabled,key:i},{default:()=>o?s[o]:s.label,...s.componentSlots?s.componentSlots:{}})})])}}});const ib=()=>({renderCheckboxOptions:function(t){const{options:a,optionsAlias:n,componentProps:o}=t,r=fn(o)?o.checkboxProps:{};if(an(a)){const s=fn(n)&&n.label,i=fn(n)&&n.value;let d=null;switch(t.component){case"Checkbox":d=nn;break;case"CheckboxButton":d=Ii;break;case"Radio":d=xs;break;case"RadioButton":d=ef;break;default:d=nn}const f=fn(r)?r:{};return G($e,null,[a.map((p,u)=>G(d,bt({label:i?p[pa(i)?i(p):i]:p.value,disabled:p.disabled,key:u},f),{default:()=>s?p[s]:p.label,...p.componentSlots?p.componentSlots:{}}))])}}}),ub=()=>({renderUpload:function(t){return G($e,null,[G(Ht,{icon:Pi({icon:"ep:upload"})},{default:()=>[ct("点击上传")]})])}});function db(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!jl(e)}function Go(e,t){if(!zt(e))return G($e,null,null);const{render:a,component:n,prop:o,noRenderFormItem:r,isHidden:s}=e,i=r?"div":ic;if(ui(a)){let d;return G(i,Xo(e),db(d=a(t))?d:{default:()=>[d]})}if(ho(n)&&ho(o)){const d=ob[n];return _e(G(i,Xo(e),{default:()=>n==="Upload"?G(d,bt({fileList:t.formData[o],"onUpdate:fileList":f=>t.formData[o]=f,ref:f=>{f&&(t.ComRefs.value[o+"Ref"]=f)}},Xa(e)),{...Ga(e)}):n==="Tree"?G(d,bt({data:t.formData[o],modelValue:t.formData[o],"onUpdate:modelValue":f=>t.formData[o]=f,ref:f=>{f&&(t.ComRefs.value[o+"Ref"]=f)}},Xa(e)),{...Ga(e)}):G(d,bt({modelValue:t.formData[o],"onUpdate:modelValue":f=>t.formData[o]=f,ref:f=>{f&&(t.ComRefs.value[o+"Ref"]=f)}},Xa(e)),{...Ga(e)})}),[[lt,!s]])}}function Ga(e){const{renderSelectOptions:t}=rb(),{renderCheckboxOptions:a}=ib(),{renderUpload:n}=ub();if(zt(e)){const{component:o,componentSlots:r}=e,s=zt(r)?r:{};if(o)switch(o){case"Select":return{default:()=>t(e),...s};case"Radio":case"RadioButton":case"CheckboxButton":case"Checkbox":return{default:()=>a(e)};case"Upload":return{default:()=>n(e),...s};default:return s}}return{}}function Xa(e,t){const{component:a,componentProps:n,label:o}=e,r=zt(n)?{...n}:{},s=Da(Object.entries(r).filter(i=>!["checkboxProps"].includes(i[0])));switch(a){case"Select":return{clearable:!0,placeholder:`请选择${o}`,filterable:!0,"no-data-text":`暂无${o||"列表"}数据`,"no-match-text":`暂无${o||"搜索"}数据`,...s};case"Input":return{clearable:!0,placeholder:`请输入${o}`,...s};case"Autocomplete":return{clearable:!0,placeholder:`请输入${o}`,...s};case"Cascader":return{clearable:!0,placeholder:`请选择${o}`,filterable:!0,...s};case"SelectV2":return{clearable:!0,placeholder:`请选择${o}`,filterable:!0,...s,options:Array.isArray(s.options)?s.options:[]};default:return{placeholder:`请输入${o}`,...s}}}function cb(e){return an(e)?Da(e.filter(({prop:t})=>t).map(({prop:t,defaultValue:a})=>[t,a])):{}}function Xo(e){if(zt(e)){const{label:t,prop:a}=e;return zt(e.formItemProps)?{label:t,prop:a,...Da(Object.entries(e.formItemProps))}:{label:t,prop:a}}return{}}function fb(e){const t=Object.keys(Or());return Da(Object.entries(e).filter(a=>t.includes(a[0])))}function pb(e){return zt(e)?e:{}}function hb(e){const t={gutter:20};return zt(e)?{...t,...e}:t}function Zo(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!jl(e)}const Cb=ce({name:"Form",inheritAttrs:!1,props:lb(),setup(e,t){const a=be("base-form"),{attrs:n,expose:o}=t,{propsList:r,formData:s}=Mt(e),i=K(),d=K({}),f=k(()=>Array.isArray(l(r))?nt(l(r)):[]),p=nt({...cb(l(f)),...l(s)}),u=()=>{l(f).forEach(g=>{const{api:h,prop:b}=g;pa(h)&&di(b)&&h().then(async y=>{ro(g,"options",y)})})},c=g=>{if(an(g)){const h=new Map;g.map(b=>h.set(b.field,b)),l(f).forEach(b=>{if(b.prop&&h.has(b.prop)){const y=h.get(b.prop);ro(b,y.path,y.value)}})}},v=()=>l(d);return ut(()=>{u()}),o({ElFormRef:i,formData:p,setSchema:c,getComponentRef:v}),()=>{let g;return G($e,null,[G(rc,bt(fb(e),n,{model:p,ref:i,class:a.b()}),{default:()=>[e.isCol?G(Rf,hb(e.rowProps),Zo(g=l(f).map(h=>{let b;return _e(G(xf,bt({class:a.e("col")},{...e.colProps,...pb(h.colProps)}),Zo(b=Go(h,{formData:p,ElFormRef:i,ComRefs:d}))?b:{default:()=>[b]}),[[lt,!h.isHidden]])}))?g:{default:()=>[g]}):l(f).map(h=>Go(h,{formData:p,ElFormRef:i,ComRefs:d}))]})])}}});export{Cb as F};
