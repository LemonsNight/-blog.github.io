import{F as C}from"./Form-72afa917.js";import{searchProps as v,propsList as E}from"./index-57d9346d.js";import{d as F,u as L,r as _,D as I,c as r,E as i,b as d,a as e,L as b,M as f,o as P,m as B,q as D,t as M,e as N,w as S,F as V}from"./index-36a39b66.js";import{u as h}from"./index-c9c24c0b.js";import"./input-e57dd199.js";import"./select-95c299ce.js";import"./index-59f35d83.js";const x=1+1,$=F({name:"SearchForm"}),j=F({...$,props:{propsList:null},setup(R){const l=R,a=L("search-form"),t=_(),s=_(!1);function c(){const o=e(t).ElFormRef;return new Promise((n,u)=>{o.validate((w,y)=>{var g;w?n((g=e(t))==null?void 0:g.formData):u(y)})})}function p(){e(t).ElFormRef.resetFields()}function k(){var n;s.value=!e(s);const o=m.value.slice(x,1/0).map(({prop:u})=>({field:u,path:"isHidden",value:e(s)}));(n=e(t))==null||n.setSchema(o)}const m=I(()=>[...l.propsList,{render(){return r("aside",{class:[a.e("submit")]},[r(i,{type:"primary",icon:h({icon:"ep:search"}),onClick:()=>c()},{default:()=>[d("搜素")]}),r(i,{icon:h({icon:"ep:refresh"}),onClick:()=>p()},{default:()=>[d("重置")]}),m.value.length>x+1&&r(i,{text:!0,onClick:()=>{k()}},{default:()=>[r("span",null,[e(s)?"展开":"合并"]),r(b,{class:"ml-1",icon:e(s)?"ep:arrow-down":"ep:arrow-up"},null)]})])},colProps:{xs:24,sm:24,md:24,lg:24,xl:24}}].map(o=>({...o,componentProps:{class:"w-full",...f(o.componentProps)?o.componentProps:{}},formItemProps:{class:"w-full",...f(o.formItemProps)?o.formItemProps:{}},colProps:f(o.colProps)?o.colProps:{xs:24,sm:12,md:12,lg:8,xl:6}})));return(o,n)=>e(m).length>1?(P(),B(e(C),{key:0,inline:"","is-col":!0,class:D(e(a).b()),"props-list":e(m),ref_key:"FormRef",ref:t},null,8,["class","props-list"])):M("",!0)}});const J=F({__name:"Form",setup(R){const l=_(),a=()=>{var s,c,p;const t=(s=e(l))==null?void 0:s.getComponentRef();(p=(c=e(t))==null?void 0:c.AutocompleteRef)==null||p.focus()};return(t,s)=>(P(),N(V,null,[r(j,{"props-list":e(v)},null,8,["props-list"]),r(e(i),{onClick:a},{default:S(()=>[d("使用Ref设置焦点")]),_:1}),r(e(C),{ref_key:"FormRef",ref:l,"props-list":e(E)},null,8,["props-list"])],64))}});export{J as default};
